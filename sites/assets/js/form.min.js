(function () {
	'use strict';

	frappe.templates['address_list'] = '<div class="clearfix"></div> {% for(var i=0, l=addr_list.length; i<l; i++) { %} <div class="address-box">  <p class="h6">   {%= i+1 %}. {%= addr_list[i].address_title %}{% if(addr_list[i].address_type!="Other") { %}   <span class="text-muted">({%= __(addr_list[i].address_type) %})</span>{% } %}   {% if(addr_list[i].is_primary_address) { %}   <span class="text-muted">({%= __("Primary") %})</span>{% } %}   {% if(addr_list[i].is_shipping_address) { %}   <span class="text-muted">({%= __("Shipping") %})</span>{% } %}    <a href="/app/Form/Address/{%= encodeURIComponent(addr_list[i].name) %}" class="btn btn-default btn-xs pull-right"    style="margin-top:-3px; margin-right: -5px;">    {%= __("Edit") %}</a>  </p>  <p>{%= addr_list[i].display %}</p> </div> {% } %} {% if(!addr_list.length) { %} <p class="text-muted small">{%= __("No address added yet.") %}</p> {% } %} <p><button class="btn btn-xs btn-default btn-address">{{ __("New Address") }}</button></p>';

	frappe.templates['contact_list'] = '<div class="clearfix"></div> {% for(var i=0, l=contact_list.length; i<l; i++) { %}  <div class="address-box">   <p class="h6 flex align-center">    {%= contact_list[i].first_name %} {%= contact_list[i].last_name %}    {% if(contact_list[i].is_primary_contact) { %}     <span class="text-muted">&nbsp;({%= __("Primary") %})</span>    {% } %}    {% if(contact_list[i].designation){ %}     <span class="text-muted">&ndash; {%= contact_list[i].designation %}</span>    {% } %}    <a href="/app/Form/Contact/{%= encodeURIComponent(contact_list[i].name) %}"     class="btn btn-xs btn-default ml-auto">     {%= __("Edit") %}    </a>   </p>   {% if (contact_list[i].phones || contact_list[i].email_ids) { %}   <p>    {% if(contact_list[i].phone) { %}     {%= __("Phone") %}: {%= contact_list[i].phone %}<span class="text-muted"> ({%= __("Primary") %})</span><br>    {% endif %}    {% if(contact_list[i].mobile_no) { %}     {%= __("Mobile No") %}: {%= contact_list[i].mobile_no %}<span class="text-muted"> ({%= __("Primary") %})</span><br>    {% endif %}    {% if(contact_list[i].phone_nos) { %}     {% for(var j=0, k=contact_list[i].phone_nos.length; j<k; j++) { %}      {%= __("Phone") %}: {%= contact_list[i].phone_nos[j].phone %}<br>     {% } %}    {% endif %}   </p>   <p>    {% if(contact_list[i].email_id) { %}     {%= __("Email") %}: {%= contact_list[i].email_id %}<span class="text-muted"> ({%= __("Primary") %})</span><br>    {% endif %}    {% if(contact_list[i].email_ids) { %}     {% for(var j=0, k=contact_list[i].email_ids.length; j<k; j++) { %}      {%= __("Email") %}: {%= contact_list[i].email_ids[j].email_id %}<br>     {% } %}    {% endif %}   </p>   {% endif %}   <p>   {% if (contact_list[i].address) { %}    {%= __("Address") %}: {%= contact_list[i].address %}<br>   {% endif %}   </p>  </div> {% } %} {% if(!contact_list.length) { %} <p class="text-muted small">{%= __("No contacts added yet.") %}</p> {% } %} <p><button class="btn btn-xs btn-default btn-contact">  {{ __("New Contact") }}</button> </p>';

	frappe.templates['form_dashboard'] = '<div class="form-dashboard-wrapper">  <div class="progress-area hidden form-dashboard-section">  </div>  <div class="form-heatmap hidden form-dashboard-section">   <div class="section-head">{{ __("Overview") }}</div>   <div id="heatmap-{{ frappe.model.scrub(frm.doctype) }}" class="heatmap"></div>   <div class="text-muted small heatmap-message hidden"></div>  </div>  <div class="form-graph form-dashboard-section hidden">   <div class="section-head">{{ __("Graph") }}</div>  </div>  <div class="form-stats form-dashboard-section hidden">   <div class="section-head">{{ __("Stats") }}</div>   <div class="row"></div>  </div>  <div class="form-links form-dashboard-section hidden">   <div class="section-head">{{ __("Documents") }}</div>   <div class="transactions"></div>  </div> </div>';

	frappe.templates['form_footer'] = '<div class="form-footer">  <div class="after-save">   <div class="comment-box"></div>   <div class="timeline"></div>  </div>  <button class="scroll-to-top btn btn-default icon-btn" onclick="frappe.utils.scroll_to(0)">   <svg class="icon icon-xs"><use href="#icon-up-line"></use></svg>  </button> </div> ';

	frappe.templates['form_links'] = '<div class="form-documents">  {% for (let i=0; i < transactions.length; i++) { %}   {% if (i % 3 === 0) { %}   <div class="row">   {% } %}    <div class="col-md-4">     <div class="form-link-title">      <span>{{ __(transactions[i].label) }}<span>     </div>     {% for (let j=0; j < transactions[i].items.length; j++) { %}      {% let doctype = transactions[i].items[j]; %}      <div class="document-link" data-doctype="{{ doctype }}">       <div class="document-link-badge" data-doctype="{{ doctype }}">        <span class="count hidden"></span>        <a class="badge-link">{{ __(doctype) }}</a>       </div>       <span class="open-notification hidden"        title="{{ __("Open {0}", [__(doctype)])}}">       </span>       {% if !internal_links[doctype] %}        <button class="btn btn-new btn-secondary btn-xs icon-btn hidden"         data-doctype="{{ doctype }}">         <svg class="icon icon-sm"><use href="#icon-add"></use></svg>        </button>       {% endif %}      </div>     {% } %}    </div>   {% if (i % 3 === 2 || i === (transactions.length - 1)) { %}   </div>   {% } %}  {% } %} </div> ';

	frappe.templates['form_sidebar'] = '<ul class="list-unstyled sidebar-menu user-actions hidden"></ul> <ul class="list-unstyled sidebar-menu sidebar-image-section hide">  <li class="sidebar-image-wrapper">   <img class="sidebar-image">   <div class="sidebar-standard-image">    <div class="standard-image"></div>   </div>   <div class="sidebar-image-actions">    <div class="dropdown">     <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{ __("Change") }}</a>     <div class="dropdown-menu" role="menu">      <a class="dropdown-item sidebar-image-change">{{ __("Upload") }}</a>      <a class="dropdown-item sidebar-image-remove">{{ __("Remove") }}</a>     </div>    </div>   </div>  </li> </ul> {% if frm.meta.beta %} <div class="sidebar-menu">  <p><label class="indicator-pill yellow" title="{{ __("This feature is brand new and still experimental") }}">{{ __("Experimental") }}</label></p>  <p><a class="small text-muted" href="https://github.com/frappe/{{ frappe.boot.module_app[frappe.scrub(frm.meta.module)] }}/issues/new"    target="_blank">   {{ __("Click here to post bugs and suggestions") }}</a></p>  </div> {% endif %} <ul class="list-unstyled sidebar-menu sidebar-rating hide">  <li style="position: relative;">   <a class="strong badge-hover">    <span>{%= __("Feedback") %}</span>   </a>  </li>  <li class="rating-icons"></li> </ul> <ul class="list-unstyled sidebar-menu hidden">  {% if (frappe.help.has_help(doctype)) { %}  <li><a class="help-link list-link" data-doctype="{{ doctype }}">{{ __("Help") }}</a></li>  {% } %} </ul> <ul class="list-unstyled sidebar-menu form-assignments">  <li class="sidebar-label">   <svg class="icon icon-sm"><use href="#icon-assign"></use></svg>   {%= __("Assigned To") %}  </li>  <li class="flex flex-wrap">   <span class="assignments"></span>   <button class="text-muted btn btn-default icon-btn add-assignment-btn">    <svg class="icon icon-sm"><use href="#icon-add"></use></svg>   </button>  </li> </ul> <ul class="list-unstyled sidebar-menu form-attachments">  <li class="sidebar-label attachments-label">   <svg class="icon icon-sm"><use href="#icon-attachment"></use></svg>   {%= __("Attachments") %}  </li>  <li class="add-attachment-btn">   <button class="data-pill btn">    <span class="pill-label ellipsis">     {%= __("Attach File") %}    </span>    <svg class="icon icon-sm">     <use href="#icon-add"></use>    </svg>   </button>  </li> </ul> <ul class="list-unstyled sidebar-menu form-reviews">  <li class="sidebar-label reviews-label">   <svg class="icon icon-sm"><use href="#icon-review"></use></svg>   {%= __("Reviews") %}  </li>  <li class="reviews">   <button class="add-review-btn text-muted btn btn-default icon-btn">    <svg class="icon icon-sm"><use href="#icon-add"></use></svg>   </button>  </li> </ul> <ul class="list-unstyled sidebar-menu form-shared">  <li class="sidebar-label">   <svg class="icon icon-sm"><use href="#icon-share"></use></svg>   {%= __("Shared With") %}  </li>  <li class="flex flex-wrap">   <span class="shares"></span>   <button class="share-doc-btn text-muted btn btn-default icon-btn">    <svg class="icon icon-sm"><use href="#icon-add"></use></svg>   </button>  </li> </ul> <ul class="list-unstyled sidebar-menu followed-by-section">  <li class="sidebar-label followed-by-label hidden">   <svg class="icon icon-sm">    <use href="#icon-link-url" class="like-icon"></use>   </svg>   {%= __("Followed by") %}  </li>  <li class="followed-by"></li>  <li class="document-follow">   <a class="badge-hover follow-document-link hidden">    {%= __("Follow") %}   </a>   <a class="badge-hover unfollow-document-link hidden">    {%= __("Unfollow") %}   </a>  </li> </ul> <ul class="list-unstyled sidebar-menu form-tags">  <li class="sidebar-label tags-label">   <svg class="icon icon-sm"><use href="#icon-tag"></use></svg>   {%= __("Tags") %}  </li> </ul> <ul class="list-unstyled sidebar-menu">  <a><li class="auto-repeat-status"><li></a> </ul> <ul class="list-unstyled sidebar-menu form-sidebar-stats">  <li class="flex">   <div class="form-stats">    <span class="form-stats-likes">     <span class="liked-by like-action">      <svg class="icon icon-sm">       <use href="#icon-heart" class="like-icon"></use>      </svg>      <span class="like-count"></span>     </span>    </span>    <span class="mx-1">Â·</span>    <a class="comments">     <svg class="icon icon-sm">      <use href="#icon-comment" class="comment-icon"></use>     </svg>     <span class="comments-count"></span>    </a>   </div>   <a class="form-follow text-sm">    Follow   </a>  </li> </ul> <hr>  <ul class="list-unstyled sidebar-menu text-muted">  <li class="pageview-count"></li>  <li class="modified-by"></li>  <li class="created-by"></li> </ul> {% if(frappe.get_form_sidebar_extension) { %}  {{ frappe.get_form_sidebar_extension() }} {% } %} ';

	frappe.templates['print_layout'] = ' ';

	frappe.templates['report_links'] = '<div class="form-documents">  {% for (var i=0; i < reports.length; i++) { %}   {% if (i % 3 === 0) { %}   <div class="row">   {% } %}    <div class="col-md-4">     <div class="form-link-title">      <span>{{ __(reports[i].label) }}</span>     </div>     {% for (let j=0; j < reports[i].items.length; j++) { %}      {% let report = reports[i].items[j]; %}      <div class="document-link" data-report="{{ report }}">       <div class="report-link-badge" data-report="{{ report }}">        <a class="report-link">{{ __(report) }}</a>       </div>      </div>     {% } %}    </div>   {% if (i % 3 === 2 || i === (reports.length - 1)) { %}   </div>   {% } %}  {% } %} </div> ';

	frappe.templates['set_sharing'] = '<div>  <div class="row">   <div class="col-xs-4"><h6>{%= __("User") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Read") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Write") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Submit") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Share") %}</h6></div>  </div>   <div class="row shared-user" data-everyone=1>   <div class="col-xs-4 share-all"><b>{{ __("Everyone") }}</b></div>   <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="read"    {% if(cint(everyone.read)) { %}checked{% } %} class="edit-share"></div>   <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="write"    class="edit-share"    {% if(cint(everyone.write)) { %}checked{% } %}    {% if (!frm.perm[0].write){ %} disabled="disabled"{% } %}>   </div>   <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="submit"    class="edit-share"    {% if(cint(everyone.submit)) { %}checked{% } %}    {% if (!frm.perm[0].submit){ %} disabled="disabled"{% } %}>   </div>   <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="share"    {% if(cint(everyone.share)) { %}checked{% } %} class="edit-share"></div>  </div>   {% for (var i=0, l=shared.length; i < l; i++) {   var s = shared[i]; %}   {% if(s && !s.everyone) { %}   <div class="row shared-user" data-user="{%= s.user %}" data-name="{%= s.name %}">    <div class="col-xs-4">{%= s.user %}</div>    <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="read"     {% if(cint(s.read)) { %}checked{% } %} class="edit-share"></div>    <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="write"     {% if(cint(s.write)) { %}checked{% } %} class="edit-share"{% if (!frm.perm[0].write){ %} disabled="disabled"{% } %}></div>    <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="submit"     {% if(cint(s.submit)) { %}checked{% } %} class="edit-share"{% if (!frm.perm[0].submit){ %} disabled="disabled"{% } %}></div>    <div class="col-xs-2 flex justify-center align-center"><input type="checkbox" name="share"     {% if(cint(s.share)) { %}checked{% } %} class="edit-share"></div>   </div>   {% } %}  {% } %}   {% if(frappe.model.can_share(null, frm)) { %}  <hr>   <div class="row">   <div class="col-xs-4"><h6>{%= __("Share this document with") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Read") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Write") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Submit") %}</h6></div>   <div class="col-xs-2 flex justify-center align-center"><h6>{%= __("Can Share") %}</h6></div>  </div>   <div class="row">   <div class="col-xs-4 input-wrapper-add-share"></div>   <div class="col-xs-2 flex justify-center align-flex-start mt-2"><input type="checkbox" class="add-share-read" name="read"></div>   <div class="col-xs-2 flex justify-center align-flex-start mt-2"><input type="checkbox" class="add-share-write" name="write"    {% if (!frm.perm[0].write){ %} disabled="disabled"{% } %}>   </div>   <div class="col-xs-2 flex justify-center align-flex-start mt-2"><input type="checkbox" class="add-share-submit" name="submit"    {% if (!frm.perm[0].submit){ %} disabled="disabled"{% } %}>   </div>   <div class="col-xs-2 flex justify-center align-flex-start mt-2"><input type="checkbox" class="add-share-share" name="share"></div>  </div>  <div>   <button class="btn btn-primary btn-sm btn-add-share mt-3">{{ __("Add") }}</button>  </div>  {% endif %} </div>';

	frappe.templates['timeline_message_box'] = '<div class="timeline-message-box" data-communication-type="{{ doc.communication_type }}">  <span class="flex justify-between">   <span class="text-color flex">    {% if (doc.communication_type && doc.communication_type == "Automated Message") { %}     <span>            {{ __("Notification sent to") }}      {% var recipients = (doc.recipients && doc.recipients.split(",")) || [] %}      {% var cc = (doc.cc && doc.cc.split(",")) || [] %}      {% var bcc = (doc.bcc && doc.bcc.split(",")) || [] %}      {% var emails = recipients.concat(cc, bcc) %}      {% var display_emails_len = Math.min(emails.length, 3) %}       {% for (var i=0, len=display_emails_len; i<len; i++) { var email = emails[i]; %}       {{ frappe.user_info(email).fullname || email }}       {% if (len > i+1) { %}        {{ "," }}       {% } %}      {% } %}       {% if (emails.length > display_emails_len) { %}       {{ "..." }}      {% } %}       <div class="text-muted">       {{ comment_when(doc.creation) }}      </div>     </span>    {% } else if (doc.comment_type && doc.comment_type == "Comment") { %}     <span>      {{ doc.user_full_name || frappe.user.full_name(doc.owner) }} {{ __("commented") }}      <span class="text-muted margin-left">       {{ comment_when(doc.creation) }}      </span>     </span>    {% } else { %}     <span class="margin-right">      {{ frappe.avatar(doc.owner, "avatar-medium") }}     </span>     <span>      {{ doc.user_full_name || frappe.user.full_name(doc.owner) }}      <div class="text-muted">       {{ comment_when(doc.creation) }}      </div>     </span>    {% } %}   </span>   <span class="actions">    {% if (doc._doc_status && doc._doc_status_indicator) { %}    <span class="indicator-pill {%= doc._doc_status_indicator %}"     title="{%= __(doc._doc_status) %}"     style="order: -1">     <span class="hidden-xs small">      {%= __(doc._doc_status) %}     </span>    </span>    {% } %}     {% if (doc._url) { %}    <a class="action-btn" href="{{ doc._url }}" title="{{ __("Open Communication") }}">     <svg class="icon icon-sm">      <use href="#icon-link-url" class="like-icon"></use>     </svg>    </a>    {% } %}   </span>  </span>  <div class="content">   {{ doc.content }}  </div>  {% if (doc.attachments && doc.attachments.length) { %}  <div style="margin-top: 10px">  {% $.each(doc.attachments, function(i, a) { %}  <div class="ellipsis flex">   <a href="{%= encodeURI(a.file_url).replace(/#/g, \'%23\') %}"    class="text-muted small" target="_blank" rel="noopener noreferrer">    <svg viewBox="0 0 16 16" class="icon icon-xs" xmlns="http://www.w3.org/2000/svg">     <path d="M14 7.66625L8.68679 12.8875C7.17736 14.3708 4.64151 14.3708 3.13208 12.8875C1.62264 11.4042 1.62264 8.91224 3.13208 7.42892L7.84151 2.80099C8.9283 1.733 10.6189 1.733 11.7057 2.80099C12.7925 3.86897 12.7925 5.53028 11.7057 6.59827L7.35849 10.8109C6.75472 11.4042 5.78868 11.4042 5.24528 10.8109C4.64151 10.2176 4.64151 9.26823 5.24528 8.73424L8.86792 5.17429" stroke="currentColor" stroke-miterlimit="10" stroke-linecap="round"/>    </svg>    {%= a.file_url.split("/").slice(-1)[0] %}    {% if (a.is_private) { %}     <svg class="icon icon-xs" style="color: var(--yellow-300)"      xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">      <path fill-rule="evenodd" clip-rule="evenodd" d="M8.077 1.45h-.055a3.356 3.356 0 00-3.387 3.322v.35H3.75a2 2 0 00-2 2v5.391a2 2 0 002 2h8.539a2 2 0 002-2V7.122a2 2 0 00-2-2h-.885v-.285A3.356 3.356 0 008.082 1.45h-.005zm2.327 3.672V4.83a2.356 2.356 0 00-2.33-2.38h-.06a2.356 2.356 0 00-2.38 2.33v.342h4.77zm-6.654 1a1 1 0 00-1 1v5.391a1 1 0 001 1h8.539a1 1 0 001-1V7.122a1 1 0 00-1-1H3.75zm4.27 4.269a.573.573 0 100-1.147.573.573 0 000 1.147zm1.573-.574a1.573 1.573 0 11-3.147 0 1.573 1.573 0 013.147 0z" fill="currentColor" stroke="currentColor"></path>     </svg>    {% } %}   </a>  </div>  {% }); %}  </div>  {% } %} </div> ';

	frappe.templates['users_in_sidebar'] = '{% for (var i=0, l=users.length; i < l; i++) {  var u = users[i]; %}  <span class="avatar avatar-small {{ u.avatar_class || "" }}" title="{{ u.title }}">  {% if (u.icon) { %}   <i class="{{ u.icon }}"></i>  {% } else if(u.image) { %}   <img class="media-object" src="{{ u.image }}" alt="{{ u.fullname }}">  {% } else { %}   <div class="standard-image" style="background-color: {{ u.color }};">{{ u.abbr.substr(0,1) }}</div>  {% } %}  </span> {% } %} ';

	frappe.ui.form.Control = Class.extend({
		init: function(opts) {
			$.extend(this, opts);
			this.make();

			// if developer_mode=1, show fieldname as tooltip
			if(frappe.boot.user && frappe.boot.developer_mode===1 && this.$wrapper) {
				this.$wrapper.attr("title", __(this.df.fieldname));
			}

			if(this.render_input) {
				this.refresh();
			}
		},
		make: function() {
			this.make_wrapper();
			this.$wrapper
				.attr("data-fieldtype", this.df.fieldtype)
				.attr("data-fieldname", this.df.fieldname);
			this.wrapper = this.$wrapper.get(0);
			this.wrapper.fieldobj = this; // reference for event handlers
		},

		make_wrapper: function() {
			this.$wrapper = $("<div class='frappe-control'></div>").appendTo(this.parent);

			// alias
			this.wrapper = this.$wrapper;
		},

		toggle: function(show) {
			this.df.hidden = show ? 0 : 1;
			this.refresh();
		},

		// returns "Read", "Write" or "None"
		// as strings based on permissions
		get_status: function(explain) {
			if (this.df.get_status) {
				return this.df.get_status(this);
			}

			if ((!this.doctype && !this.docname) || this.df.parenttype === 'Web Form' || this.df.is_web_form) {
				// like in case of a dialog box
				if (cint(this.df.hidden)) {
					// eslint-disable-next-line
					if (explain) { console.log("By Hidden: None"); } // eslint-disable-line no-console
					return "None";

				} else if (cint(this.df.hidden_due_to_dependency)) {
					// eslint-disable-next-line
					if(explain) { console.log("By Hidden Dependency: None"); } // eslint-disable-line no-console
					return "None";

				} else if (cint(this.df.read_only)) {
					// eslint-disable-next-line
					if (explain) { console.log("By Read Only: Read"); } // eslint-disable-line no-console
					return "Read";

				} else if ((this.grid &&
							this.grid.display_status == 'Read') ||
							(this.layout &&
							this.layout.grid &&
							this.layout.grid.display_status == 'Read')) {
					// parent grid is read
					if (explain) { console.log("By Parent Grid Read-only: Read"); } // eslint-disable-line no-console
					return "Read";
				}

				return "Write";
			}

			var status = frappe.perm.get_field_display_status(this.df,
				frappe.model.get_doc(this.doctype, this.docname), this.perm || (this.frm && this.frm.perm), explain);

			// Match parent grid controls read only status
			if (status === 'Write' && (this.grid || (this.layout && this.layout.grid) && !cint(this.df.allow_on_submit))) {
				var grid = this.grid || this.layout.grid;
				if (grid.display_status == 'Read') {
					status = 'Read';
					if (explain) { console.log("By Parent Grid Read-only: Read"); } // eslint-disable-line no-console
				}
			}

			// hide if no value
			if (this.doctype && status==="Read" && !this.only_input
				&& is_null(frappe.model.get_value(this.doctype, this.docname, this.df.fieldname))
				&& !in_list(["HTML", "Image", "Button"], this.df.fieldtype)) {

				// eslint-disable-next-line
				if (explain) { console.log("By Hide Read-only, null fields: None"); } // eslint-disable-line no-console
				status = "None";
			}

			return status;
		},
		refresh: function() {
			this.disp_status = this.get_status();
			this.$wrapper
				&& this.$wrapper.toggleClass("hide-control", this.disp_status=="None")
				&& this.refresh_input
				&& this.refresh_input();

			var value = this.get_value();

			this.show_translatable_button(value);
		},
		show_translatable_button: function show_translatable_button(value) {
			var this$1 = this;

			// Disable translation non-string fields or special string fields
			if (!frappe.model
				|| !this.frm
				|| !this.doc
				|| !this.df.translatable
				|| !frappe.model.can_write('Translation')
				|| !value) { return; }

			// Disable translation in website
			if (!frappe.views || !frappe.views.TranslationManager) { return; }

			// Already attached button
			if (this.$wrapper.find('.clearfix .btn-translation').length) { return; }

			var translation_btn =
				"<a class=\"btn-translation no-decoration text-muted\" title=\"" + (__('Open Translation')) + "\">\n\t\t\t\t<i class=\"fa fa-globe\"></i>\n\t\t\t</a>";

			$(translation_btn)
				.appendTo(this.$wrapper.find('.clearfix'))
				.on('click', function () {
					if (!this$1.doc.__islocal) {
						new frappe.views.TranslationManager({
							'df': this$1.df,
							'source_text': this$1.value,
							'target_language': this$1.doc.language,
							'doc': this$1.doc
						});
					}
				});

		},
		get_doc: function() {
			return this.doctype && this.docname
				&& locals[this.doctype] && locals[this.doctype][this.docname] || {};
		},
		get_model_value: function() {
			if(this.doc) {
				return this.doc[this.df.fieldname];
			}
		},
		set_value: function(value) {
			return this.validate_and_set_in_model(value);
		},
		parse_validate_and_set_in_model: function(value, e) {
			if(this.parse) {
				value = this.parse(value);
			}
			return this.validate_and_set_in_model(value, e);
		},
		validate_and_set_in_model: function(value, e) {
			var me = this;
			var force_value_set = (this.doc && this.doc.__run_link_triggers);
			var is_value_same = (this.get_model_value() === value);

			if (this.inside_change_event || (!force_value_set && is_value_same)) {
				return Promise.resolve();
			}

			this.inside_change_event = true;
			function set(value) {
				me.inside_change_event = false;
				return frappe.run_serially([
					function () { return me._validated = true; },
					function () { return me.set_model_value(value); },
					function () { return delete me._validated; },
					function () {
						me.set_mandatory && me.set_mandatory(value);

						if(me.df.change || me.df.onchange) {
							// onchange event specified in df
							var set = (me.df.change || me.df.onchange).apply(me, [e]);
							me.set_invalid && me.set_invalid();
							return set;
						}
						me.set_invalid && me.set_invalid();
					}
				]);
			}
			value = this.validate(value);
			if (value && value.then) {
				// got a promise
				return value.then(function (value) { return set(value); });
			} else {
				// all clear
				return set(value);
			}
		},
		get_value: function() {
			if(this.get_status()==='Write') {
				return this.get_input_value ?
					(this.parse ? this.parse(this.get_input_value()) : this.get_input_value()) :
					undefined;
			} else {
				return this.value || undefined;
			}
		},
		set_model_value: function(value) {
			if(this.frm) {
				this.last_value = value;
				return frappe.model.set_value(this.doctype, this.docname, this.df.fieldname,
					value, this.df.fieldtype);
			} else {
				if(this.doc) {
					this.doc[this.df.fieldname] = value;
				}
				this.set_input(value);
				return Promise.resolve();
			}
		},
		set_focus: function() {
			if(this.$input) {
				this.$input.get(0).focus();
				return true;
			}
		}
	});

	frappe.ui.form.ControlInput = frappe.ui.form.Control.extend({
		horizontal: true,
		make: function() {
			// parent element
			this._super();
			this.set_input_areas();

			// set description
			this.set_max_width();
		},
		make_wrapper: function() {
			if(this.only_input) {
				this.$wrapper = $('<div class="form-group frappe-control">').appendTo(this.parent);
			} else {
				this.$wrapper = $('<div class="frappe-control">\
				<div class="form-group">\
					<div class="clearfix">\
						<label class="control-label" style="padding-right: 0px;"></label>\
					</div>\
					<div class="control-input-wrapper">\
						<div class="control-input"></div>\
						<div class="control-value like-disabled-input" style="display: none;"></div>\
						<p class="help-box small text-muted"></p>\
					</div>\
				</div>\
			</div>').appendTo(this.parent);
			}
		},
		toggle_label: function(show) {
			this.$wrapper.find(".control-label").toggleClass("hide", !show);
		},
		toggle_description: function(show) {
			this.$wrapper.find(".help-box").toggleClass("hide", !show);
		},
		set_input_areas: function() {
			if(this.only_input) {
				this.input_area = this.wrapper;
			} else {
				this.label_area = this.label_span = this.$wrapper.find("label").get(0);
				this.input_area = this.$wrapper.find(".control-input").get(0);
				this.$input_wrapper = this.$wrapper.find(".control-input-wrapper");
				// keep a separate display area to rendered formatted values
				// like links, currencies, HTMLs etc.
				this.disp_area = this.$wrapper.find(".control-value").get(0);
			}
		},
		set_max_width: function() {
			if(this.horizontal) {
				this.$wrapper.addClass("input-max-width");
			}
		},

		// update input value, label, description
		// display (show/hide/read-only),
		// mandatory style on refresh
		refresh_input: function() {
			var me = this;
			var make_input = function() {
				if (!me.has_input) {
					me.make_input();
					if (me.df.on_make) {
						me.df.on_make(me);
					}
				}
			};

			var update_input = function() {
				if (me.doctype && me.docname) {
					me.set_input(me.value);
				} else {
					me.set_input(me.value || null);
				}
			};

			if (me.disp_status != "None") {
				// refresh value
				if (me.frm) {
					me.value = frappe.model.get_value(me.doctype, me.docname, me.df.fieldname);
				} else if (me.doc) {
					me.value = me.doc[me.df.fieldname];
				}

				if (me.can_write()) {
					me.disp_area && $(me.disp_area).toggle(false);
					$(me.input_area).toggle(true);
					me.$input && me.$input.prop("disabled", false);
					make_input();
					update_input();
				} else {
					if (me.only_input) {
						make_input();
						update_input();
					} else {
						$(me.input_area).toggle(false);
						if (me.disp_area) {
							me.set_disp_area(me.value);
							$(me.disp_area).toggle(true);
						}
					}
					me.$input && me.$input.prop("disabled", true);
				}

				me.set_description();
				me.set_label();
				me.set_mandatory(me.value);
				me.set_bold();
				me.set_required();
			}
		},

		can_write: function can_write() {
			return this.disp_status == "Write";
		},

		set_disp_area: function(value) {
			if(in_list(["Currency", "Int", "Float"], this.df.fieldtype)
				&& (this.value === 0 || value === 0)) {
				// to set the 0 value in readonly for currency, int, float field
				value = 0;
			} else {
				value = this.value || value;
			}
			if (this.df.fieldtype === 'Data') {
				value = frappe.utils.escape_html(value);
			}
			var doc = this.doc || (this.frm && this.frm.doc);
			var display_value = frappe.format(value, this.df, { no_icon: true, inline: true }, doc);
			this.disp_area && $(this.disp_area).html(display_value);
		},
		set_label: function(label) {
			if(label) { this.df.label = label; }

			if(this.only_input || this.df.label==this._label)
				{ return; }
			this.label_span.innerHTML = ("") +
				__(this.df.label)  || "&nbsp;";
			this._label = this.df.label;
		},
		set_description: function(description) {
			if (description !== undefined) {
				this.df.description = description;
			}
			if (this.only_input || this.df.description===this._description) {
				return;
			}
			if (this.df.description) {
				this.$wrapper.find(".help-box").html(__(this.df.description));
			} else {
				this.set_empty_description();
			}
			this._description = this.df.description;
		},
		set_new_description: function(description) {
			this.$wrapper.find(".help-box").html(description);
		},
		set_empty_description: function() {
			this.$wrapper.find(".help-box").html("");
		},
		set_mandatory: function(value) {
			this.$wrapper.toggleClass("has-error", Boolean(this.df.reqd && is_null(value)));
		},
		set_invalid: function () {
			var invalid = !!this.df.invalid;
			if (this.grid) {
				this.$wrapper.parents('.grid-static-col').toggleClass('invalid', invalid);
				this.$input.toggleClass('invalid', invalid);
				this.grid_row.columns[this.df.fieldname].is_invalid = invalid;
			} else {
				this.$wrapper.toggleClass('has-error', invalid);
			}
		},
		set_required: function set_required() {
			this.label_area && $(this.label_area).toggleClass('reqd', Boolean(this.df.reqd));
		},
		set_bold: function() {
			if(this.$input) {
				this.$input.toggleClass("bold", !!(this.df.bold || this.df.reqd));
			}
			if(this.disp_area) {
				$(this.disp_area).toggleClass("bold", !!(this.df.bold || this.df.reqd));
			}
		}
	});

	frappe.provide('frappe.phone_call');

	frappe.ui.form.ControlData = frappe.ui.form.ControlInput.extend({
		html_element: "input",
		input_type: "text",
		trigger_change_on_input_event: true,
		make_input: function() {
			var this$1 = this;

			if(this.$input) { return; }

			this.$input = $("<"+ this.html_element +">")
				.attr("type", this.input_type)
				.attr("autocomplete", "off")
				.addClass("input-with-feedback form-control")
				.prependTo(this.input_area);

			this.$input.on('paste', function (e) {
				var pasted_data = frappe.utils.get_clipboard_data(e);
				var maxlength = this$1.$input.attr('maxlength');
				if (maxlength && pasted_data.length > maxlength) {
					var warning_message = __('The value you pasted was {0} characters long. Max allowed characters is {1}.', [
						cstr(pasted_data.length).bold(),
						cstr(maxlength).bold()
					]);

					// Only show edit link to users who can update the doctype
					if (this$1.frm && frappe.model.can_write(this$1.frm.doctype)) {
						var doctype_edit_link = null;
						if (this$1.frm.meta.custom) {
							doctype_edit_link = frappe.utils.get_form_link(
								'DocType',
								this$1.frm.doctype, true,
								__('this form')
							);
						} else {
							doctype_edit_link = frappe.utils.get_form_link('Customize Form', 'Customize Form', true, null, {
								doc_type: this$1.frm.doctype
							});
						}
						var edit_note = __('{0}: You can increase the limit for the field if required via {1}', [
							__('Note').bold(),
							doctype_edit_link
						]);
						warning_message += "<br><br><span class=\"text-muted text-small\">" + edit_note + "</span>";
					}

					frappe.msgprint({
						message: warning_message,
						indicator: 'orange',
						title: __('Data Clipped')
					});
				}
			});

			this.set_input_attributes();
			this.input = this.$input.get(0);
			this.has_input = true;
			this.bind_change_event();
			this.setup_autoname_check();

			if (this.df.options == 'URL') {
				this.setup_url_field();
			}

			if (this.df.options == 'Barcode') {
				this.setup_barcode_field();
			}
		},
		setup_url_field: function() {
			var this$1 = this;

			this.$wrapper.find('.control-input').append(
				("<span class=\"link-btn\">\n\t\t\t\t<a class=\"btn-open no-decoration\" title=\"" + (__("Open Link")) + "\" target=\"_blank\">\n\t\t\t\t\t" + (frappe.utils.icon('link-url', 'sm')) + "\n\t\t\t\t</a>\n\t\t\t</span>")
			);

			this.$link = this.$wrapper.find('.link-btn');
			this.$link_open = this.$link.find('.btn-open');
			this.$input[0].style.paddingRight = "24px"; // To prevent text-icon mixup

			this.$input.on("focus", function () {
				setTimeout(function () {
					var inputValue = this$1.get_input_value();

					if (inputValue && validate_url(inputValue)) {
						this$1.$link.toggle(true);
						this$1.$link_open.attr('href', this$1.get_input_value());
					}
				}, 500);
			});


			this.$input.bind("input", function () {
				var inputValue = this$1.get_input_value();

				if (inputValue && validate_url(inputValue)) {
					this$1.$link.toggle(true);
					this$1.$link_open.attr('href', this$1.get_input_value());
				} else {
					this$1.$link.toggle(false);
				}
			});

			this.$input.on("blur", function () {
				// if this disappears immediately, the user's click
				// does not register, hence timeout
				setTimeout(function () {
					this$1.$link.toggle(false);
				}, 500);
			});
		},
		setup_barcode_field: function() {
			this.$wrapper.find('.control-input').append(
				("<span class=\"link-btn\">\n\t\t\t\t<a class=\"btn-open no-decoration\" title=\"" + (__("Scan")) + "\">\n\t\t\t\t\t" + (frappe.utils.icon('scan', 'sm')) + "\n\t\t\t\t</a>\n\t\t\t</span>")
			);

			this.$scan_btn = this.$wrapper.find('.link-btn');
			this.$scan_btn.toggle(true);

			var me = this;
			this.$scan_btn.on('click', 'a', function () {
				new frappe.ui.Scanner({
					dialog: true,
					multiple: false,
					on_scan: function on_scan(data) {
						if (data && data.result && data.result.text) {
							me.set_value(data.result.text);
						}
					}
				});
			});
		},
		bind_change_event: function() {
			var this$1 = this;

			var change_handler = function (e) {
				if (this$1.change) { this$1.change(e); }
				else {
					var value = this$1.get_input_value();
					this$1.parse_validate_and_set_in_model(value, e);
				}
			};
			this.$input.on("change", change_handler);
			if (this.trigger_change_on_input_event && !this.in_grid()) {
				// debounce to avoid repeated validations on value change
				this.$input.on("input", frappe.utils.debounce(change_handler, 500));
			}
		},
		setup_autoname_check: function() {
			var this$1 = this;

			if (!this.df.parent) { return; }
			this.meta = frappe.get_meta(this.df.parent);
			if (this.meta && ((this.meta.autoname
				&& this.meta.autoname.substr(0, 6)==='field:'
				&& this.meta.autoname.substr(6) === this.df.fieldname) || this.df.fieldname==='__newname') ) {
				this.$input.on('keyup', function () {
					this$1.set_description('');
					if (this$1.doc && this$1.doc.__islocal) {
						// check after 1 sec
						var timeout = setTimeout(function () {
							// clear any pending calls
							if (this$1.last_check) { clearTimeout(this$1.last_check); }

							// check if name exists
							frappe.db.get_value(this$1.doctype, this$1.$input.val(),
								'name', function (val) {
									if (val && val.name) {
										this$1.set_description(__('{0} already exists. Select another name', [val.name]));
									}
								},
								this$1.doc.parenttype
							);
							this$1.last_check = null;
						}, 1000);
						this$1.last_check = timeout;
					}
				});
			}
		},
		set_input_attributes: function() {
			if (in_list(
				['Data', 'Link', 'Dynamic Link', 'Password', 'Select', 'Read Only'],
				this.df.fieldtype
			)) {
				this.$input.attr("maxlength", this.df.length || 140);
			}

			this.$input
				.attr("data-fieldtype", this.df.fieldtype)
				.attr("data-fieldname", this.df.fieldname)
				.attr("placeholder", this.df.placeholder || "");
			if(this.doctype) {
				this.$input.attr("data-doctype", this.doctype);
			}
			if(this.df.input_css) {
				this.$input.css(this.df.input_css);
			}
			if(this.df.input_class) {
				this.$input.addClass(this.df.input_class);
			}
		},
		set_input: function(value) {
			this.last_value = this.value;
			this.value = value;
			this.set_formatted_input(value);
			this.set_disp_area(value);
			this.set_mandatory && this.set_mandatory(value);
		},
		set_formatted_input: function(value) {
			this.$input && this.$input.val(this.format_for_input(value));
		},
		get_input_value: function() {
			return this.$input ? this.$input.val() : undefined;
		},
		format_for_input: function(val) {
			return val==null ? "" : val;
		},
		validate: function(v) {
			if (!v) {
				return '';
			}
			if(this.df.is_filter) {
				return v;
			}
			if(this.df.options == 'Phone') {
				this.df.invalid = !validate_phone(v);
				return v;
			} else if (this.df.options == 'Name') {
				this.df.invalid = !validate_name(v);
				return v;
			} else if(this.df.options == 'Email') {
				var email_list = frappe.utils.split_emails(v);
				if (!email_list) {
					return '';
				} else {
					var email_invalid = false;
					email_list.forEach(function(email) {
						if (!validate_email(email)) {
							email_invalid = true;
						}
					});
					this.df.invalid = email_invalid;
					return v;
				}
			} else if (this.df.options == 'URL') {
				this.df.invalid = !validate_url(v);
				return v;
			} else {
				return v;
			}
		},
		toggle_container_scroll: function(el_class, scroll_class, add) {
			if ( add === void 0 ) add=false;

			var el = this.$input.parents(el_class)[0];
			if (el) { $(el).toggleClass(scroll_class, add); }
		},

		in_grid: function in_grid() {
			return this.grid || this.layout && this.layout.grid;
		}
	});

	frappe.ui.form.ControlInt = frappe.ui.form.ControlData.extend({
		trigger_change_on_input_event: false,
		make: function () {
			this._super();
			// $(this.label_area).addClass('pull-right');
			// $(this.disp_area).addClass('text-right');
		},
		make_input: function () {
			var me = this;
			this._super();
			this.$input
				// .addClass("text-right")
				.on("focus", function () {
					setTimeout(function () {
						if (!document.activeElement) { return; }
						document.activeElement.value
							= me.validate(document.activeElement.value);
						document.activeElement.select();
					}, 100);
					return false;
				});
		},
		validate: function (value) {
			return this.parse(value);
		},
		eval_expression: function (value) {
			if (typeof value === 'string') {
				if (value.match(/^[0-9+\-/* ]+$/)) {
					// If it is a string containing operators
					try {
						return eval(value);
					} catch (e) {
						// bad expression
						return value;
					}
				}
			}
			return value;
		},
		parse: function (value) {
			return cint(this.eval_expression(value), null);
		}
	});

	frappe.ui.form.ControlFloat = frappe.ui.form.ControlInt.extend({
		make_input: function make_input() {
			var this$1 = this;

			this._super();
			var change_handler = function (e) {
				if (this$1.change) { this$1.change(e); }
				else {
					var value = this$1.get_input_value();
					this$1.parse_validate_and_set_in_model(value, e);
				}
			};
			// convert to number format on focusout since focus converts it to flt.
			this.$input.on("focusout", change_handler);
		},
		parse: function(value) {
			value = this.eval_expression(value);
			return isNaN(parseFloat(value)) ? null : flt(value, this.get_precision());
		},

		format_for_input: function(value) {
			var number_format;
			if (this.df.fieldtype==="Float" && this.df.options && this.df.options.trim()) {
				number_format = this.get_number_format();
			}
			var formatted_value = format_number(value, number_format, this.get_precision());
			return isNaN(Number(value)) ? "" : formatted_value;
		},

		get_number_format: function() {
			var currency = frappe.meta.get_field_currency(this.df, this.get_doc());
			return get_number_format(currency);
		},

		get_precision: function() {
			// round based on field precision or float precision, else don't round
			return this.df.precision || cint(frappe.boot.sysdefaults.float_precision, null);
		}
	});

	frappe.ui.form.ControlPercent = frappe.ui.form.ControlFloat;

	frappe.ui.form.ControlCurrency = frappe.ui.form.ControlFloat.extend({
		format_for_input: function(value) {
			var formatted_value = format_number(value, this.get_number_format(), this.get_precision());
			return isNaN(Number(value)) ? "" : formatted_value;
		},

		get_precision: function() {
			// always round based on field precision or currency's precision
			// this method is also called in this.parse()
			if (!this.df.precision) {
				if(frappe.boot.sysdefaults.currency_precision) {
					this.df.precision = frappe.boot.sysdefaults.currency_precision;
				} else {
					this.df.precision = get_number_format_info(this.get_number_format()).precision;
				}
			}

			return this.df.precision;
		}
	});

	frappe.ui.form.ControlDate = frappe.ui.form.ControlData.extend({
		trigger_change_on_input_event: false,
		make_input: function() {
			this._super();
			this.make_picker();
		},
		make_picker: function() {
			this.set_date_options();
			this.set_datepicker();
			this.set_t_for_today();
		},
		set_formatted_input: function(value) {
			this._super(value);
			if (this.timepicker_only) { return; }
			if (!this.datepicker) { return; }
			if (!value) {
				this.datepicker.clear();
				return;
			} else if (value === "Today") {
				value = this.get_now_date();
			}

			var should_refresh = this.last_value && this.last_value !== value;

			if (!should_refresh) {
				if(this.datepicker.selectedDates.length > 0) {
					// if date is selected but different from value, refresh
					var selected_date =
						moment(this.datepicker.selectedDates[0])
							.format(this.date_format);

					should_refresh = selected_date !== value;
				} else {
					// if datepicker has no selected date, refresh
					should_refresh = true;
				}
			}

			if(should_refresh) {
				this.datepicker.selectDate(frappe.datetime.str_to_obj(value));
			}
		},
		set_date_options: function() {
			var this$1 = this;

			// webformTODO:
			var sysdefaults = frappe.boot.sysdefaults;

			var lang = 'en';
			frappe.boot.user && (lang = frappe.boot.user.language);
			if(!$.fn.datepicker.language[lang]) {
				lang = 'en';
			}

			var date_format = sysdefaults && sysdefaults.date_format
				? sysdefaults.date_format : 'yyyy-mm-dd';

			var now_date = new Date();

			this.today_text = __("Today");
			this.date_format = frappe.defaultDateFormat;
			this.datepicker_options = {
				language: lang,
				autoClose: true,
				todayButton: true,
				dateFormat: date_format,
				startDate: now_date,
				keyboardNav: false,
				firstDay: frappe.datetime.get_first_day_of_the_week_index(),
				onSelect: function () {
					this$1.$input.trigger('change');
				},
				onShow: function () {
					this$1.datepicker.$datepicker
						.find('.datepicker--button:visible')
						.text(this$1.today_text);

					this$1.update_datepicker_position();
				}
			};
		},
		set_datepicker: function() {
			var this$1 = this;

			this.$input.datepicker(this.datepicker_options);
			this.datepicker = this.$input.data('datepicker');

			// today button didn't work as expected,
			// so explicitly bind the event
			this.datepicker.$datepicker
				.find('[data-action="today"]')
				.click(function () {
					this$1.datepicker.selectDate(this$1.get_now_date());
				});
		},
		update_datepicker_position: function() {
			if(!this.frm) { return; }
			// show datepicker above or below the input
			// based on scroll position
			// We have to bodge around the timepicker getting its position
			// wrong by 42px when opening upwards.
			var $header = $('.page-head');
			var header_bottom = $header.position().top + $header.outerHeight();
			var picker_height = this.datepicker.$datepicker.outerHeight() + 12;
			var picker_top = this.$input.offset().top - $(window).scrollTop() - picker_height;

			var position = 'top left';
			// 12 is the default datepicker.opts[offset]
			if (picker_top <= header_bottom) {
				position = 'bottom left';
				if (this.timepicker_only) { this.datepicker.opts['offset'] = 12; }
			} else {
				// To account for 42px incorrect positioning
				if (this.timepicker_only) { this.datepicker.opts['offset'] = -30; }
			}

			this.datepicker.update('position', position);
		},
		get_now_date: function() {
			return frappe.datetime.now_date(true);
		},
		set_t_for_today: function() {
			var me = this;
			this.$input.on("keydown", function(e) {
				if(e.which===84) { // 84 === t
					if(me.df.fieldtype=='Date') {
						me.set_value(frappe.datetime.nowdate());
					} if(me.df.fieldtype=='Datetime') {
						me.set_value(frappe.datetime.now_datetime());
					} if(me.df.fieldtype=='Time') {
						me.set_value(frappe.datetime.now_time());
					}
					return false;
				}
			});
		},
		parse: function(value) {
			if(value) {
				return frappe.datetime.user_to_str(value);
			}
		},
		format_for_input: function(value) {
			if(value) {
				return frappe.datetime.str_to_user(value);
			}
			return "";
		},
		validate: function(value) {
			if(value && !frappe.datetime.validate(value)) {
				var sysdefaults = frappe.sys_defaults;
				var date_format = sysdefaults && sysdefaults.date_format
					? sysdefaults.date_format : 'yyyy-mm-dd';
				frappe.msgprint(__("Date {0} must be in format: {1}", [value, date_format]));
				return '';
			}
			return value;
		}
	});

	frappe.ui.form.ControlTime = frappe.ui.form.ControlDate.extend({
		set_formatted_input: function(value) {
			this._super(value);
		},
		make_input: function() {
			this.timepicker_only = true;
			this._super();
		},
		make_picker: function() {
			this.set_time_options();
			this.set_datepicker();
			this.refresh();
		},
		set_time_options: function() {
			var this$1 = this;

			var sysdefaults = frappe.boot.sysdefaults;

			var time_format = sysdefaults && sysdefaults.time_format
				? sysdefaults.time_format : 'HH:mm:ss';

			this.time_format = frappe.defaultTimeFormat;
			this.datepicker_options = {
				language: "en",
				timepicker: true,
				onlyTimepicker: true,
				timeFormat: time_format.toLowerCase().replace("mm", "ii"),
				startDate: frappe.datetime.now_time(true),
				onSelect: function () {
					// ignore micro seconds
					if (moment(this$1.get_value(), time_format).format('HH:mm:ss') != moment(this$1.value, time_format).format('HH:mm:ss')) {
						this$1.$input.trigger('change');
					}
				},
				onShow: function () {
					$('.datepicker--button:visible').text(__('Now'));

					this$1.update_datepicker_position();
				},
				keyboardNav: false,
				todayButton: true
			};
		},
		set_input: function(value) {
			this._super(value);
			if (value
				&& ((this.last_value && this.last_value !== this.value)
					|| (!this.datepicker.selectedDates.length))) {

				var time_format = frappe.sys_defaults.time_format || 'HH:mm:ss';
				var date_obj = frappe.datetime.moment_to_date_obj(moment(value, time_format));
				this.datepicker.selectDate(date_obj);
			}
		},
		set_datepicker: function() {
			var this$1 = this;

			this.$input.datepicker(this.datepicker_options);
			this.datepicker = this.$input.data('datepicker');

			this.datepicker.$datepicker
				.find('[data-action="today"]')
				.click(function () {
					this$1.datepicker.selectDate(frappe.datetime.now_time(true));
					this$1.datepicker.hide();
				});
			if (this.datepicker.opts.timeFormat.indexOf('s') == -1) {
				// No seconds in time format
				var $tp = this.datepicker.timepicker;
				$tp.$seconds.parent().css('display', 'none');
				$tp.$secondsText.css('display', 'none');
				$tp.$secondsText.prev().css('display', 'none');
			}
		},
		set_description: function() {
			var ref = this.df;
			var description = ref.description;
			var ref$1 = frappe.sys_defaults;
			var time_zone = ref$1.time_zone;
			if (!frappe.datetime.is_timezone_same()) {
				if (!description) {
					this.df.description = time_zone;
				} else if (!description.includes(time_zone)) {
					this.df.description += '<br>' + time_zone;
				}
			}
			this._super();
		},
		parse: function(value) {
			if (value) {
				return frappe.datetime.user_to_str(value, true);
			}
		},
		format_for_input: function(value) {
			if (value) {
				return frappe.datetime.str_to_user(value, true);
			}
			return "";
		},
		validate: function(value) {
			if (value && !frappe.datetime.validate(value)) {
				var sysdefaults = frappe.sys_defaults;
				var time_format = sysdefaults && sysdefaults.time_format
					? sysdefaults.time_format : 'HH:mm:ss';
				frappe.msgprint(__("Time {0} must be in format: {1}", [value, time_format]));
				return '';
			}
			return value;
		}
	});

	frappe.ui.form.ControlDatetime = frappe.ui.form.ControlDate.extend({
		set_date_options: function() {
			this._super();
			this.today_text = __("Now");
			var sysdefaults = frappe.boot.sysdefaults;
			this.date_format = frappe.defaultDatetimeFormat;
			var time_format = sysdefaults && sysdefaults.time_format
				? sysdefaults.time_format : 'HH:mm:ss';
			$.extend(this.datepicker_options, {
				timepicker: true,
				timeFormat: time_format.toLowerCase().replace("mm", "ii")
			});
		},
		get_now_date: function() {
			return frappe.datetime.now_datetime(true);
		},
		set_description: function() {
			var ref = this.df;
			var description = ref.description;
			var ref$1 = frappe.sys_defaults;
			var time_zone = ref$1.time_zone;
			if (!this.df.hide_timezone && !frappe.datetime.is_timezone_same()) {
				if (!description) {
					this.df.description = time_zone;
				} else if (!description.includes(time_zone)) {
					this.df.description += '<br>' + time_zone;
				}
			}
			this._super();
		},
		set_datepicker: function() {
			this._super();
			if (this.datepicker.opts.timeFormat.indexOf('s') == -1) {
				// No seconds in time format
				var $tp = this.datepicker.timepicker;
				$tp.$seconds.parent().css('display', 'none');
				$tp.$secondsText.css('display', 'none');
				$tp.$secondsText.prev().css('display', 'none');
			}
		},
		get_model_value: function get_model_value() {
			var value = this._super();
			return frappe.datetime.get_datetime_as_string(value);
		}
	});

	frappe.ui.form.ControlDateRange = frappe.ui.form.ControlData.extend({
		make_input: function() {
			this._super();
			this.set_date_options();
			this.set_datepicker();
			this.refresh();
		},
		set_date_options: function() {
			var me = this;
			this.datepicker_options = {
				language: "en",
				range: true,
				autoClose: true,
				toggleSelected: false,
				firstDay: frappe.datetime.get_first_day_of_the_week_index()
			};
			this.datepicker_options.dateFormat =
				(frappe.boot.sysdefaults.date_format || 'yyyy-mm-dd');
			this.datepicker_options.onSelect = function() {
				me.$input.trigger('change');
			};
		},
		set_datepicker: function() {
			this.$input.datepicker(this.datepicker_options);
			this.datepicker = this.$input.data('datepicker');
		},
		set_input: function(value, value2) {
			this.last_value = this.value;
			if (value && value2) {
				this.value = [value, value2];
			} else {
				this.value = value;
			}
			if (this.value) {
				var formatted = this.format_for_input(this.value[0], this.value[1]);
				this.$input && this.$input.val(formatted);
			} else {
				this.$input && this.$input.val("");
			}
			this.set_disp_area(value || '');
			this.set_mandatory && this.set_mandatory(value);
		},
		parse: function(value) {
			// replace the separator (which can be in user language) with comma
			var to = __('{0} to {1}').replace('{0}', '').replace('{1}', '');
			value = value.replace(to, ',');

			if(value && value.includes(',')) {
				var vals = value.split(',');
				var from_date = moment(frappe.datetime.user_to_obj(vals[0])).format('YYYY-MM-DD');
				var to_date = moment(frappe.datetime.user_to_obj(vals[vals.length-1])).format('YYYY-MM-DD');
				return [from_date, to_date];
			}
		},
		format_for_input: function(value1, value2) {
			if(value1 && value2) {
				value1 = frappe.datetime.str_to_user(value1);
				value2 = frappe.datetime.str_to_user(value2);
				return __("{0} to {1}", [value1, value2]);
			}
			return "";
		}
	});

	frappe.ui.form.ControlSelect = frappe.ui.form.ControlData.extend({
		html_element: 'select',
		make_input: function() {
			this._super();

			var is_xs_input = this.df.input_class
				&& this.df.input_class.includes('input-xs');
			this.set_icon(is_xs_input);
			this.df.placeholder && this.set_placeholder(is_xs_input);

			this.$input.addClass('ellipsis');
			this.set_options();
		},
		set_icon: function(is_xs_input) {
			var select_icon_html =
				"<div class=\"select-icon " + (is_xs_input ? 'xs' : '') + "\">\n\t\t\t\t" + (frappe.utils.icon('select', is_xs_input ? 'xs' : 'sm')) + "\n\t\t\t</div>";
			if (this.only_input) {
				this.$wrapper.append(select_icon_html);
			} else {
				this.$wrapper.find('.control-input')
					.addClass('flex align-center')
					.append(select_icon_html);
			}
		},
		set_placeholder: function(is_xs_input) {
			var this$1 = this;

			var placeholder_html =
				"<div class=\"placeholder ellipsis text-extra-muted " + (is_xs_input ? 'xs' : '') + "\">\n\t\t\t\t<span>" + (this.df.placeholder) + "</span>\n\t\t\t</div>";
			if (this.only_input) {
				this.$wrapper.append(placeholder_html);
			} else {
				this.$wrapper.find('.control-input').append(placeholder_html);
			}
			this.toggle_placeholder();
			this.$input && this.$input.on('select-change', function () { return this$1.toggle_placeholder(); });
		},
		set_formatted_input: function(value) {
			// refresh options first - (new ones??)
			if(value==null) { value = ''; }
			this.set_options(value);

			// set in the input element
			this._super(value);

			// check if the value to be set is selected
			var input_value = '';
			if(this.$input) {
				input_value = this.$input.val();
			}

			if(value && input_value && value !== input_value) {
				// trying to set a non-existant value
				// model value must be same as whatever the input is
				this.set_model_value(input_value);
			}
		},
		set_options: function(value) {
			// reset options, if something new is set
			var options = this.df.options || [];

			if(typeof this.df.options==="string") {
				options = this.df.options.split("\n");
			}

			// nothing changed
			if (JSON.stringify(options) === this.last_options) {
				return;
			}
			this.last_options = JSON.stringify(options);

			if(this.$input) {
				var selected = this.$input.find(":selected").val();
				this.$input.empty().add_options(options || []);

				if(value===undefined && selected) {
					this.$input.val(selected);
				}
			}
		},
		get_file_attachment_list: function() {
			if(!this.frm) { return; }
			var fl = frappe.model.docinfo[this.frm.doctype][this.frm.docname];
			if(fl && fl.attachments) {
				this.set_description("");
				var options = [""];
				$.each(fl.attachments, function(i, f) {
					options.push(f.file_url);
				});
				return options;
			} else {
				this.set_description(__("Please attach a file first."));
				return [""];
			}
		},
		toggle_placeholder: function() {
			var input_set = Boolean(this.$input.find('option:selected').text());
			this.$wrapper.find('.placeholder').toggle(!input_set);
		}
	});

	// add <option> list to <select>
	(function($) {
		$.fn.add_options = function(options_list) {
			// create options
			for(var i=0, j=options_list.length; i<j; i++) {
				var v = options_list[i];
				var value = null;
				var label = null;
				if (!is_null(v)) {
					var is_value_null = is_null(v.value);
					var is_label_null = is_null(v.label);
					var is_disabled = Boolean(v.disabled);

					if (is_value_null && is_label_null) {
						value = v;
						label = __(v);
					} else {
						value = is_value_null ? "" : v.value;
						label = is_label_null ? __(value) : __(v.label);
					}
				}

				$('<option>').html(cstr(label))
					.attr('value', value)
					.prop('disabled', is_disabled)
					.appendTo(this);
			}
			// select the first option
			this.selectedIndex = 0;
			$(this).trigger('select-change');
			return $(this);
		};
		$.fn.set_working = function() {
			this.prop('disabled', true);
		};
		$.fn.done_working = function() {
			this.prop('disabled', false);
		};

		var original_val = $.fn.val;
		$.fn.val = function() {
			var result = original_val.apply(this, arguments);
			if (arguments.length > 0) { $(this).trigger('select-change'); }
			return result;
		};
	})(jQuery);

	var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

	function unwrapExports (x) {
		return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
	}

	function createCommonjsModule(fn, module) {
		return module = { exports: {} }, fn(module, module.exports), module.exports;
	}

	var awesomplete = createCommonjsModule(function (module) {
	/**
	 * Simple, lightweight, usable local autocomplete library for modern browsers
	 * Because there werenât enough autocomplete scripts in the world? Because Iâm completely insane and have NIH syndrome? Probably both. :P
	 * @author Lea Verou http://leaverou.github.io/awesomplete
	 * MIT license
	 */

	(function () {

	var _ = function (input, o) {
		var me = this;

	    // Keep track of number of instances for unique IDs
	    _.count = (_.count || 0) + 1;
	    this.count = _.count;

		// Setup

		this.isOpened = false;

		this.input = $(input);
		this.input.setAttribute("autocomplete", "off");
		this.input.setAttribute("aria-expanded", "false");
		this.input.setAttribute("aria-owns", "awesomplete_list_" + this.count);
		this.input.setAttribute("role", "combobox");

		// store constructor options in case we need to distinguish
		// between default and customized behavior later on
		this.options = o = o || {};

		configure(this, {
			minChars: 2,
			maxItems: 10,
			autoFirst: false,
			data: _.DATA,
			filter: _.FILTER_CONTAINS,
			sort: o.sort === false ? false : _.SORT_BYLENGTH,
			container: _.CONTAINER,
			item: _.ITEM,
			replace: _.REPLACE,
			tabSelect: false
		}, o);

		this.index = -1;

		// Create necessary elements

		this.container = this.container(input);

		this.ul = $.create("ul", {
			hidden: "hidden",
	        role: "listbox",
	        id: "awesomplete_list_" + this.count,
			inside: this.container
		});

		this.status = $.create("span", {
			className: "visually-hidden",
			role: "status",
			"aria-live": "assertive",
	        "aria-atomic": true,
	        inside: this.container,
	        textContent: this.minChars != 0 ? ("Type " + this.minChars + " or more characters for results.") : "Begin typing for results."
		});

		// Bind events

		this._events = {
			input: {
				"input": this.evaluate.bind(this),
				"blur": this.close.bind(this, { reason: "blur" }),
				"keydown": function(evt) {
					var c = evt.keyCode;

					// If the dropdown `ul` is in view, then act on keydown for the following keys:
					// Enter / Esc / Up / Down
					if(me.opened) {
						if (c === 13 && me.selected) { // Enter
							evt.preventDefault();
							me.select(undefined, undefined, evt);
						}
						else if (c === 9 && me.selected && me.tabSelect) {
							me.select(undefined, undefined, evt);
						}
						else if (c === 27) { // Esc
							me.close({ reason: "esc" });
						}
						else if (c === 38 || c === 40) { // Down/Up arrow
							evt.preventDefault();
							me[c === 38? "previous" : "next"]();
						}
					}
				}
			},
			form: {
				"submit": this.close.bind(this, { reason: "submit" })
			},
			ul: {
				// Prevent the default mousedowm, which ensures the input is not blurred.
				// The actual selection will happen on click. This also ensures dragging the
				// cursor away from the list item will cancel the selection
				"mousedown": function(evt) {
					evt.preventDefault();
				},
				// The click event is fired even if the corresponding mousedown event has called preventDefault
				"click": function(evt) {
					var li = evt.target;

					if (li !== this) {

						while (li && !/li/i.test(li.nodeName)) {
							li = li.parentNode;
						}

						if (li && evt.button === 0) {  // Only select on left click
							evt.preventDefault();
							me.select(li, evt.target, evt);
						}
					}
				}
			}
		};

		$.bind(this.input, this._events.input);
		$.bind(this.input.form, this._events.form);
		$.bind(this.ul, this._events.ul);

		if (this.input.hasAttribute("list")) {
			this.list = "#" + this.input.getAttribute("list");
			this.input.removeAttribute("list");
		}
		else {
			this.list = this.input.getAttribute("data-list") || o.list || [];
		}

		_.all.push(this);
	};

	_.prototype = {
		set list(list) {
			if (Array.isArray(list)) {
				this._list = list;
			}
			else if (typeof list === "string" && list.indexOf(",") > -1) {
					this._list = list.split(/\s*,\s*/);
			}
			else { // Element or CSS selector
				list = $(list);

				if (list && list.children) {
					var items = [];
					slice.apply(list.children).forEach(function (el) {
						if (!el.disabled) {
							var text = el.textContent.trim();
							var value = el.value || text;
							var label = el.label || text;
							if (value !== "") {
								items.push({ label: label, value: value });
							}
						}
					});
					this._list = items;
				}
			}

			if (document.activeElement === this.input) {
				this.evaluate();
			}
		},

		get selected() {
			return this.index > -1;
		},

		get opened() {
			return this.isOpened;
		},

		close: function (o) {
			if (!this.opened) {
				return;
			}

			this.input.setAttribute("aria-expanded", "false");
			this.ul.setAttribute("hidden", "");
			this.isOpened = false;
			this.index = -1;

			this.status.setAttribute("hidden", "");

			$.fire(this.input, "awesomplete-close", o || {});
		},

		open: function () {
			this.input.setAttribute("aria-expanded", "true");
			this.ul.removeAttribute("hidden");
			this.isOpened = true;

			this.status.removeAttribute("hidden");

			if (this.autoFirst && this.index === -1) {
				this.goto(0);
			}

			$.fire(this.input, "awesomplete-open");
		},

		destroy: function() {
			//remove events from the input and its form
			$.unbind(this.input, this._events.input);
			$.unbind(this.input.form, this._events.form);

			// cleanup container if it was created by Awesomplete but leave it alone otherwise
			if (!this.options.container) {
				//move the input out of the awesomplete container and remove the container and its children
				var parentNode = this.container.parentNode;

				parentNode.insertBefore(this.input, this.container);
				parentNode.removeChild(this.container);
			}

			//remove autocomplete and aria-autocomplete attributes
			this.input.removeAttribute("autocomplete");
			this.input.removeAttribute("aria-autocomplete");

			//remove this awesomeplete instance from the global array of instances
			var indexOfAwesomplete = _.all.indexOf(this);

			if (indexOfAwesomplete !== -1) {
				_.all.splice(indexOfAwesomplete, 1);
			}
		},

		next: function () {
			var count = this.ul.children.length;
			this.goto(this.index < count - 1 ? this.index + 1 : (count ? 0 : -1) );
		},

		previous: function () {
			var count = this.ul.children.length;
			var pos = this.index - 1;

			this.goto(this.selected && pos !== -1 ? pos : count - 1);
		},

		// Should not be used, highlights specific item without any checks!
		goto: function (i) {
			var lis = this.ul.children;

			if (this.selected) {
				lis[this.index].setAttribute("aria-selected", "false");
			}

			this.index = i;

			if (i > -1 && lis.length > 0) {
				lis[i].setAttribute("aria-selected", "true");

				this.status.textContent = lis[i].textContent + ", list item " + (i + 1) + " of " + lis.length;

	            this.input.setAttribute("aria-activedescendant", this.ul.id + "_item_" + this.index);

				// scroll to highlighted element in case parent's height is fixed
				this.ul.scrollTop = lis[i].offsetTop - this.ul.clientHeight + lis[i].clientHeight;

				$.fire(this.input, "awesomplete-highlight", {
					text: this.suggestions[this.index]
				});
			}
		},

		select: function (selected, origin, originalEvent) {
			if (selected) {
				this.index = $.siblingIndex(selected);
			} else {
				selected = this.ul.children[this.index];
			}

			if (selected) {
				var suggestion = this.suggestions[this.index];

				var allowed = $.fire(this.input, "awesomplete-select", {
					text: suggestion,
					origin: origin || selected,
					originalEvent: originalEvent
				});

				if (allowed) {
					this.replace(suggestion);
					this.close({ reason: "select" });
					$.fire(this.input, "awesomplete-selectcomplete", {
						text: suggestion,
						originalEvent: originalEvent
					});
				}
			}
		},

		evaluate: function() {
			var me = this;
			var value = this.input.value;

			if (value.length >= this.minChars && this._list && this._list.length > 0) {
				this.index = -1;
				// Populate list with options that match
				this.ul.innerHTML = "";

				this.suggestions = this._list
					.map(function(item) {
						return new Suggestion(me.data(item, value));
					})
					.filter(function(item) {
						return me.filter(item, value);
					});

				if (this.sort !== false) {
					this.suggestions = this.suggestions.sort(this.sort);
				}

				this.suggestions = this.suggestions.slice(0, this.maxItems);

				this.suggestions.forEach(function(text, index) {
						me.ul.appendChild(me.item(text, value, index));
					});

				if (this.ul.children.length === 0) {

	                this.status.textContent = "No results found";

					this.close({ reason: "nomatches" });

				} else {
					this.open();

	                this.status.textContent = this.ul.children.length + " results found";
				}
			}
			else {
				this.close({ reason: "nomatches" });

	                this.status.textContent = "No results found";
			}
		}
	};

	// Static methods/properties

	_.all = [];

	_.FILTER_CONTAINS = function (text, input) {
		return RegExp($.regExpEscape(input.trim()), "i").test(text);
	};

	_.FILTER_STARTSWITH = function (text, input) {
		return RegExp("^" + $.regExpEscape(input.trim()), "i").test(text);
	};

	_.SORT_BYLENGTH = function (a, b) {
		if (a.length !== b.length) {
			return a.length - b.length;
		}

		return a < b? -1 : 1;
	};

	_.CONTAINER = function (input) {
		return $.create("div", {
			className: "awesomplete",
			around: input
		});
	};

	_.ITEM = function (text, input, item_id) {
		var html = input.trim() === "" ? text : text.replace(RegExp($.regExpEscape(input.trim()), "gi"), "<mark>$&</mark>");
		return $.create("li", {
			innerHTML: html,
			"role": "option",
			"aria-selected": "false",
			"id": "awesomplete_list_" + this.count + "_item_" + item_id
		});
	};

	_.REPLACE = function (text) {
		this.input.value = text.value;
	};

	_.DATA = function (item/*, input*/) { return item; };

	// Private functions

	function Suggestion(data) {
		var o = Array.isArray(data)
		  ? { label: data[0], value: data[1] }
		  : typeof data === "object" && "label" in data && "value" in data ? data : { label: data, value: data };

		this.label = o.label || o.value;
		this.value = o.value;
	}
	Object.defineProperty(Suggestion.prototype = Object.create(String.prototype), "length", {
		get: function() { return this.label.length; }
	});
	Suggestion.prototype.toString = Suggestion.prototype.valueOf = function () {
		return "" + this.label;
	};

	function configure(instance, properties, o) {
		for (var i in properties) {
			var initial = properties[i],
			    attrValue = instance.input.getAttribute("data-" + i.toLowerCase());

			if (typeof initial === "number") {
				instance[i] = parseInt(attrValue);
			}
			else if (initial === false) { // Boolean options must be false by default anyway
				instance[i] = attrValue !== null;
			}
			else if (initial instanceof Function) {
				instance[i] = null;
			}
			else {
				instance[i] = attrValue;
			}

			if (!instance[i] && instance[i] !== 0) {
				instance[i] = (i in o)? o[i] : initial;
			}
		}
	}

	// Helpers

	var slice = Array.prototype.slice;

	function $(expr, con) {
		return typeof expr === "string"? (con || document).querySelector(expr) : expr || null;
	}

	function $$(expr, con) {
		return slice.call((con || document).querySelectorAll(expr));
	}

	$.create = function(tag, o) {
		var element = document.createElement(tag);

		for (var i in o) {
			var val = o[i];

			if (i === "inside") {
				$(val).appendChild(element);
			}
			else if (i === "around") {
				var ref = $(val);
				ref.parentNode.insertBefore(element, ref);
				element.appendChild(ref);

				if (ref.getAttribute("autofocus") != null) {
					ref.focus();
				}
			}
			else if (i in element) {
				element[i] = val;
			}
			else {
				element.setAttribute(i, val);
			}
		}

		return element;
	};

	$.bind = function(element, o) {
		if (element) {
			for (var event in o) {
				var callback = o[event];

				event.split(/\s+/).forEach(function (event) {
					element.addEventListener(event, callback);
				});
			}
		}
	};

	$.unbind = function(element, o) {
		if (element) {
			for (var event in o) {
				var callback = o[event];

				event.split(/\s+/).forEach(function(event) {
					element.removeEventListener(event, callback);
				});
			}
		}
	};

	$.fire = function(target, type, properties) {
		var evt = document.createEvent("HTMLEvents");

		evt.initEvent(type, true, true );

		for (var j in properties) {
			evt[j] = properties[j];
		}

		return target.dispatchEvent(evt);
	};

	$.regExpEscape = function (s) {
		return s.replace(/[-\\^$*+?.()|[\]{}]/g, "\\$&");
	};

	$.siblingIndex = function (el) {
		/* eslint-disable no-cond-assign */
		for (var i = 0; el = el.previousElementSibling; i++){ }
		return i;
	};

	// Initialization

	function init() {
		$$("input.awesomplete").forEach(function (input) {
			new _(input);
		});
	}

	// Make sure to export Awesomplete on self when in a browser
	if (typeof self !== "undefined") {
		self.Awesomplete = _;
	}

	// Are we in a browser? Check for Document constructor
	if (typeof Document !== "undefined") {
		// DOM already loaded?
		if (document.readyState !== "loading") {
			init();
		}
		else {
			// Wait for it
			document.addEventListener("DOMContentLoaded", init);
		}
	}

	_.$ = $;
	_.$$ = $$;

	// Expose Awesomplete as a CJS module
	if (module.exports) {
		module.exports = _;
	}

	return _;

	}());
	});

	// special features for link

	frappe.ui.form.recent_link_validations = {};

	frappe.ui.form.ControlLink = frappe.ui.form.ControlData.extend({
		trigger_change_on_input_event: false,
		make_input: function() {
			var me = this;
			$(("<div class=\"link-field ui-front\" style=\"position: relative;\">\n\t\t\t<input type=\"text\" class=\"input-with-feedback form-control\">\n\t\t\t<span class=\"link-btn\">\n\t\t\t\t<a class=\"btn-open no-decoration\" title=\"" + (__("Open Link")) + "\">\n\t\t\t\t\t" + (frappe.utils.icon('arrow-right', 'xs')) + "\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t</div>")).prependTo(this.input_area);
			this.$input_area = $(this.input_area);
			this.$input = this.$input_area.find('input');
			this.$link = this.$input_area.find('.link-btn');
			this.$link_open = this.$link.find('.btn-open');
			this.set_input_attributes();
			this.$input.on("focus", function() {
				setTimeout(function() {
					if(me.$input.val() && me.get_options()) {
						var doctype = me.get_options();
						var name = me.$input.val();
						me.$link.toggle(true);
						me.$link_open.attr('href', frappe.utils.get_form_link(doctype, name));
					}

					if(!me.$input.val()) {
						me.$input.val("").trigger("input");
					}
				}, 500);
			});
			this.$input.on("blur", function() {
				// if this disappears immediately, the user's click
				// does not register, hence timeout
				setTimeout(function() {
					me.$link.toggle(false);
				}, 500);
			});
			this.$input.attr('data-target', this.df.options);
			this.input = this.$input.get(0);
			this.has_input = true;
			this.translate_values = true;
			this.setup_buttons();
			this.setup_awesomeplete();
			this.bind_change_event();
		},
		get_options: function() {
			return this.df.options;
		},
		get_reference_doctype: function get_reference_doctype() {
			// this is used to get the context in which link field is loaded
			if (this.doctype) { return this.doctype; }
			else {
				return frappe.get_route && frappe.get_route()[0] === 'List' ? frappe.get_route()[1] : null;
			}
		},
		setup_buttons: function() {
			if(this.only_input && !this.with_link_btn) {
				this.$input_area.find(".link-btn").remove();
			}
		},
		open_advanced_search: function() {
			var doctype = this.get_options();
			if(!doctype) { return; }
			new frappe.ui.form.LinkSelector({
				doctype: doctype,
				target: this,
				txt: this.get_input_value()
			});
			return false;
		},
		new_doc: function() {
			var doctype = this.get_options();
			var me = this;

			if (!doctype) { return; }

			var df = this.df;
			if (this.frm && this.frm.doctype !== this.df.parent) {
				// incase of grid use common df set in grid
				df = this.frm.get_docfield(this.doc.parentfield, this.df.fieldname);
			}
			// set values to fill in the new document
			if (df && df.get_route_options_for_new_doc) {
				frappe.route_options = df.get_route_options_for_new_doc(this);
			} else {
				frappe.route_options = {};
			}

			// partially entered name field
			frappe.route_options.name_field = this.get_value();

			// reference to calling link
			frappe._from_link = this;
			frappe._from_link_scrollY = $(document).scrollTop();

			frappe.ui.form.make_quick_entry(doctype, function (doc) {
				return me.set_value(doc.name);
			});

			return false;
		},
		setup_awesomeplete: function() {
			var this$1 = this;

			var me = this;

			this.$input.cache = {};

			this.awesomplete = new awesomplete(me.input, {
				minChars: 0,
				maxItems: 99,
				autoFirst: true,
				list: [],
				data: function (item) {
					return {
						label: item.label || item.value,
						value: item.value
					};
				},
				filter: function() {
					return true;
				},
				item: function (item) {
					var d = this.get_item(item.value);
					if(!d.label) {	d.label = d.value; }

					var _label = (me.translate_values) ? __(d.label) : d.label;
					var html = d.html || "<strong>" + _label + "</strong>";
					if(d.description && d.value!==d.description) {
						html += '<br><span class="small">' + __(d.description) + '</span>';
					}
					return $('<li></li>')
						.data('item.autocomplete', d)
						.prop('aria-selected', 'false')
						.html(("<a><p title=\"" + _label + "\">" + html + "</p></a>"))
						.get(0);
				},
				sort: function() {
					return 0;
				}
			});

			this.custom_awesomplete_filter && this.custom_awesomplete_filter(this.awesomplete);

			this.$input.on("input", frappe.utils.debounce(function(e) {
				var doctype = me.get_options();
				if(!doctype) { return; }
				if (!me.$input.cache[doctype]) {
					me.$input.cache[doctype] = {};
				}

				var term = e.target.value;

				if (me.$input.cache[doctype][term]!=null) {
					// immediately show from cache
					me.awesomplete.list = me.$input.cache[doctype][term];
				}
				var args = {
					'txt': term,
					'doctype': doctype,
					'ignore_user_permissions': me.df.ignore_user_permissions,
					'reference_doctype': me.get_reference_doctype() || ""
				};

				me.set_custom_query(args);

				frappe.call({
					type: "POST",
					method:'frappe.desk.search.search_link',
					no_spinner: true,
					args: args,
					callback: function(r) {
						if(!me.$input.is(":focus")) {
							return;
						}
						r.results = me.merge_duplicates(r.results);

						// show filter description in awesomplete
						if (args.filters) {
							var filter_string = me.get_filter_description(args.filters);
							if (filter_string) {
								r.results.push({
									html: ("<span class=\"text-muted\" style=\"line-height: 1.5\">" + filter_string + "</span>"),
									value: '',
									action: function () {}
								});
							}
						}

						if(!me.df.only_select) {
							if(frappe.model.can_create(doctype)) {
								// new item
								r.results.push({
									html: "<span class='text-primary link-option'>"
										+ "<i class='fa fa-plus' style='margin-right: 5px;'></i> "
										+ __("Create a new {0}", [__(me.get_options())])
										+ "</span>",
									label: __("Create a new {0}", [__(me.get_options())]),
									value: "create_new__link_option",
									action: me.new_doc
								});
							}
							// advanced search

							if (locals && locals['DocType']) {
								// not applicable in web forms
								r.results.push({
									html: "<span class='text-primary link-option'>"
										+ "<i class='fa fa-search' style='margin-right: 5px;'></i> "
										+ __("Advanced Search")
										+ "</span>",
									label: __("Advanced Search"),
									value: "advanced_search__link_option",
									action: me.open_advanced_search
								});
							}
						}
						me.$input.cache[doctype][term] = r.results;
						me.awesomplete.list = me.$input.cache[doctype][term];
						me.toggle_href(doctype);
					}
				});
			}, 500));

			this.$input.on("blur", function() {
				if(me.selected) {
					me.selected = false;
					return;
				}
				var value = me.get_input_value();
				if(value!==me.last_value) {
					me.parse_validate_and_set_in_model(value);
				}
			});

			this.$input.on("awesomplete-open", function () {
				this$1.autocomplete_open = true;
			});

			this.$input.on("awesomplete-close", function () {
				this$1.autocomplete_open = false;
			});

			this.$input.on("awesomplete-select", function(e) {
				var o = e.originalEvent;
				var item = me.awesomplete.get_item(o.text.value);

				me.autocomplete_open = false;

				// prevent selection on tab
				var TABKEY = 9;
				if(e.keyCode === TABKEY) {
					e.preventDefault();
					me.awesomplete.close();
					return false;
				}

				if(item.action) {
					item.value = "";
					item.action.apply(me);
				}

				// if remember_last_selected is checked in the doctype against the field,
				// then add this value
				// to defaults so you do not need to set it again
				// unless it is changed.
				if(me.df.remember_last_selected_value) {
					frappe.boot.user.last_selected_values[me.df.options] = item.value;
				}

				me.parse_validate_and_set_in_model(item.value);
			});

			this.$input.on("awesomplete-selectcomplete", function(e) {
				var o = e.originalEvent;
				if(o.text.value.indexOf("__link_option") !== -1) {
					me.$input.val("");
				}
			});
		},

		merge_duplicates: function merge_duplicates(results) {
			// in case of result like this
			// [{value: 'Manufacturer 1', 'description': 'mobile part 1'},
			// 	{value: 'Manufacturer 1', 'description': 'mobile part 2'}]
			// suggestion list has two items with same value (docname) & description
			return results.reduce(function (newArr, currElem) {
				if (newArr.length === 0) { return [currElem]; }
				var element_with_same_value = newArr.find(function (e) { return e.value === currElem.value; });
				if (element_with_same_value) {
					element_with_same_value.description += ", " + (currElem.description);
					return [].concat( newArr );
				}
				return newArr.concat( [currElem]);
			}, []);
			// returns [{value: 'Manufacturer 1', 'description': 'mobile part 1, mobile part 2'}]
		},

		toggle_href: function toggle_href(doctype) {
			if (frappe.model.can_select(doctype) && !frappe.model.can_read(doctype)) {
				// remove href from link field as user has only select perm
				this.$input_area.find(".link-btn").addClass('hide');
			} else {
				this.$input_area.find(".link-btn").removeClass('hide');
			}
		},

		get_filter_description: function get_filter_description(filters) {
			var doctype = this.get_options();
			var filter_array = [];
			var meta = null;

			frappe.model.with_doctype(doctype, function () {
				meta = frappe.get_meta(doctype);
			});

			// convert object style to array
			if (!Array.isArray(filters)) {
				for (var fieldname in filters) {
					var value = filters[fieldname];
					if (!Array.isArray(value)) {
						value = ['=', value];
					}
					filter_array.push([fieldname ].concat( value)); // fieldname, operator, value
				}
			} else {
				filter_array = filters;
			}

			// add doctype if missing
			filter_array = filter_array.map(function (filter) {
				if (filter.length === 3) {
					return [doctype ].concat( filter); // doctype, fieldname, operator, value
				}
				return filter;
			});

			function get_filter_description(filter) {
				var doctype = filter[0];
				var fieldname = filter[1];
				var docfield = frappe.meta.get_docfield(doctype, fieldname);
				var label = docfield ? docfield.label : frappe.model.unscrub(fieldname);

				if (docfield && docfield.fieldtype === 'Check') {
					filter[3] = filter[3] ? __('Yes'): __('No');
				}

				if (filter[3] && Array.isArray(filter[3]) && filter[3].length > 5) {
					filter[3] = filter[3].slice(0, 5);
					filter[3].push('...');
				}

				var value = filter[3] == null || filter[3] === ''
					? __('empty')
					: String(filter[3]);

				return [__(label).bold(), filter[2], value.bold()].join(' ');
			}

			var filter_string = filter_array
				.map(get_filter_description)
				.join(', ');

			return __('Filters applied for {0}', [filter_string]);
		},

		set_custom_query: function set_custom_query(args) {
			var this$1 = this;

			var is_valid_value = function (value, key) {
				if (value) { return true; }
				// check if empty value is valid
				if (this$1.frm) {
					var field = frappe.meta.get_docfield(this$1.frm.doctype, key);
					// empty value link fields is invalid
					return !field || !["Link", "Dynamic Link"].includes(field.fieldtype);
				} else {
					return value !== undefined;
				}
			};

			var set_nulls = function (obj) {
				$.each(obj, function (key, value) {
					if (!is_valid_value(value, key)) {
						delete obj[key];
					}
				});
				return obj;
			};

			if(this.get_query || this.df.get_query) {
				var get_query = this.get_query || this.df.get_query;
				if($.isPlainObject(get_query)) {
					var filters = null;
					if(get_query.filters) {
						// passed as {'filters': {'key':'value'}}
						filters = get_query.filters;
					} else if(get_query.query) {

						// passed as {'query': 'path.to.method'}
						args.query = get_query;
					} else {

						// dict is filters
						filters = get_query;
					}

					if (filters) {
						filters = set_nulls(filters);

						// extend args for custom functions
						$.extend(args, filters);

						// add "filters" for standard query (search.py)
						args.filters = filters;
					}
				} else if (typeof (get_query) === "string") {
					args.query = get_query;
				} else {
					// get_query by function
					var q = (get_query)(this.frm && this.frm.doc || this.doc, this.doctype, this.docname);

					if (typeof (q) ==="string") {
						// returns a string
						args.query = q;
					} else if($.isPlainObject(q)) {
						// returns a plain object with filters
						if(q.filters) {
							set_nulls(q.filters);
						}

						// turn off value translation
						if(q.translate_values !== undefined) {
							this.translate_values = q.translate_values;
						}

						// extend args for custom functions
						$.extend(args, q);

						// add "filters" for standard query (search.py)
						args.filters = q.filters;
					}
				}
			}
			if(this.df.filters) {
				set_nulls(this.df.filters);
				if(!args.filters) { args.filters = {}; }
				$.extend(args.filters, this.df.filters);
			}
		},

		validate: function validate(value) {
			// validate the value just entered
			if (
				this._validated
				|| this.df.options=="[Select]"
				|| this.df.ignore_link_validation
			) {
				return value;
			}

			return this.validate_link_and_fetch(this.df, this.get_options(),
				this.docname, value);
		},

		validate_link_and_fetch: function validate_link_and_fetch(df, options, docname, value) {
			if (!options) { return; }

			var fetch_map = this.get_fetch_map();
			var columns_to_fetch = Object.values(fetch_map);

			// if default and no fetch, no need to validate
			if (!columns_to_fetch.length && df.__default_value === value) {
				return value;
			}

			function update_dependant_fields(response) {
				var field_value = "";
				for (var i = 0, list = Object.entries(fetch_map); i < list.length; i += 1) {
					var ref = list[i];
					var target_field = ref[0];
					var source_field = ref[1];

					if (value) { field_value = response[source_field]; }
					frappe.model.set_value(
						df.parent,
						docname,
						target_field,
						field_value,
						df.fieldtype
					);
				}
			}

			// to avoid unnecessary request
			if (value) {
				return frappe.xcall("frappe.client.validate_link", {
					doctype: options,
					docname: value,
					fields: columns_to_fetch,
				}).then(function (response) {
					if (!docname || !columns_to_fetch.length) { return response.name; }
					update_dependant_fields(response);
					return response.name;
				});
			} else {
				update_dependant_fields({});
				return value;
			}
		},

		get_fetch_map: function get_fetch_map() {
			var fetch_map = {};
			if (!this.frm) { return fetch_map; }

			for (var i = 0, list = ["*", this.df.parent]; i < list.length; i += 1) {
				var key = list[i];

				if (this.frm.fetch_dict[key] && this.frm.fetch_dict[key][this.df.fieldname]) {
					Object.assign(fetch_map, this.frm.fetch_dict[key][this.df.fieldname]);
				}
			}

			return fetch_map;
		}
	});

	if (awesomplete) {
		awesomplete.prototype.get_item = function(value) {
			return this._list.find(function(item) {
				return item.value === value;
			});
		};
	}

	frappe.ui.form.ControlDynamicLink = frappe.ui.form.ControlLink.extend({
		get_options: function() {
			var options = '';
			if (this.df.get_options) {
				options = this.df.get_options();
			} else if (this.docname==null && cur_dialog) {
				//for dialog box
				options = cur_dialog.get_value(this.df.options);
			} else if (!cur_frm) {
				var selector = "input[data-fieldname=\"" + (this.df.options) + "\"]";
				var input = null;
				if (cur_list) {
					// for list page
					input = cur_list.filter_area.standard_filters_wrapper.find(selector);
				}
				if (cur_page) {
					input = $(cur_page.page).find(selector);
				}
				if (input) {
					options = input.val();
				}
			} else {
				options = frappe.model.get_value(this.df.parent, this.docname, this.df.options);
			}

			if (frappe.model.is_single(options)) {
				frappe.throw(__("{0} is not a valid DocType for Dynamic Link", [options.bold()]));
			}

			return options;
		},
	});

	frappe.ui.form.ControlText = frappe.ui.form.ControlData.extend({
		html_element: "textarea",
		horizontal: false,
		make_wrapper: function() {
			this._super();
			this.$wrapper.find(".like-disabled-input").addClass("for-description");
		},
		make_input: function() {
			this._super();
			this.$input.css({'height': '300px'});
		}
	});

	frappe.ui.form.ControlLongText = frappe.ui.form.ControlText;
	frappe.ui.form.ControlSmallText = frappe.ui.form.ControlText.extend({
		make_input: function() {
			this._super();
			this.$input.css({'height': '150px'});
		}
	});

	frappe.ui.form.ControlCode = frappe.ui.form.ControlText.extend({
		make_input: function make_input() {
			var this$1 = this;

			if (this.editor) { return; }
			this.load_lib().then(function () { return this$1.make_ace_editor(); });
		},

		make_ace_editor: function make_ace_editor() {
			var this$1 = this;

			if (this.editor) { return; }
			this.ace_editor_target = $('<div class="ace-editor-target"></div>')
				.appendTo(this.input_area);

			this.expanded = false;
			this.$expand_button = $(("<button class=\"btn btn-xs btn-default\">" + (this.get_button_label()) + "</button>")).click(function () {
				this$1.expanded = !this$1.expanded;
				this$1.refresh_height();
				this$1.toggle_label();
			}).appendTo(this.$input_wrapper);
			// styling
			this.ace_editor_target.addClass('border rounded');
			this.ace_editor_target.css('height', 300);

			// initialize
			var ace = window.ace;
			this.editor = ace.edit(this.ace_editor_target.get(0));
			this.editor.setTheme('ace/theme/tomorrow');
			this.editor.setOption("showPrintMargin", false);
			this.set_language();

			// events
			this.editor.session.on('change', frappe.utils.debounce(function () {
				var input_value = this$1.get_input_value();
				this$1.parse_validate_and_set_in_model(input_value);
			}, 300));

			// setup autocompletion when it is set the first time
			Object.defineProperty(this.df, 'autocompletions', {
				get: function get() {
					return this._autocompletions || [];
				},
				set: function (value) {
					this$1.setup_autocompletion();
					this$1.df._autocompletions = value;
				}
			});
		},

		setup_autocompletion: function setup_autocompletion() {
			var this$1 = this;

			if (this._autocompletion_setup) { return; }

			var ace = window.ace;
			var get_autocompletions = function () { return this$1.df.autocompletions; };

			ace.config.loadModule("ace/ext/language_tools", function (langTools) {
				this$1.editor.setOptions({
					enableBasicAutocompletion: true,
					enableLiveAutocompletion: true
				});

				langTools.addCompleter({
					getCompletions: function(editor, session, pos, prefix, callback) {
						if (prefix.length === 0) {
							callback(null, []);
							return;
						}
						var autocompletions = get_autocompletions();
						if (autocompletions.length) {
							callback(
								null,
								autocompletions.map(function (a) {
									if (typeof a === 'string') {
										a = { value: a };
									}
									return {
										name: 'frappe',
										value: a.value,
										score: a.score
									};
								})
							);
						}
					}
				});
			});
			this._autocompletion_setup = true;
		},

		refresh_height: function refresh_height() {
			this.ace_editor_target.css('height', this.expanded ? 600 : 300);
			this.editor.resize();
		},

		toggle_label: function toggle_label() {
			this.$expand_button && this.$expand_button.text(this.get_button_label());
		},

		get_button_label: function get_button_label() {
			return this.expanded ? __('Collapse', null, 'Shrink code field.') : __('Expand', null, 'Enlarge code field.');
		},

		set_language: function set_language() {
			var language_map = {
				'Javascript': 'ace/mode/javascript',
				'JS': 'ace/mode/javascript',
				'Python': 'ace/mode/python',
				'Py': 'ace/mode/python',
				'HTML': 'ace/mode/html',
				'CSS': 'ace/mode/css',
				'Markdown': 'ace/mode/markdown',
				'SCSS': 'ace/mode/scss',
				'JSON': 'ace/mode/json',
				'Golang': 'ace/mode/golang',
				'Go': 'ace/mode/golang'
			};
			var language = this.df.options;

			var valid_languages = Object.keys(language_map);
			if (language && !valid_languages.includes(language)) {
				// eslint-disable-next-line
				console.warn(("Invalid language option provided for field \"" + (this.df.label) + "\". Valid options are " + (valid_languages.join(', ')) + "."));
			}

			var ace_language_mode = language_map[language] || '';
			this.editor.session.setMode(ace_language_mode);
			this.editor.setKeyboardHandler('ace/keyboard/vscode');
		},

		parse: function parse(value) {
			if (value == null) {
				value = "";
			}
			return value;
		},

		set_formatted_input: function set_formatted_input(value) {
			var this$1 = this;

			return this.load_lib().then(function () {
				if (!this$1.editor) { return; }
				if (!value) { value = ''; }
				if (value === this$1.get_input_value()) { return; }
				this$1.editor.session.setValue(value);
			});
		},

		get_input_value: function get_input_value() {
			return this.editor ? this.editor.session.getValue() : '';
		},

		load_lib: function load_lib() {
			var this$1 = this;

			if (this.library_loaded) { return this.library_loaded; }

			if (frappe.boot.developer_mode) {
				this.root_lib_path = '/assets/frappe/node_modules/ace-builds/src-noconflict/';
			} else {
				this.root_lib_path = '/assets/frappe/node_modules/ace-builds/src-min-noconflict/';
			}

			this.library_loaded = new Promise(function (resolve) {
				frappe.require(this$1.root_lib_path + 'ace.js', function () {
					window.ace.config.set('basePath', this$1.root_lib_path);
					resolve();
				});
			});

			return this.library_loaded;
		}
	});

	var quill = createCommonjsModule(function (module, exports) {
	/*!
	 * Quill Editor v2.0.0-dev.3
	 * https://quilljs.com/
	 * Copyright (c) 2014, Jason Chen
	 * Copyright (c) 2013, salesforce.com
	 */
	(function webpackUniversalModuleDefinition(root, factory) {
		{ module.exports = factory(); }
	})(window, function() {
	return /******/ (function(modules) { // webpackBootstrap
	/******/ 	// The module cache
	/******/ 	var installedModules = {};
	/******/
	/******/ 	// The require function
	/******/ 	function __webpack_require__(moduleId) {
	/******/
	/******/ 		// Check if module is in cache
	/******/ 		if(installedModules[moduleId]) {
	/******/ 			return installedModules[moduleId].exports;
	/******/ 		}
	/******/ 		// Create a new module (and put it into the cache)
	/******/ 		var module = installedModules[moduleId] = {
	/******/ 			i: moduleId,
	/******/ 			l: false,
	/******/ 			exports: {}
	/******/ 		};
	/******/
	/******/ 		// Execute the module function
	/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
	/******/
	/******/ 		// Flag the module as loaded
	/******/ 		module.l = true;
	/******/
	/******/ 		// Return the exports of the module
	/******/ 		return module.exports;
	/******/ 	}
	/******/
	/******/
	/******/ 	// expose the modules object (__webpack_modules__)
	/******/ 	__webpack_require__.m = modules;
	/******/
	/******/ 	// expose the module cache
	/******/ 	__webpack_require__.c = installedModules;
	/******/
	/******/ 	// define getter function for harmony exports
	/******/ 	__webpack_require__.d = function(exports, name, getter) {
	/******/ 		if(!__webpack_require__.o(exports, name)) {
	/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
	/******/ 		}
	/******/ 	};
	/******/
	/******/ 	// define __esModule on exports
	/******/ 	__webpack_require__.r = function(exports) {
	/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
	/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
	/******/ 		}
	/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
	/******/ 	};
	/******/
	/******/ 	// create a fake namespace object
	/******/ 	// mode & 1: value is a module id, require it
	/******/ 	// mode & 2: merge all properties of value into the ns
	/******/ 	// mode & 4: return value when already ns object
	/******/ 	// mode & 8|1: behave like require
	/******/ 	__webpack_require__.t = function(value, mode) {
	/******/ 		if(mode & 1) { value = __webpack_require__(value); }
	/******/ 		if(mode & 8) { return value; }
	/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) { return value; }
	/******/ 		var ns = Object.create(null);
	/******/ 		__webpack_require__.r(ns);
	/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
	/******/ 		if(mode & 2 && typeof value != 'string') { for(var key in value) { __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key)); } }
	/******/ 		return ns;
	/******/ 	};
	/******/
	/******/ 	// getDefaultExport function for compatibility with non-harmony modules
	/******/ 	__webpack_require__.n = function(module) {
	/******/ 		var getter = module && module.__esModule ?
	/******/ 			function getDefault() { return module['default']; } :
	/******/ 			function getModuleExports() { return module; };
	/******/ 		__webpack_require__.d(getter, 'a', getter);
	/******/ 		return getter;
	/******/ 	};
	/******/
	/******/ 	// Object.prototype.hasOwnProperty.call
	/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
	/******/
	/******/ 	// __webpack_public_path__
	/******/ 	__webpack_require__.p = "";
	/******/
	/******/
	/******/ 	// Load entry module and return exports
	/******/ 	return __webpack_require__(__webpack_require__.s = 0);
	/******/ })
	/************************************************************************/
	/******/ ({

	/***/ "./assets/icons/align-center.svg":
	/*!***************************************!*\
	  !*** ./assets/icons/align-center.svg ***!
	  \***************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/align-center.svg?");

	/***/ }),

	/***/ "./assets/icons/align-justify.svg":
	/*!****************************************!*\
	  !*** ./assets/icons/align-justify.svg ***!
	  \****************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/align-justify.svg?");

	/***/ }),

	/***/ "./assets/icons/align-left.svg":
	/*!*************************************!*\
	  !*** ./assets/icons/align-left.svg ***!
	  \*************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/align-left.svg?");

	/***/ }),

	/***/ "./assets/icons/align-right.svg":
	/*!**************************************!*\
	  !*** ./assets/icons/align-right.svg ***!
	  \**************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/align-right.svg?");

	/***/ }),

	/***/ "./assets/icons/background.svg":
	/*!*************************************!*\
	  !*** ./assets/icons/background.svg ***!
	  \*************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/background.svg?");

	/***/ }),

	/***/ "./assets/icons/blockquote.svg":
	/*!*************************************!*\
	  !*** ./assets/icons/blockquote.svg ***!
	  \*************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/blockquote.svg?");

	/***/ }),

	/***/ "./assets/icons/bold.svg":
	/*!*******************************!*\
	  !*** ./assets/icons/bold.svg ***!
	  \*******************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/bold.svg?");

	/***/ }),

	/***/ "./assets/icons/clean.svg":
	/*!********************************!*\
	  !*** ./assets/icons/clean.svg ***!
	  \********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/clean.svg?");

	/***/ }),

	/***/ "./assets/icons/code.svg":
	/*!*******************************!*\
	  !*** ./assets/icons/code.svg ***!
	  \*******************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/code.svg?");

	/***/ }),

	/***/ "./assets/icons/color.svg":
	/*!********************************!*\
	  !*** ./assets/icons/color.svg ***!
	  \********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/color.svg?");

	/***/ }),

	/***/ "./assets/icons/direction-ltr.svg":
	/*!****************************************!*\
	  !*** ./assets/icons/direction-ltr.svg ***!
	  \****************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/direction-ltr.svg?");

	/***/ }),

	/***/ "./assets/icons/direction-rtl.svg":
	/*!****************************************!*\
	  !*** ./assets/icons/direction-rtl.svg ***!
	  \****************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/direction-rtl.svg?");

	/***/ }),

	/***/ "./assets/icons/dropdown.svg":
	/*!***********************************!*\
	  !*** ./assets/icons/dropdown.svg ***!
	  \***********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/dropdown.svg?");

	/***/ }),

	/***/ "./assets/icons/formula.svg":
	/*!**********************************!*\
	  !*** ./assets/icons/formula.svg ***!
	  \**********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/formula.svg?");

	/***/ }),

	/***/ "./assets/icons/header-2.svg":
	/*!***********************************!*\
	  !*** ./assets/icons/header-2.svg ***!
	  \***********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/header-2.svg?");

	/***/ }),

	/***/ "./assets/icons/header.svg":
	/*!*********************************!*\
	  !*** ./assets/icons/header.svg ***!
	  \*********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/header.svg?");

	/***/ }),

	/***/ "./assets/icons/image.svg":
	/*!********************************!*\
	  !*** ./assets/icons/image.svg ***!
	  \********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/image.svg?");

	/***/ }),

	/***/ "./assets/icons/indent.svg":
	/*!*********************************!*\
	  !*** ./assets/icons/indent.svg ***!
	  \*********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/indent.svg?");

	/***/ }),

	/***/ "./assets/icons/italic.svg":
	/*!*********************************!*\
	  !*** ./assets/icons/italic.svg ***!
	  \*********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/italic.svg?");

	/***/ }),

	/***/ "./assets/icons/link.svg":
	/*!*******************************!*\
	  !*** ./assets/icons/link.svg ***!
	  \*******************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/link.svg?");

	/***/ }),

	/***/ "./assets/icons/list-bullet.svg":
	/*!**************************************!*\
	  !*** ./assets/icons/list-bullet.svg ***!
	  \**************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/list-bullet.svg?");

	/***/ }),

	/***/ "./assets/icons/list-check.svg":
	/*!*************************************!*\
	  !*** ./assets/icons/list-check.svg ***!
	  \*************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/list-check.svg?");

	/***/ }),

	/***/ "./assets/icons/list-ordered.svg":
	/*!***************************************!*\
	  !*** ./assets/icons/list-ordered.svg ***!
	  \***************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/list-ordered.svg?");

	/***/ }),

	/***/ "./assets/icons/outdent.svg":
	/*!**********************************!*\
	  !*** ./assets/icons/outdent.svg ***!
	  \**********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/outdent.svg?");

	/***/ }),

	/***/ "./assets/icons/strike.svg":
	/*!*********************************!*\
	  !*** ./assets/icons/strike.svg ***!
	  \*********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/strike.svg?");

	/***/ }),

	/***/ "./assets/icons/subscript.svg":
	/*!************************************!*\
	  !*** ./assets/icons/subscript.svg ***!
	  \************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/subscript.svg?");

	/***/ }),

	/***/ "./assets/icons/superscript.svg":
	/*!**************************************!*\
	  !*** ./assets/icons/superscript.svg ***!
	  \**************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/superscript.svg?");

	/***/ }),

	/***/ "./assets/icons/table.svg":
	/*!********************************!*\
	  !*** ./assets/icons/table.svg ***!
	  \********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=2 width=3 x=5 y=5></rect> <rect class=ql-fill height=2 width=4 x=9 y=5></rect> <g class=\\\"ql-fill ql-transparent\\\"> <rect height=2 width=3 x=5 y=8></rect> <rect height=2 width=4 x=9 y=8></rect> <rect height=2 width=3 x=5 y=11></rect> <rect height=2 width=4 x=9 y=11></rect> </g> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/table.svg?");

	/***/ }),

	/***/ "./assets/icons/underline.svg":
	/*!************************************!*\
	  !*** ./assets/icons/underline.svg ***!
	  \************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/underline.svg?");

	/***/ }),

	/***/ "./assets/icons/video.svg":
	/*!********************************!*\
	  !*** ./assets/icons/video.svg ***!
	  \********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// Module\nvar code = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n// Exports\nmodule.exports = code;\n\n//# sourceURL=webpack://Quill/./assets/icons/video.svg?");

	/***/ }),

	/***/ "./blots/block.js":
	/*!************************!*\
	  !*** ./blots/block.js ***!
	  \************************/
	/*! exports provided: blockDelta, bubbleFormats, BlockEmbed, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"blockDelta\", function() { return blockDelta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bubbleFormats\", function() { return bubbleFormats; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BlockEmbed\", function() { return BlockEmbed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Block; });\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./break */ \"./blots/break.js\");\n/* harmony import */ var _inline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inline */ \"./blots/inline.js\");\n/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./text */ \"./blots/text.js\");\n\n\n\n\n\n\nconst NEWLINE_LENGTH = 1;\n\nclass Block extends parchment__WEBPACK_IMPORTED_MODULE_2__[\"BlockBlot\"] {\n  constructor(scroll, domNode) {\n    super(scroll, domNode);\n    this.cache = {};\n  }\n\n  delta() {\n    if (this.cache.delta == null) {\n      this.cache.delta = blockDelta(this);\n    }\n\n    return this.cache.delta;\n  }\n\n  deleteAt(index, length) {\n    super.deleteAt(index, length);\n    this.cache = {};\n  }\n\n  formatAt(index, length, name, value) {\n    if (length <= 0) return;\n\n    if (this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_2__[\"Scope\"].BLOCK)) {\n      if (index + length === this.length()) {\n        this.format(name, value);\n      }\n    } else {\n      super.formatAt(index, Math.min(length, this.length() - index - 1), name, value);\n    }\n\n    this.cache = {};\n  }\n\n  insertAt(index, value, def) {\n    if (def != null) {\n      super.insertAt(index, value, def);\n      this.cache = {};\n      return;\n    }\n\n    if (value.length === 0) return;\n    const lines = value.split('\\n');\n    const text = lines.shift();\n\n    if (text.length > 0) {\n      if (index < this.length() - 1 || this.children.tail == null) {\n        super.insertAt(Math.min(index, this.length() - 1), text);\n      } else {\n        this.children.tail.insertAt(this.children.tail.length(), text);\n      }\n\n      this.cache = {};\n    }\n\n    let block = this;\n    lines.reduce((lineIndex, line) => {\n      block = block.split(lineIndex, true);\n      block.insertAt(0, line);\n      return line.length;\n    }, index + text.length);\n  }\n\n  insertBefore(blot, ref) {\n    const {\n      head\n    } = this.children;\n    super.insertBefore(blot, ref);\n\n    if (head instanceof _break__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\n      head.remove();\n    }\n\n    this.cache = {};\n  }\n\n  length() {\n    if (this.cache.length == null) {\n      this.cache.length = super.length() + NEWLINE_LENGTH;\n    }\n\n    return this.cache.length;\n  }\n\n  moveChildren(target, ref) {\n    super.moveChildren(target, ref);\n    this.cache = {};\n  }\n\n  optimize(context) {\n    super.optimize(context);\n    this.cache = {};\n  }\n\n  path(index) {\n    return super.path(index, true);\n  }\n\n  removeChild(child) {\n    super.removeChild(child);\n    this.cache = {};\n  }\n\n  split(index, force = false) {\n    if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n      const clone = this.clone();\n\n      if (index === 0) {\n        this.parent.insertBefore(clone, this);\n        return this;\n      }\n\n      this.parent.insertBefore(clone, this.next);\n      return clone;\n    }\n\n    const next = super.split(index, force);\n    this.cache = {};\n    return next;\n  }\n\n}\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = _break__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nBlock.allowedChildren = [_break__WEBPACK_IMPORTED_MODULE_3__[\"default\"], _inline__WEBPACK_IMPORTED_MODULE_4__[\"default\"], parchment__WEBPACK_IMPORTED_MODULE_2__[\"EmbedBlot\"], _text__WEBPACK_IMPORTED_MODULE_5__[\"default\"]];\n\nclass BlockEmbed extends parchment__WEBPACK_IMPORTED_MODULE_2__[\"EmbedBlot\"] {\n  attach() {\n    super.attach();\n    this.attributes = new parchment__WEBPACK_IMPORTED_MODULE_2__[\"AttributorStore\"](this.domNode);\n  }\n\n  delta() {\n    return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(this.value(), extend__WEBPACK_IMPORTED_MODULE_0___default()(this.formats(), this.attributes.values()));\n  }\n\n  format(name, value) {\n    const attribute = this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_2__[\"Scope\"].BLOCK_ATTRIBUTE);\n\n    if (attribute != null) {\n      this.attributes.attribute(attribute, value);\n    }\n  }\n\n  formatAt(index, length, name, value) {\n    this.format(name, value);\n  }\n\n  insertAt(index, value, def) {\n    if (typeof value === 'string' && value.endsWith('\\n')) {\n      const block = this.scroll.create(Block.blotName);\n      this.parent.insertBefore(block, index === 0 ? this : this.next);\n      block.insertAt(0, value.slice(0, -1));\n    } else {\n      super.insertAt(index, value, def);\n    }\n  }\n\n}\n\nBlockEmbed.scope = parchment__WEBPACK_IMPORTED_MODULE_2__[\"Scope\"].BLOCK_BLOT; // It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\nfunction blockDelta(blot, filter = true) {\n  return blot.descendants(parchment__WEBPACK_IMPORTED_MODULE_2__[\"LeafBlot\"]).reduce((delta, leaf) => {\n    if (leaf.length() === 0) {\n      return delta;\n    }\n\n    return delta.insert(leaf.value(), bubbleFormats(leaf, {}, filter));\n  }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a()).insert('\\n', bubbleFormats(blot));\n}\n\nfunction bubbleFormats(blot, formats = {}, filter = true) {\n  if (blot == null) return formats;\n\n  if (typeof blot.formats === 'function') {\n    formats = extend__WEBPACK_IMPORTED_MODULE_0___default()(formats, blot.formats());\n\n    if (filter) {\n      // exclude syntax highlighting from deltas and getFormat()\n      delete formats['code-token'];\n    }\n  }\n\n  if (blot.parent == null || blot.parent.statics.blotName === 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n\n  return bubbleFormats(blot.parent, formats, filter);\n}\n\n\n\n//# sourceURL=webpack://Quill/./blots/block.js?");

	/***/ }),

	/***/ "./blots/break.js":
	/*!************************!*\
	  !*** ./blots/break.js ***!
	  \************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\n\nclass Break extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"EmbedBlot\"] {\n  static value() {\n    return undefined;\n  }\n\n  optimize() {\n    if (this.prev || this.next) {\n      this.remove();\n    }\n  }\n\n  length() {\n    return 0;\n  }\n\n  value() {\n    return '';\n  }\n\n}\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Break);\n\n//# sourceURL=webpack://Quill/./blots/break.js?");

	/***/ }),

	/***/ "./blots/container.js":
	/*!****************************!*\
	  !*** ./blots/container.js ***!
	  \****************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\n\nclass Container extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"ContainerBlot\"] {}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Container);\n\n//# sourceURL=webpack://Quill/./blots/container.js?");

	/***/ }),

	/***/ "./blots/cursor.js":
	/*!*************************!*\
	  !*** ./blots/cursor.js ***!
	  \*************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text */ \"./blots/text.js\");\n\n\n\nclass Cursor extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"EmbedBlot\"] {\n  static value() {\n    return undefined;\n  }\n\n  constructor(scroll, domNode, selection) {\n    super(scroll, domNode);\n    this.selection = selection;\n    this.textNode = document.createTextNode(Cursor.CONTENTS);\n    this.domNode.appendChild(this.textNode);\n    this.savedLength = 0;\n  }\n\n  detach() {\n    // super.detach() will also clear domNode.__blot\n    if (this.parent != null) this.parent.removeChild(this);\n  }\n\n  format(name, value) {\n    if (this.savedLength !== 0) {\n      super.format(name, value);\n      return;\n    }\n\n    let target = this;\n    let index = 0;\n\n    while (target != null && target.statics.scope !== parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOCK_BLOT) {\n      index += target.offset(target.parent);\n      target = target.parent;\n    }\n\n    if (target != null) {\n      this.savedLength = Cursor.CONTENTS.length;\n      target.optimize();\n      target.formatAt(index, Cursor.CONTENTS.length, name, value);\n      this.savedLength = 0;\n    }\n  }\n\n  index(node, offset) {\n    if (node === this.textNode) return 0;\n    return super.index(node, offset);\n  }\n\n  length() {\n    return this.savedLength;\n  }\n\n  position() {\n    return [this.textNode, this.textNode.data.length];\n  }\n\n  remove() {\n    super.remove();\n    this.parent = null;\n  }\n\n  restore() {\n    if (this.selection.composing || this.parent == null) return null;\n    const range = this.selection.getNativeRange(); // Link format will insert text outside of anchor tag\n\n    while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n      this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n    }\n\n    const prevTextBlot = this.prev instanceof _text__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ? this.prev : null;\n    const prevTextLength = prevTextBlot ? prevTextBlot.length() : 0;\n    const nextTextBlot = this.next instanceof _text__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ? this.next : null;\n    const nextText = nextTextBlot ? nextTextBlot.text : '';\n    const {\n      textNode\n    } = this; // take text from inside this blot and reset it\n\n    const newText = textNode.data.split(Cursor.CONTENTS).join('');\n    textNode.data = Cursor.CONTENTS; // proactively merge TextBlots around cursor so that optimization\n    // doesn't lose the cursor.  the reason we are here in cursor.restore\n    // could be that the user clicked in prevTextBlot or nextTextBlot, or\n    // the user typed something.\n\n    let mergedTextBlot;\n\n    if (prevTextBlot) {\n      mergedTextBlot = prevTextBlot;\n\n      if (newText || nextTextBlot) {\n        prevTextBlot.insertAt(prevTextBlot.length(), newText + nextText);\n\n        if (nextTextBlot) {\n          nextTextBlot.remove();\n        }\n      }\n    } else if (nextTextBlot) {\n      mergedTextBlot = nextTextBlot;\n      nextTextBlot.insertAt(0, newText);\n    } else {\n      const newTextNode = document.createTextNode(newText);\n      mergedTextBlot = this.scroll.create(newTextNode);\n      this.parent.insertBefore(mergedTextBlot, this);\n    }\n\n    this.remove();\n\n    if (range) {\n      // calculate selection to restore\n      const remapOffset = (node, offset) => {\n        if (prevTextBlot && node === prevTextBlot.domNode) {\n          return offset;\n        }\n\n        if (node === textNode) {\n          return prevTextLength + offset - 1;\n        }\n\n        if (nextTextBlot && node === nextTextBlot.domNode) {\n          return prevTextLength + newText.length + offset;\n        }\n\n        return null;\n      };\n\n      const start = remapOffset(range.start.node, range.start.offset);\n      const end = remapOffset(range.end.node, range.end.offset);\n\n      if (start !== null && end !== null) {\n        return {\n          startNode: mergedTextBlot.domNode,\n          startOffset: start,\n          endNode: mergedTextBlot.domNode,\n          endOffset: end\n        };\n      }\n    }\n\n    return null;\n  }\n\n  update(mutations, context) {\n    if (mutations.some(mutation => {\n      return mutation.type === 'characterData' && mutation.target === this.textNode;\n    })) {\n      const range = this.restore();\n      if (range) context.range = range;\n    }\n  }\n\n  value() {\n    return '';\n  }\n\n}\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Cursor);\n\n//# sourceURL=webpack://Quill/./blots/cursor.js?");

	/***/ }),

	/***/ "./blots/embed.js":
	/*!************************!*\
	  !*** ./blots/embed.js ***!
	  \************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text */ \"./blots/text.js\");\n\n\nconst GUARD_TEXT = '\\uFEFF';\n\nclass Embed extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"EmbedBlot\"] {\n  constructor(scroll, node) {\n    super(scroll, node);\n    this.contentNode = document.createElement('span');\n    this.contentNode.setAttribute('contenteditable', false);\n    Array.from(this.domNode.childNodes).forEach(childNode => {\n      this.contentNode.appendChild(childNode);\n    });\n    this.leftGuard = document.createTextNode(GUARD_TEXT);\n    this.rightGuard = document.createTextNode(GUARD_TEXT);\n    this.domNode.appendChild(this.leftGuard);\n    this.domNode.appendChild(this.contentNode);\n    this.domNode.appendChild(this.rightGuard);\n  }\n\n  index(node, offset) {\n    if (node === this.leftGuard) return 0;\n    if (node === this.rightGuard) return 1;\n    return super.index(node, offset);\n  }\n\n  restore(node) {\n    let range;\n    let textNode;\n    const text = node.data.split(GUARD_TEXT).join('');\n\n    if (node === this.leftGuard) {\n      if (this.prev instanceof _text__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n        const prevLength = this.prev.length();\n        this.prev.insertAt(prevLength, text);\n        range = {\n          startNode: this.prev.domNode,\n          startOffset: prevLength + text.length\n        };\n      } else {\n        textNode = document.createTextNode(text);\n        this.parent.insertBefore(this.scroll.create(textNode), this);\n        range = {\n          startNode: textNode,\n          startOffset: text.length\n        };\n      }\n    } else if (node === this.rightGuard) {\n      if (this.next instanceof _text__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n        this.next.insertAt(0, text);\n        range = {\n          startNode: this.next.domNode,\n          startOffset: text.length\n        };\n      } else {\n        textNode = document.createTextNode(text);\n        this.parent.insertBefore(this.scroll.create(textNode), this.next);\n        range = {\n          startNode: textNode,\n          startOffset: text.length\n        };\n      }\n    }\n\n    node.data = GUARD_TEXT;\n    return range;\n  }\n\n  update(mutations, context) {\n    mutations.forEach(mutation => {\n      if (mutation.type === 'characterData' && (mutation.target === this.leftGuard || mutation.target === this.rightGuard)) {\n        const range = this.restore(mutation.target);\n        if (range) context.range = range;\n      }\n    });\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Embed);\n\n//# sourceURL=webpack://Quill/./blots/embed.js?");

	/***/ }),

	/***/ "./blots/inline.js":
	/*!*************************!*\
	  !*** ./blots/inline.js ***!
	  \*************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./break */ \"./blots/break.js\");\n/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./text */ \"./blots/text.js\");\n\n\n\n\nclass Inline extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"InlineBlot\"] {\n  static compare(self, other) {\n    const selfIndex = Inline.order.indexOf(self);\n    const otherIndex = Inline.order.indexOf(other);\n\n    if (selfIndex >= 0 || otherIndex >= 0) {\n      return selfIndex - otherIndex;\n    }\n\n    if (self === other) {\n      return 0;\n    }\n\n    if (self < other) {\n      return -1;\n    }\n\n    return 1;\n  }\n\n  formatAt(index, length, name, value) {\n    if (Inline.compare(this.statics.blotName, name) < 0 && this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOT)) {\n      const blot = this.isolate(index, length);\n\n      if (value) {\n        blot.wrap(name, value);\n      }\n    } else {\n      super.formatAt(index, length, name, value);\n    }\n  }\n\n  optimize(context) {\n    super.optimize(context);\n\n    if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n      const parent = this.parent.isolate(this.offset(), this.length());\n      this.moveChildren(parent);\n      parent.wrap(this);\n    }\n  }\n\n}\n\nInline.allowedChildren = [Inline, _break__WEBPACK_IMPORTED_MODULE_1__[\"default\"], parchment__WEBPACK_IMPORTED_MODULE_0__[\"EmbedBlot\"], _text__WEBPACK_IMPORTED_MODULE_2__[\"default\"]]; // Lower index means deeper in the DOM tree, since not found (-1) is for embeds\n\nInline.order = ['cursor', 'inline', // Must be lower\n'link', // Chrome wants <a> to be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'code' // Must be higher\n];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Inline);\n\n//# sourceURL=webpack://Quill/./blots/inline.js?");

	/***/ }),

	/***/ "./blots/scroll.js":
	/*!*************************!*\
	  !*** ./blots/scroll.js ***!
	  \*************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ \"./core/emitter.js\");\n/* harmony import */ var _block__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./block */ \"./blots/block.js\");\n/* harmony import */ var _break__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./break */ \"./blots/break.js\");\n/* harmony import */ var _container__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./container */ \"./blots/container.js\");\n\n\n\n\n\n\nfunction isLine(blot) {\n  return blot instanceof _block__WEBPACK_IMPORTED_MODULE_2__[\"default\"] || blot instanceof _block__WEBPACK_IMPORTED_MODULE_2__[\"BlockEmbed\"];\n}\n\nclass Scroll extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"ScrollBlot\"] {\n  constructor(registry, domNode, {\n    emitter\n  }) {\n    super(registry, domNode);\n    this.emitter = emitter;\n    this.batch = false;\n    this.optimize();\n    this.enable();\n    this.domNode.addEventListener('dragstart', e => this.handleDragStart(e));\n  }\n\n  batchStart() {\n    if (!Array.isArray(this.batch)) {\n      this.batch = [];\n    }\n  }\n\n  batchEnd() {\n    const mutations = this.batch;\n    this.batch = false;\n    this.update(mutations);\n  }\n\n  emitMount(blot) {\n    this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SCROLL_BLOT_MOUNT, blot);\n  }\n\n  emitUnmount(blot) {\n    this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SCROLL_BLOT_UNMOUNT, blot);\n  }\n\n  deleteAt(index, length) {\n    const [first, offset] = this.line(index);\n    const [last] = this.line(index + length);\n    super.deleteAt(index, length);\n\n    if (last != null && first !== last && offset > 0) {\n      if (first instanceof _block__WEBPACK_IMPORTED_MODULE_2__[\"BlockEmbed\"] || last instanceof _block__WEBPACK_IMPORTED_MODULE_2__[\"BlockEmbed\"]) {\n        this.optimize();\n        return;\n      }\n\n      const ref = last.children.head instanceof _break__WEBPACK_IMPORTED_MODULE_3__[\"default\"] ? null : last.children.head;\n      first.moveChildren(last, ref);\n      first.remove();\n    }\n\n    this.optimize();\n  }\n\n  enable(enabled = true) {\n    this.domNode.setAttribute('contenteditable', enabled);\n  }\n\n  formatAt(index, length, format, value) {\n    super.formatAt(index, length, format, value);\n    this.optimize();\n  }\n\n  handleDragStart(event) {\n    event.preventDefault();\n  }\n\n  insertAt(index, value, def) {\n    if (index >= this.length()) {\n      if (def == null || this.scroll.query(value, parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOCK) == null) {\n        const blot = this.scroll.create(this.statics.defaultChild.blotName);\n        this.appendChild(blot);\n\n        if (def == null && value.endsWith('\\n')) {\n          blot.insertAt(0, value.slice(0, -1), def);\n        } else {\n          blot.insertAt(0, value, def);\n        }\n      } else {\n        const embed = this.scroll.create(value, def);\n        this.appendChild(embed);\n      }\n    } else {\n      super.insertAt(index, value, def);\n    }\n\n    this.optimize();\n  }\n\n  insertBefore(blot, ref) {\n    if (blot.statics.scope === parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE_BLOT) {\n      const wrapper = this.scroll.create(this.statics.defaultChild.blotName);\n      wrapper.appendChild(blot);\n      super.insertBefore(wrapper, ref);\n    } else {\n      super.insertBefore(blot, ref);\n    }\n  }\n\n  isEnabled() {\n    return this.domNode.getAttribute('contenteditable') === 'true';\n  }\n\n  leaf(index) {\n    return this.path(index).pop() || [null, -1];\n  }\n\n  line(index) {\n    if (index === this.length()) {\n      return this.line(index - 1);\n    }\n\n    return this.descendant(isLine, index);\n  }\n\n  lines(index = 0, length = Number.MAX_VALUE) {\n    const getLines = (blot, blotIndex, blotLength) => {\n      let lines = [];\n      let lengthLeft = blotLength;\n      blot.children.forEachAt(blotIndex, blotLength, (child, childIndex, childLength) => {\n        if (isLine(child)) {\n          lines.push(child);\n        } else if (child instanceof parchment__WEBPACK_IMPORTED_MODULE_0__[\"ContainerBlot\"]) {\n          lines = lines.concat(getLines(child, childIndex, lengthLeft));\n        }\n\n        lengthLeft -= childLength;\n      });\n      return lines;\n    };\n\n    return getLines(this, index, length);\n  }\n\n  optimize(mutations = [], context = {}) {\n    if (this.batch) return;\n    super.optimize(mutations, context);\n\n    if (mutations.length > 0) {\n      this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SCROLL_OPTIMIZE, mutations, context);\n    }\n  }\n\n  path(index) {\n    return super.path(index).slice(1); // Exclude self\n  }\n\n  remove() {// Never remove self\n  }\n\n  update(mutations) {\n    if (this.batch) {\n      if (Array.isArray(mutations)) {\n        this.batch = this.batch.concat(mutations);\n      }\n\n      return;\n    }\n\n    let source = _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER;\n\n    if (typeof mutations === 'string') {\n      source = mutations;\n    }\n\n    if (!Array.isArray(mutations)) {\n      mutations = this.observer.takeRecords();\n    }\n\n    if (mutations.length > 0) {\n      this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SCROLL_BEFORE_UPDATE, source, mutations);\n    }\n\n    super.update(mutations.concat([])); // pass copy\n\n    if (mutations.length > 0) {\n      this.emitter.emit(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SCROLL_UPDATE, source, mutations);\n    }\n  }\n\n}\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = _block__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nScroll.allowedChildren = [_block__WEBPACK_IMPORTED_MODULE_2__[\"default\"], _block__WEBPACK_IMPORTED_MODULE_2__[\"BlockEmbed\"], _container__WEBPACK_IMPORTED_MODULE_4__[\"default\"]];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Scroll);\n\n//# sourceURL=webpack://Quill/./blots/scroll.js?");

	/***/ }),

	/***/ "./blots/text.js":
	/*!***********************!*\
	  !*** ./blots/text.js ***!
	  \***********************/
	/*! exports provided: default, escapeText */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"escapeText\", function() { return escapeText; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\n\nclass Text extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"TextBlot\"] {}\n\nfunction escapeText(text) {\n  return text.replace(/[&<>\"']/g, s => {\n    // https://lodash.com/docs#escape\n    const entityMap = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n    return entityMap[s];\n  });\n}\n\n\n\n//# sourceURL=webpack://Quill/./blots/text.js?");

	/***/ }),

	/***/ "./core.js":
	/*!*****************!*\
	  !*** ./core.js ***!
	  \*****************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/quill */ \"./core/quill.js\");\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blots/block */ \"./blots/block.js\");\n/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./blots/break */ \"./blots/break.js\");\n/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blots/container */ \"./blots/container.js\");\n/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blots/cursor */ \"./blots/cursor.js\");\n/* harmony import */ var _blots_embed__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blots/embed */ \"./blots/embed.js\");\n/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blots/inline */ \"./blots/inline.js\");\n/* harmony import */ var _blots_scroll__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blots/scroll */ \"./blots/scroll.js\");\n/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./blots/text */ \"./blots/text.js\");\n/* harmony import */ var _modules_clipboard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/clipboard */ \"./modules/clipboard.js\");\n/* harmony import */ var _modules_history__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/history */ \"./modules/history.js\");\n/* harmony import */ var _modules_keyboard__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/keyboard */ \"./modules/keyboard.js\");\n/* harmony import */ var _modules_uploader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/uploader */ \"./modules/uploader.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n_core_quill__WEBPACK_IMPORTED_MODULE_0__[\"default\"].register({\n  'blots/block': _blots_block__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  'blots/block/embed': _blots_block__WEBPACK_IMPORTED_MODULE_1__[\"BlockEmbed\"],\n  'blots/break': _blots_break__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  'blots/container': _blots_container__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  'blots/cursor': _blots_cursor__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  'blots/embed': _blots_embed__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  'blots/inline': _blots_inline__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  'blots/scroll': _blots_scroll__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  'blots/text': _blots_text__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  'modules/clipboard': _modules_clipboard__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  'modules/history': _modules_history__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  'modules/keyboard': _modules_keyboard__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  'modules/uploader': _modules_uploader__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (_core_quill__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Quill/./core.js?");

	/***/ }),

	/***/ "./core/editor.js":
	/*!************************!*\
	  !*** ./core/editor.js ***!
	  \************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clone */ \"./node_modules/clone/clone.js\");\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(clone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! deep-equal */ \"./node_modules/deep-equal/index.js\");\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./selection */ \"./core/selection.js\");\n/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../blots/cursor */ \"./blots/cursor.js\");\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../blots/break */ \"./blots/break.js\");\n/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../blots/text */ \"./blots/text.js\");\n\n\n\n\n\n\n\n\n\n\nconst ASCII = /^[ -~]*$/;\n\nclass Editor {\n  constructor(scroll) {\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  applyDelta(delta) {\n    let consumeNextNewline = false;\n    this.scroll.update();\n    let scrollLength = this.scroll.length();\n    this.scroll.batchStart();\n    const normalizedDelta = normalizeDelta(delta);\n    normalizedDelta.reduce((index, op) => {\n      const length = op.retain || op.delete || op.insert.length || 1;\n      let attributes = op.attributes || {};\n\n      if (op.insert != null) {\n        if (typeof op.insert === 'string') {\n          let text = op.insert;\n\n          if (text.endsWith('\\n') && consumeNextNewline) {\n            consumeNextNewline = false;\n            text = text.slice(0, -1);\n          }\n\n          if ((index >= scrollLength || this.scroll.descendant(_blots_block__WEBPACK_IMPORTED_MODULE_7__[\"BlockEmbed\"], index)[0]) && !text.endsWith('\\n')) {\n            consumeNextNewline = true;\n          }\n\n          this.scroll.insertAt(index, text);\n          const [line, offset] = this.scroll.line(index);\n          let formats = extend__WEBPACK_IMPORTED_MODULE_2___default()({}, Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__[\"bubbleFormats\"])(line));\n\n          if (line instanceof _blots_block__WEBPACK_IMPORTED_MODULE_7__[\"default\"]) {\n            const [leaf] = line.descendant(parchment__WEBPACK_IMPORTED_MODULE_4__[\"LeafBlot\"], offset);\n            formats = extend__WEBPACK_IMPORTED_MODULE_2___default()(formats, Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__[\"bubbleFormats\"])(leaf));\n          }\n\n          attributes = quill_delta__WEBPACK_IMPORTED_MODULE_3__[\"AttributeMap\"].diff(formats, attributes) || {};\n        } else if (typeof op.insert === 'object') {\n          const key = Object.keys(op.insert)[0]; // There should only be one key\n\n          if (key == null) return index;\n          this.scroll.insertAt(index, key, op.insert[key]);\n        }\n\n        scrollLength += length;\n      }\n\n      Object.keys(attributes).forEach(name => {\n        this.scroll.formatAt(index, length, name, attributes[name]);\n      });\n      return index + length;\n    }, 0);\n    normalizedDelta.reduce((index, op) => {\n      if (typeof op.delete === 'number') {\n        this.scroll.deleteAt(index, op.delete);\n        return index;\n      }\n\n      return index + (op.retain || op.insert.length || 1);\n    }, 0);\n    this.scroll.batchEnd();\n    this.scroll.optimize();\n    return this.update(normalizedDelta);\n  }\n\n  deleteText(index, length) {\n    this.scroll.deleteAt(index, length);\n    return this.update(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).delete(length));\n  }\n\n  formatLine(index, length, formats = {}) {\n    this.scroll.update();\n    Object.keys(formats).forEach(format => {\n      this.scroll.lines(index, Math.max(length, 1)).forEach(line => {\n        line.format(format, formats[format]);\n      });\n    });\n    this.scroll.optimize();\n    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).retain(length, clone__WEBPACK_IMPORTED_MODULE_0___default()(formats));\n    return this.update(delta);\n  }\n\n  formatText(index, length, formats = {}) {\n    Object.keys(formats).forEach(format => {\n      this.scroll.formatAt(index, length, format, formats[format]);\n    });\n    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).retain(length, clone__WEBPACK_IMPORTED_MODULE_0___default()(formats));\n    return this.update(delta);\n  }\n\n  getContents(index, length) {\n    return this.delta.slice(index, index + length);\n  }\n\n  getDelta() {\n    return this.scroll.lines().reduce((delta, line) => {\n      return delta.concat(line.delta());\n    }, new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a());\n  }\n\n  getFormat(index, length = 0) {\n    let lines = [];\n    let leaves = [];\n\n    if (length === 0) {\n      this.scroll.path(index).forEach(path => {\n        const [blot] = path;\n\n        if (blot instanceof _blots_block__WEBPACK_IMPORTED_MODULE_7__[\"default\"]) {\n          lines.push(blot);\n        } else if (blot instanceof parchment__WEBPACK_IMPORTED_MODULE_4__[\"LeafBlot\"]) {\n          leaves.push(blot);\n        }\n      });\n    } else {\n      lines = this.scroll.lines(index, length);\n      leaves = this.scroll.descendants(parchment__WEBPACK_IMPORTED_MODULE_4__[\"LeafBlot\"], index, length);\n    }\n\n    const formatsArr = [lines, leaves].map(blots => {\n      if (blots.length === 0) return {};\n      let formats = Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__[\"bubbleFormats\"])(blots.shift());\n\n      while (Object.keys(formats).length > 0) {\n        const blot = blots.shift();\n        if (blot == null) return formats;\n        formats = combineFormats(Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__[\"bubbleFormats\"])(blot), formats);\n      }\n\n      return formats;\n    });\n    return extend__WEBPACK_IMPORTED_MODULE_2___default.a.apply(extend__WEBPACK_IMPORTED_MODULE_2___default.a, formatsArr);\n  }\n\n  getHTML(index, length) {\n    const [line, lineOffset] = this.scroll.line(index);\n\n    if (line.length() >= lineOffset + length) {\n      return convertHTML(line, lineOffset, length, true);\n    }\n\n    return convertHTML(this.scroll, index, length, true);\n  }\n\n  getText(index, length) {\n    return this.getContents(index, length).filter(op => typeof op.insert === 'string').map(op => op.insert).join('');\n  }\n\n  insertEmbed(index, embed, value) {\n    this.scroll.insertAt(index, embed, value);\n    return this.update(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert({\n      [embed]: value\n    }));\n  }\n\n  insertText(index, text, formats = {}) {\n    text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n    this.scroll.insertAt(index, text);\n    Object.keys(formats).forEach(format => {\n      this.scroll.formatAt(index, text.length, format, formats[format]);\n    });\n    return this.update(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert(text, clone__WEBPACK_IMPORTED_MODULE_0___default()(formats)));\n  }\n\n  isBlank() {\n    if (this.scroll.children.length === 0) return true;\n    if (this.scroll.children.length > 1) return false;\n    const block = this.scroll.children.head;\n    if (block.statics.blotName !== _blots_block__WEBPACK_IMPORTED_MODULE_7__[\"default\"].blotName) return false;\n    if (block.children.length > 1) return false;\n    return block.children.head instanceof _blots_break__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n  }\n\n  removeFormat(index, length) {\n    const text = this.getText(index, length);\n    const [line, offset] = this.scroll.line(index + length);\n    let suffixLength = 0;\n    let suffix = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a();\n\n    if (line != null) {\n      suffixLength = line.length() - offset;\n      suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n    }\n\n    const contents = this.getContents(index, length + suffixLength);\n    const diff = contents.diff(new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().insert(text).concat(suffix));\n    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).concat(diff);\n    return this.applyDelta(delta);\n  }\n\n  update(change, mutations = [], selectionInfo = undefined) {\n    const oldDelta = this.delta;\n\n    if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && this.scroll.find(mutations[0].target)) {\n      // Optimization for character changes\n      const textBlot = this.scroll.find(mutations[0].target);\n      const formats = Object(_blots_block__WEBPACK_IMPORTED_MODULE_7__[\"bubbleFormats\"])(textBlot);\n      const index = textBlot.offset(this.scroll);\n      const oldValue = mutations[0].oldValue.replace(_blots_cursor__WEBPACK_IMPORTED_MODULE_6__[\"default\"].CONTENTS, '');\n      const oldText = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().insert(oldValue);\n      const newText = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().insert(textBlot.value());\n      const relativeSelectionInfo = selectionInfo && {\n        oldRange: shiftRange(selectionInfo.oldRange, -index),\n        newRange: shiftRange(selectionInfo.newRange, -index)\n      };\n      const diffDelta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).concat(oldText.diff(newText, relativeSelectionInfo));\n      change = diffDelta.reduce((delta, op) => {\n        if (op.insert) {\n          return delta.insert(op.insert, formats);\n        }\n\n        return delta.push(op);\n      }, new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a());\n      this.delta = oldDelta.compose(change);\n    } else {\n      this.delta = this.getDelta();\n\n      if (!change || !deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(oldDelta.compose(change), this.delta)) {\n        change = oldDelta.diff(this.delta, selectionInfo);\n      }\n    }\n\n    return change;\n  }\n\n}\n\nfunction convertListHTML(items, lastIndent, types) {\n  if (items.length === 0) {\n    const [endTag] = getListType(types.pop());\n\n    if (lastIndent <= 0) {\n      return \"</li></\".concat(endTag, \">\");\n    }\n\n    return \"</li></\".concat(endTag, \">\").concat(convertListHTML([], lastIndent - 1, types));\n  }\n\n  const [{\n    child,\n    offset,\n    length,\n    indent,\n    type\n  }, ...rest] = items;\n  const [tag, attribute] = getListType(type);\n\n  if (indent > lastIndent) {\n    types.push(type);\n\n    if (indent === lastIndent + 1) {\n      return \"<\".concat(tag, \"><li\").concat(attribute, \">\").concat(convertHTML(child, offset, length)).concat(convertListHTML(rest, indent, types));\n    }\n\n    return \"<\".concat(tag, \"><li>\").concat(convertListHTML(items, lastIndent + 1, types));\n  }\n\n  const previousType = types[types.length - 1];\n\n  if (indent === lastIndent && type === previousType) {\n    return \"</li><li\".concat(attribute, \">\").concat(convertHTML(child, offset, length)).concat(convertListHTML(rest, indent, types));\n  }\n\n  const [endTag] = getListType(types.pop());\n  return \"</li></\".concat(endTag, \">\").concat(convertListHTML(items, lastIndent - 1, types));\n}\n\nfunction convertHTML(blot, index, length, isRoot = false) {\n  if (typeof blot.html === 'function') {\n    return blot.html(index, length);\n  }\n\n  if (blot instanceof _blots_text__WEBPACK_IMPORTED_MODULE_9__[\"default\"]) {\n    return Object(_blots_text__WEBPACK_IMPORTED_MODULE_9__[\"escapeText\"])(blot.value().slice(index, index + length));\n  }\n\n  if (blot.children) {\n    // TODO fix API\n    if (blot.statics.blotName === 'list-container') {\n      const items = [];\n      blot.children.forEachAt(index, length, (child, offset, childLength) => {\n        const formats = child.formats();\n        items.push({\n          child,\n          offset,\n          length: childLength,\n          indent: formats.indent || 0,\n          type: formats.list\n        });\n      });\n      return convertListHTML(items, -1, []);\n    }\n\n    const parts = [];\n    blot.children.forEachAt(index, length, (child, offset, childLength) => {\n      parts.push(convertHTML(child, offset, childLength));\n    });\n\n    if (isRoot || blot.statics.blotName === 'list') {\n      return parts.join('');\n    }\n\n    const {\n      outerHTML,\n      innerHTML\n    } = blot.domNode;\n    const [start, end] = outerHTML.split(\">\".concat(innerHTML, \"<\")); // TODO cleanup\n\n    if (start === '<table') {\n      return \"<table style=\\\"border: 1px solid #000;\\\">\".concat(parts.join(''), \"<\").concat(end);\n    }\n\n    return \"\".concat(start, \">\").concat(parts.join(''), \"<\").concat(end);\n  }\n\n  return blot.domNode.outerHTML;\n}\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce((merged, name) => {\n    if (formats[name] == null) return merged;\n\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n\n    return merged;\n  }, {});\n}\n\nfunction getListType(type) {\n  const tag = type === 'ordered' ? 'ol' : 'ul';\n\n  switch (type) {\n    case 'checked':\n      return [tag, ' data-list=\"checked\"'];\n\n    case 'unchecked':\n      return [tag, ' data-list=\"unchecked\"'];\n\n    default:\n      return [tag, ''];\n  }\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce((normalizedDelta, op) => {\n    if (typeof op.insert === 'string') {\n      const text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return normalizedDelta.insert(text, op.attributes);\n    }\n\n    return normalizedDelta.push(op);\n  }, new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a());\n}\n\nfunction shiftRange({\n  index,\n  length\n}, amount) {\n  return new _selection__WEBPACK_IMPORTED_MODULE_5__[\"Range\"](index + amount, length);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Editor);\n\n//# sourceURL=webpack://Quill/./core/editor.js?");

	/***/ }),

	/***/ "./core/emitter.js":
	/*!*************************!*\
	  !*** ./core/emitter.js ***!
	  \*************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(eventemitter3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _instances__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instances */ \"./core/instances.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"./core/logger.js\");\n\n\n\nconst debug = Object(_logger__WEBPACK_IMPORTED_MODULE_2__[\"default\"])('quill:events');\nconst EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\nEVENTS.forEach(eventName => {\n  document.addEventListener(eventName, (...args) => {\n    Array.from(document.querySelectorAll('.ql-container')).forEach(node => {\n      const quill = _instances__WEBPACK_IMPORTED_MODULE_1__[\"default\"].get(node);\n\n      if (quill && quill.emitter) {\n        quill.emitter.handleDOM(...args);\n      }\n    });\n  });\n});\n\nclass Emitter extends eventemitter3__WEBPACK_IMPORTED_MODULE_0___default.a {\n  constructor() {\n    super();\n    this.listeners = {};\n    this.on('error', debug.error);\n  }\n\n  emit(...args) {\n    debug.log.call(debug, ...args);\n    super.emit(...args);\n  }\n\n  handleDOM(event, ...args) {\n    (this.listeners[event.type] || []).forEach(({\n      node,\n      handler\n    }) => {\n      if (event.target === node || node.contains(event.target)) {\n        handler(event, ...args);\n      }\n    });\n  }\n\n  listenDOM(eventName, node, handler) {\n    if (!this.listeners[eventName]) {\n      this.listeners[eventName] = [];\n    }\n\n    this.listeners[eventName].push({\n      node,\n      handler\n    });\n  }\n\n}\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_BLOT_MOUNT: 'scroll-blot-mount',\n  SCROLL_BLOT_UNMOUNT: 'scroll-blot-unmount',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Emitter);\n\n//# sourceURL=webpack://Quill/./core/emitter.js?");

	/***/ }),

	/***/ "./core/instances.js":
	/*!***************************!*\
	  !*** ./core/instances.js ***!
	  \***************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (new WeakMap());\n\n//# sourceURL=webpack://Quill/./core/instances.js?");

	/***/ }),

	/***/ "./core/logger.js":
	/*!************************!*\
	  !*** ./core/logger.js ***!
	  \************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\nconst levels = ['error', 'warn', 'log', 'info'];\nlet level = 'warn';\n\nfunction debug(method, ...args) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    console[method](...args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce((logger, method) => {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\nnamespace.level = newLevel => {\n  level = newLevel;\n};\n\ndebug.level = namespace.level;\n/* harmony default export */ __webpack_exports__[\"default\"] = (namespace);\n\n//# sourceURL=webpack://Quill/./core/logger.js?");

	/***/ }),

	/***/ "./core/module.js":
	/*!************************!*\
	  !*** ./core/module.js ***!
	  \************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\nclass Module {\n  constructor(quill, options = {}) {\n    this.quill = quill;\n    this.options = options;\n  }\n\n}\n\nModule.DEFAULTS = {};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Module);\n\n//# sourceURL=webpack://Quill/./core/module.js?");

	/***/ }),

	/***/ "./core/quill.js":
	/*!***********************!*\
	  !*** ./core/quill.js ***!
	  \***********************/
	/*! exports provided: globalRegistry, expandConfig, overload, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"globalRegistry\", function() { return globalRegistry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expandConfig\", function() { return expandConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"overload\", function() { return overload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Quill; });\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editor */ \"./core/editor.js\");\n/* harmony import */ var _emitter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./emitter */ \"./core/emitter.js\");\n/* harmony import */ var _module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./module */ \"./core/module.js\");\n/* harmony import */ var _selection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./selection */ \"./core/selection.js\");\n/* harmony import */ var _instances__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./instances */ \"./core/instances.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./logger */ \"./core/logger.js\");\n/* harmony import */ var _theme__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./theme */ \"./core/theme.js\");\n\n\n\n\n\n\n\n\n\n\nconst debug = Object(_logger__WEBPACK_IMPORTED_MODULE_8__[\"default\"])('quill');\nconst globalRegistry = new parchment__WEBPACK_IMPORTED_MODULE_1__[\"Registry\"]();\nparchment__WEBPACK_IMPORTED_MODULE_1__[\"ParentBlot\"].uiClass = 'ql-ui';\n\nclass Quill {\n  static debug(limit) {\n    if (limit === true) {\n      limit = 'log';\n    }\n\n    _logger__WEBPACK_IMPORTED_MODULE_8__[\"default\"].level(limit);\n  }\n\n  static find(node) {\n    return _instances__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get(node) || globalRegistry.find(node);\n  }\n\n  static import(name) {\n    if (this.imports[name] == null) {\n      debug.error(\"Cannot import \".concat(name, \". Are you sure it was registered?\"));\n    }\n\n    return this.imports[name];\n  }\n\n  static register(path, target, overwrite = false) {\n    if (typeof path !== 'string') {\n      const name = path.attrName || path.blotName;\n\n      if (typeof name === 'string') {\n        // register(Blot | Attributor, overwrite)\n        this.register(\"formats/\".concat(name), path, target);\n      } else {\n        Object.keys(path).forEach(key => {\n          this.register(key, path[key], target);\n        });\n      }\n    } else {\n      if (this.imports[path] != null && !overwrite) {\n        debug.warn(\"Overwriting \".concat(path, \" with\"), target);\n      }\n\n      this.imports[path] = target;\n\n      if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n        globalRegistry.register(target);\n      }\n\n      if (typeof target.register === 'function') {\n        target.register(globalRegistry);\n      }\n    }\n  }\n\n  constructor(container, options = {}) {\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n\n    const html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    _instances__WEBPACK_IMPORTED_MODULE_7__[\"default\"].set(this.container, this);\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n    const ScrollBlot = this.options.registry.query(parchment__WEBPACK_IMPORTED_MODULE_1__[\"ScrollBlot\"].blotName);\n    this.scroll = new ScrollBlot(this.options.registry, this.root, {\n      emitter: this.emitter\n    });\n    this.editor = new _editor__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.scroll);\n    this.selection = new _selection__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options); // eslint-disable-line new-cap\n\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.uploader = this.theme.addModule('uploader');\n    this.theme.init();\n    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].events.EDITOR_CHANGE, type => {\n      if (type === _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].events.TEXT_CHANGE) {\n        this.root.classList.toggle('ql-blank', this.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].events.SCROLL_UPDATE, (source, mutations) => {\n      const oldRange = this.selection.lastRange;\n      const [newRange] = this.selection.getRange();\n      const selectionInfo = oldRange && newRange ? {\n        oldRange,\n        newRange\n      } : undefined;\n      modify.call(this, () => this.editor.update(null, mutations, selectionInfo), source);\n    });\n    const contents = this.clipboard.convert({\n      html: \"\".concat(html, \"<p><br></p>\"),\n      text: '\\n'\n    });\n    this.setContents(contents);\n    this.history.clear();\n\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n\n    if (this.options.readOnly) {\n      this.disable();\n    }\n\n    this.allowReadOnlyEdits = false;\n  }\n\n  addContainer(container, refNode = null) {\n    if (typeof container === 'string') {\n      const className = container;\n      container = document.createElement('div');\n      container.classList.add(className);\n    }\n\n    this.container.insertBefore(container, refNode);\n    return container;\n  }\n\n  blur() {\n    this.selection.setRange(null);\n  }\n\n  deleteText(index, length, source) {\n    [index, length,, source] = overload(index, length, source);\n    return modify.call(this, () => {\n      return this.editor.deleteText(index, length);\n    }, source, index, -1 * length);\n  }\n\n  disable() {\n    this.enable(false);\n  }\n\n  editReadOnly(modifier) {\n    this.allowReadOnlyEdits = true;\n    const value = modifier();\n    this.allowReadOnlyEdits = false;\n    return value;\n  }\n\n  enable(enabled = true) {\n    this.scroll.enable(enabled);\n    this.container.classList.toggle('ql-disabled', !enabled);\n  }\n\n  focus() {\n    const {\n      scrollTop\n    } = this.scrollingContainer;\n    this.selection.focus();\n    this.scrollingContainer.scrollTop = scrollTop;\n    this.scrollIntoView();\n  }\n\n  format(name, value, source = _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.API) {\n    return modify.call(this, () => {\n      const range = this.getSelection(true);\n      let change = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a();\n      if (range == null) return change;\n\n      if (this.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_1__[\"Scope\"].BLOCK)) {\n        change = this.editor.formatLine(range.index, range.length, {\n          [name]: value\n        });\n      } else if (range.length === 0) {\n        this.selection.format(name, value);\n        return change;\n      } else {\n        change = this.editor.formatText(range.index, range.length, {\n          [name]: value\n        });\n      }\n\n      this.setSelection(range, _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.SILENT);\n      return change;\n    }, source);\n  }\n\n  formatLine(index, length, name, value, source) {\n    let formats; // eslint-disable-next-line prefer-const\n\n    [index, length, formats, source] = overload(index, length, name, value, source);\n    return modify.call(this, () => {\n      return this.editor.formatLine(index, length, formats);\n    }, source, index, 0);\n  }\n\n  formatText(index, length, name, value, source) {\n    let formats; // eslint-disable-next-line prefer-const\n\n    [index, length, formats, source] = overload(index, length, name, value, source);\n    return modify.call(this, () => {\n      return this.editor.formatText(index, length, formats);\n    }, source, index, 0);\n  }\n\n  getBounds(index, length = 0) {\n    let bounds;\n\n    if (typeof index === 'number') {\n      bounds = this.selection.getBounds(index, length);\n    } else {\n      bounds = this.selection.getBounds(index.index, index.length);\n    }\n\n    const containerBounds = this.container.getBoundingClientRect();\n    return {\n      bottom: bounds.bottom - containerBounds.top,\n      height: bounds.height,\n      left: bounds.left - containerBounds.left,\n      right: bounds.right - containerBounds.left,\n      top: bounds.top - containerBounds.top,\n      width: bounds.width\n    };\n  }\n\n  getContents(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getContents(index, length);\n  }\n\n  getFormat(index = this.getSelection(true), length = 0) {\n    if (typeof index === 'number') {\n      return this.editor.getFormat(index, length);\n    }\n\n    return this.editor.getFormat(index.index, index.length);\n  }\n\n  getIndex(blot) {\n    return blot.offset(this.scroll);\n  }\n\n  getLength() {\n    return this.scroll.length();\n  }\n\n  getLeaf(index) {\n    return this.scroll.leaf(index);\n  }\n\n  getLine(index) {\n    return this.scroll.line(index);\n  }\n\n  getLines(index = 0, length = Number.MAX_VALUE) {\n    if (typeof index !== 'number') {\n      return this.scroll.lines(index.index, index.length);\n    }\n\n    return this.scroll.lines(index, length);\n  }\n\n  getModule(name) {\n    return this.theme.modules[name];\n  }\n\n  getSelection(focus = false) {\n    if (focus) this.focus();\n    this.update(); // Make sure we access getRange with editor in consistent state\n\n    return this.selection.getRange()[0];\n  }\n\n  getSemanticHTML(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getHTML(index, length);\n  }\n\n  getText(index = 0, length = this.getLength() - index) {\n    [index, length] = overload(index, length);\n    return this.editor.getText(index, length);\n  }\n\n  hasFocus() {\n    return this.selection.hasFocus();\n  }\n\n  insertEmbed(index, embed, value, source = Quill.sources.API) {\n    return modify.call(this, () => {\n      return this.editor.insertEmbed(index, embed, value);\n    }, source, index);\n  }\n\n  insertText(index, text, name, value, source) {\n    let formats; // eslint-disable-next-line prefer-const\n\n    [index,, formats, source] = overload(index, 0, name, value, source);\n    return modify.call(this, () => {\n      return this.editor.insertText(index, text, formats);\n    }, source, index, text.length);\n  }\n\n  isEnabled() {\n    return this.scroll.isEnabled();\n  }\n\n  off(...args) {\n    return this.emitter.off(...args);\n  }\n\n  on(...args) {\n    return this.emitter.on(...args);\n  }\n\n  once(...args) {\n    return this.emitter.once(...args);\n  }\n\n  removeFormat(index, length, source) {\n    [index, length,, source] = overload(index, length, source);\n    return modify.call(this, () => {\n      return this.editor.removeFormat(index, length);\n    }, source, index);\n  }\n\n  scrollIntoView() {\n    this.selection.scrollIntoView(this.scrollingContainer);\n  }\n\n  setContents(delta, source = _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.API) {\n    return modify.call(this, () => {\n      delta = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a(delta);\n      const length = this.getLength();\n      const deleted = this.editor.deleteText(0, length);\n      const applied = this.editor.applyDelta(delta);\n      const lastOp = applied.ops[applied.ops.length - 1];\n\n      if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n        this.editor.deleteText(this.getLength() - 1, 1);\n        applied.delete(1);\n      }\n\n      return deleted.compose(applied);\n    }, source);\n  }\n\n  setSelection(index, length, source) {\n    if (index == null) {\n      this.selection.setRange(null, length || Quill.sources.API);\n    } else {\n      [index, length,, source] = overload(index, length, source);\n      this.selection.setRange(new _selection__WEBPACK_IMPORTED_MODULE_6__[\"Range\"](Math.max(0, index), length), source);\n\n      if (source !== _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.SILENT) {\n        this.selection.scrollIntoView(this.scrollingContainer);\n      }\n    }\n  }\n\n  setText(text, source = _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.API) {\n    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().insert(text);\n    return this.setContents(delta, source);\n  }\n\n  update(source = _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.USER) {\n    const change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n\n    this.selection.update(source); // TODO this is usually undefined\n\n    return change;\n  }\n\n  updateContents(delta, source = _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.API) {\n    return modify.call(this, () => {\n      delta = new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a(delta);\n      return this.editor.applyDelta(delta, source);\n    }, source, true);\n  }\n\n}\n\nQuill.DEFAULTS = {\n  bounds: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  registry: globalRegistry,\n  scrollingContainer: null,\n  theme: 'default'\n};\nQuill.events = _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].events;\nQuill.sources = _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources; // eslint-disable-next-line no-undef\n\nQuill.version =  false ? undefined : \"2.0.0-dev.3\";\nQuill.imports = {\n  delta: quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a,\n  parchment: parchment__WEBPACK_IMPORTED_MODULE_1__,\n  'core/module': _module__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  'core/theme': _theme__WEBPACK_IMPORTED_MODULE_9__[\"default\"]\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = extend__WEBPACK_IMPORTED_MODULE_2___default()(true, {\n    container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true,\n      uploader: true\n    }\n  }, userConfig);\n\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\n  } else {\n    userConfig.theme = Quill.import(\"themes/\".concat(userConfig.theme));\n\n    if (userConfig.theme == null) {\n      throw new Error(\"Invalid theme \".concat(userConfig.theme, \". Did you register it?\"));\n    }\n  }\n\n  const themeConfig = extend__WEBPACK_IMPORTED_MODULE_2___default()(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(config => {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(module => {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  const moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  const moduleConfig = moduleNames.reduce((config, name) => {\n    const moduleClass = Quill.import(\"modules/\".concat(name));\n\n    if (moduleClass == null) {\n      debug.error(\"Cannot load \".concat(name, \" module. Are you sure you registered it?\"));\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n\n    return config;\n  }, {}); // Special case toolbar shorthand\n\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n\n  userConfig = extend__WEBPACK_IMPORTED_MODULE_2___default()(true, {}, Quill.DEFAULTS, {\n    modules: moduleConfig\n  }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(key => {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce((config, name) => {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n\n    return config;\n  }, {});\n  return userConfig;\n} // Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\n\n\nfunction modify(modifier, source, index, shift) {\n  if (!this.isEnabled() && source === _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.USER && !this.allowReadOnlyEdits) {\n    return new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a();\n  }\n\n  let range = index == null ? null : this.getSelection();\n  const oldDelta = this.editor.delta;\n  const change = modifier();\n\n  if (range != null) {\n    if (index === true) {\n      index = range.index; // eslint-disable-line prefer-destructuring\n    }\n\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n\n    this.setSelection(range, _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.SILENT);\n  }\n\n  if (change.length() > 0) {\n    const args = [_emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].events.TEXT_CHANGE, change, oldDelta, source];\n    this.emitter.emit(_emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].events.EDITOR_CHANGE, ...args);\n\n    if (source !== _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.SILENT) {\n      this.emitter.emit(...args);\n    }\n  }\n\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  let formats = {};\n\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value;\n      value = name;\n      name = length;\n      length = index.length; // eslint-disable-line prefer-destructuring\n\n      index = index.index; // eslint-disable-line prefer-destructuring\n    } else {\n      length = index.length; // eslint-disable-line prefer-destructuring\n\n      index = index.index; // eslint-disable-line prefer-destructuring\n    }\n  } else if (typeof length !== 'number') {\n    source = value;\n    value = name;\n    name = length;\n    length = 0;\n  } // Handle format being object, two format name/value strings or excluded\n\n\n  if (typeof name === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  } // Handle optional source\n\n\n  source = source || _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  let start;\n  let end;\n\n  if (index instanceof quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a) {\n    [start, end] = [range.index, range.index + range.length].map(pos => index.transformPosition(pos, source !== _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.USER));\n  } else {\n    [start, end] = [range.index, range.index + range.length].map(pos => {\n      if (pos < index || pos === index && source === _emitter__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.USER) return pos;\n\n      if (length >= 0) {\n        return pos + length;\n      }\n\n      return Math.max(index, pos + length);\n    });\n  }\n\n  return new _selection__WEBPACK_IMPORTED_MODULE_6__[\"Range\"](start, end - start);\n}\n\n\n\n//# sourceURL=webpack://Quill/./core/quill.js?");

	/***/ }),

	/***/ "./core/selection.js":
	/*!***************************!*\
	  !*** ./core/selection.js ***!
	  \***************************/
	/*! exports provided: Range, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Range\", function() { return Range; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Selection; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! clone */ \"./node_modules/clone/clone.js\");\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(clone__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! deep-equal */ \"./node_modules/deep-equal/index.js\");\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _emitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./emitter */ \"./core/emitter.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logger */ \"./core/logger.js\");\n\n\n\n\n\nconst debug = Object(_logger__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('quill:selection');\n\nclass Range {\n  constructor(index, length = 0) {\n    this.index = index;\n    this.length = length;\n  }\n\n}\n\nclass Selection {\n  constructor(scroll, emitter) {\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = this.scroll.create('cursor', this); // savedRange is last non-null range\n\n    this.savedRange = new Range(0, 0);\n    this.lastRange = this.savedRange;\n    this.lastNative = null;\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, () => {\n      if (!this.mouseDown && !this.composing) {\n        setTimeout(this.update.bind(this, _emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].events.SCROLL_BEFORE_UPDATE, () => {\n      if (!this.hasFocus()) return;\n      const native = this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === this.cursor.textNode) return; // cursor.restore() will handle\n\n      this.emitter.once(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].events.SCROLL_UPDATE, () => {\n        try {\n          if (this.root.contains(native.start.node) && this.root.contains(native.end.node)) {\n            this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n          }\n\n          this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.SILENT);\n        } catch (ignored) {// ignore\n        }\n      });\n    });\n    this.emitter.on(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].events.SCROLL_OPTIMIZE, (mutations, context) => {\n      if (context.range) {\n        const {\n          startNode,\n          startOffset,\n          endNode,\n          endOffset\n        } = context.range;\n        this.setNativeRange(startNode, startOffset, endNode, endOffset);\n        this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.SILENT);\n      }\n    });\n    this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.SILENT);\n  }\n\n  handleComposition() {\n    this.root.addEventListener('compositionstart', () => {\n      this.composing = true;\n      this.scroll.batchStart();\n    });\n    this.root.addEventListener('compositionend', () => {\n      this.scroll.batchEnd();\n      this.composing = false;\n\n      if (this.cursor.parent) {\n        const range = this.cursor.restore();\n        if (!range) return;\n        setTimeout(() => {\n          this.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n        }, 1);\n      }\n    });\n  }\n\n  handleDragging() {\n    this.emitter.listenDOM('mousedown', document.body, () => {\n      this.mouseDown = true;\n    });\n    this.emitter.listenDOM('mouseup', document.body, () => {\n      this.mouseDown = false;\n      this.update(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.USER);\n    });\n  }\n\n  focus() {\n    if (this.hasFocus()) return;\n    this.root.focus();\n    this.setRange(this.savedRange);\n  }\n\n  format(format, value) {\n    this.scroll.update();\n    const nativeRange = this.getNativeRange();\n    if (nativeRange == null || !nativeRange.native.collapsed || this.scroll.query(format, parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOCK)) return;\n\n    if (nativeRange.start.node !== this.cursor.textNode) {\n      const blot = this.scroll.find(nativeRange.start.node, false);\n      if (blot == null) return; // TODO Give blot ability to not split\n\n      if (blot instanceof parchment__WEBPACK_IMPORTED_MODULE_0__[\"LeafBlot\"]) {\n        const after = blot.split(nativeRange.start.offset);\n        blot.parent.insertBefore(this.cursor, after);\n      } else {\n        blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n      }\n\n      this.cursor.attach();\n    }\n\n    this.cursor.format(format, value);\n    this.scroll.optimize();\n    this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n    this.update();\n  }\n\n  getBounds(index, length = 0) {\n    const scrollLength = this.scroll.length();\n    index = Math.min(index, scrollLength - 1);\n    length = Math.min(index + length, scrollLength - 1) - index;\n    let node;\n    let [leaf, offset] = this.scroll.leaf(index);\n    if (leaf == null) return null;\n    [node, offset] = leaf.position(offset, true);\n    const range = document.createRange();\n\n    if (length > 0) {\n      range.setStart(node, offset);\n      [leaf, offset] = this.scroll.leaf(index + length);\n      if (leaf == null) return null;\n      [node, offset] = leaf.position(offset, true);\n      range.setEnd(node, offset);\n      return range.getBoundingClientRect();\n    }\n\n    let side = 'left';\n    let rect;\n\n    if (node instanceof Text) {\n      if (offset < node.data.length) {\n        range.setStart(node, offset);\n        range.setEnd(node, offset + 1);\n      } else {\n        range.setStart(node, offset - 1);\n        range.setEnd(node, offset);\n        side = 'right';\n      }\n\n      rect = range.getBoundingClientRect();\n    } else {\n      rect = leaf.domNode.getBoundingClientRect();\n      if (offset > 0) side = 'right';\n    }\n\n    return {\n      bottom: rect.top + rect.height,\n      height: rect.height,\n      left: rect[side],\n      right: rect[side],\n      top: rect.top,\n      width: 0\n    };\n  }\n\n  getNativeRange() {\n    const selection = document.getSelection();\n    if (selection == null || selection.rangeCount <= 0) return null;\n    const nativeRange = selection.getRangeAt(0);\n    if (nativeRange == null) return null;\n    const range = this.normalizeNative(nativeRange);\n    debug.info('getNativeRange', range);\n    return range;\n  }\n\n  getRange() {\n    const normalized = this.getNativeRange();\n    if (normalized == null) return [null, null];\n    const range = this.normalizedToRange(normalized);\n    return [range, normalized];\n  }\n\n  hasFocus() {\n    return document.activeElement === this.root || contains(this.root, document.activeElement);\n  }\n\n  normalizedToRange(range) {\n    const positions = [[range.start.node, range.start.offset]];\n\n    if (!range.native.collapsed) {\n      positions.push([range.end.node, range.end.offset]);\n    }\n\n    const indexes = positions.map(position => {\n      const [node, offset] = position;\n      const blot = this.scroll.find(node, true);\n      const index = blot.offset(this.scroll);\n\n      if (offset === 0) {\n        return index;\n      }\n\n      if (blot instanceof parchment__WEBPACK_IMPORTED_MODULE_0__[\"LeafBlot\"]) {\n        return index + blot.index(node, offset);\n      }\n\n      return index + blot.length();\n    });\n    const end = Math.min(Math.max(...indexes), this.scroll.length() - 1);\n    const start = Math.min(end, ...indexes);\n    return new Range(start, end - start);\n  }\n\n  normalizeNative(nativeRange) {\n    if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n      return null;\n    }\n\n    const range = {\n      start: {\n        node: nativeRange.startContainer,\n        offset: nativeRange.startOffset\n      },\n      end: {\n        node: nativeRange.endContainer,\n        offset: nativeRange.endOffset\n      },\n      native: nativeRange\n    };\n    [range.start, range.end].forEach(position => {\n      let {\n        node,\n        offset\n      } = position;\n\n      while (!(node instanceof Text) && node.childNodes.length > 0) {\n        if (node.childNodes.length > offset) {\n          node = node.childNodes[offset];\n          offset = 0;\n        } else if (node.childNodes.length === offset) {\n          node = node.lastChild;\n\n          if (node instanceof Text) {\n            offset = node.data.length;\n          } else if (node.childNodes.length > 0) {\n            // Container case\n            offset = node.childNodes.length;\n          } else {\n            // Embed case\n            offset = node.childNodes.length + 1;\n          }\n        } else {\n          break;\n        }\n      }\n\n      position.node = node;\n      position.offset = offset;\n    });\n    return range;\n  }\n\n  rangeToNative(range) {\n    const indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n    const args = [];\n    const scrollLength = this.scroll.length();\n    indexes.forEach((index, i) => {\n      index = Math.min(scrollLength - 1, index);\n      const [leaf, leafOffset] = this.scroll.leaf(index);\n      const [node, offset] = leaf.position(leafOffset, i !== 0);\n      args.push(node, offset);\n    });\n\n    if (args.length < 2) {\n      return args.concat(args);\n    }\n\n    return args;\n  }\n\n  scrollIntoView(scrollingContainer) {\n    const range = this.lastRange;\n    if (range == null) return;\n    const bounds = this.getBounds(range.index, range.length);\n    if (bounds == null) return;\n    const limit = this.scroll.length() - 1;\n    const [first] = this.scroll.line(Math.min(range.index, limit));\n    let last = first;\n\n    if (range.length > 0) {\n      [last] = this.scroll.line(Math.min(range.index + range.length, limit));\n    }\n\n    if (first == null || last == null) return;\n    const scrollBounds = scrollingContainer.getBoundingClientRect();\n\n    if (bounds.top < scrollBounds.top) {\n      scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n    } else if (bounds.bottom > scrollBounds.bottom) {\n      scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n    }\n  }\n\n  setNativeRange(startNode, startOffset, endNode = startNode, endOffset = startOffset, force = false) {\n    debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n\n    if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n      return;\n    }\n\n    const selection = document.getSelection();\n    if (selection == null) return;\n\n    if (startNode != null) {\n      if (!this.hasFocus()) this.root.focus();\n      const {\n        native\n      } = this.getNativeRange() || {};\n\n      if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n        if (startNode.tagName === 'BR') {\n          startOffset = Array.from(startNode.parentNode.childNodes).indexOf(startNode);\n          startNode = startNode.parentNode;\n        }\n\n        if (endNode.tagName === 'BR') {\n          endOffset = Array.from(endNode.parentNode.childNodes).indexOf(endNode);\n          endNode = endNode.parentNode;\n        }\n\n        const range = document.createRange();\n        range.setStart(startNode, startOffset);\n        range.setEnd(endNode, endOffset);\n        selection.removeAllRanges();\n        selection.addRange(range);\n      }\n    } else {\n      selection.removeAllRanges();\n      this.root.blur();\n    }\n  }\n\n  setRange(range, force = false, source = _emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.API) {\n    if (typeof force === 'string') {\n      source = force;\n      force = false;\n    }\n\n    debug.info('setRange', range);\n\n    if (range != null) {\n      const args = this.rangeToNative(range);\n      this.setNativeRange(...args, force);\n    } else {\n      this.setNativeRange(null);\n    }\n\n    this.update(source);\n  }\n\n  update(source = _emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.USER) {\n    const oldRange = this.lastRange;\n    const [lastRange, nativeRange] = this.getRange();\n    this.lastRange = lastRange;\n    this.lastNative = nativeRange;\n\n    if (this.lastRange != null) {\n      this.savedRange = this.lastRange;\n    }\n\n    if (!deep_equal__WEBPACK_IMPORTED_MODULE_2___default()(oldRange, this.lastRange)) {\n      if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n        const range = this.cursor.restore();\n\n        if (range) {\n          this.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n        }\n      }\n\n      const args = [_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].events.SELECTION_CHANGE, clone__WEBPACK_IMPORTED_MODULE_1___default()(this.lastRange), clone__WEBPACK_IMPORTED_MODULE_1___default()(oldRange), source];\n      this.emitter.emit(_emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].events.EDITOR_CHANGE, ...args);\n\n      if (source !== _emitter__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.SILENT) {\n        this.emitter.emit(...args);\n      }\n    }\n  }\n\n}\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode; // eslint-disable-line no-unused-expressions\n  } catch (e) {\n    return false;\n  }\n\n  return parent.contains(descendant);\n}\n\n\n\n//# sourceURL=webpack://Quill/./core/selection.js?");

	/***/ }),

	/***/ "./core/theme.js":
	/*!***********************!*\
	  !*** ./core/theme.js ***!
	  \***********************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\nclass Theme {\n  constructor(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  init() {\n    Object.keys(this.options.modules).forEach(name => {\n      if (this.modules[name] == null) {\n        this.addModule(name);\n      }\n    });\n  }\n\n  addModule(name) {\n    const ModuleClass = this.quill.constructor.import(\"modules/\".concat(name));\n    this.modules[name] = new ModuleClass(this.quill, this.options.modules[name] || {});\n    return this.modules[name];\n  }\n\n}\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  default: Theme\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Theme);\n\n//# sourceURL=webpack://Quill/./core/theme.js?");

	/***/ }),

	/***/ "./formats/align.js":
	/*!**************************!*\
	  !*** ./formats/align.js ***!
	  \**************************/
	/*! exports provided: AlignAttribute, AlignClass, AlignStyle */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlignAttribute\", function() { return AlignAttribute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlignClass\", function() { return AlignClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlignStyle\", function() { return AlignStyle; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\nconst config = {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\nconst AlignAttribute = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"Attributor\"]('align', 'align', config);\nconst AlignClass = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"ClassAttributor\"]('align', 'ql-align', config);\nconst AlignStyle = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"StyleAttributor\"]('align', 'text-align', config);\n\n\n//# sourceURL=webpack://Quill/./formats/align.js?");

	/***/ }),

	/***/ "./formats/background.js":
	/*!*******************************!*\
	  !*** ./formats/background.js ***!
	  \*******************************/
	/*! exports provided: BackgroundClass, BackgroundStyle */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundClass\", function() { return BackgroundClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BackgroundStyle\", function() { return BackgroundStyle; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _color__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./color */ \"./formats/color.js\");\n\n\nconst BackgroundClass = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"ClassAttributor\"]('background', 'ql-bg', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE\n});\nconst BackgroundStyle = new _color__WEBPACK_IMPORTED_MODULE_1__[\"ColorAttributor\"]('background', 'background-color', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE\n});\n\n\n//# sourceURL=webpack://Quill/./formats/background.js?");

	/***/ }),

	/***/ "./formats/blockquote.js":
	/*!*******************************!*\
	  !*** ./formats/blockquote.js ***!
	  \*******************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n\n\nclass Blockquote extends _blots_block__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {}\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Blockquote);\n\n//# sourceURL=webpack://Quill/./formats/blockquote.js?");

	/***/ }),

	/***/ "./formats/bold.js":
	/*!*************************!*\
	  !*** ./formats/bold.js ***!
	  \*************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ \"./blots/inline.js\");\n\n\nclass Bold extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static create() {\n    return super.create();\n  }\n\n  static formats() {\n    return true;\n  }\n\n  optimize(context) {\n    super.optimize(context);\n\n    if (this.domNode.tagName !== this.statics.tagName[0]) {\n      this.replaceWith(this.statics.blotName);\n    }\n  }\n\n}\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Bold);\n\n//# sourceURL=webpack://Quill/./formats/bold.js?");

	/***/ }),

	/***/ "./formats/code.js":
	/*!*************************!*\
	  !*** ./formats/code.js ***!
	  \*************************/
	/*! exports provided: Code, CodeBlockContainer, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Code\", function() { return Code; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CodeBlockContainer\", function() { return CodeBlockContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CodeBlock; });\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../blots/break */ \"./blots/break.js\");\n/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../blots/cursor */ \"./blots/cursor.js\");\n/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../blots/inline */ \"./blots/inline.js\");\n/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../blots/text */ \"./blots/text.js\");\n/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../blots/container */ \"./blots/container.js\");\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n\n\n\n\n\n\n\n\nclass CodeBlockContainer extends _blots_container__WEBPACK_IMPORTED_MODULE_5__[\"default\"] {\n  static create(value) {\n    const domNode = super.create(value);\n    domNode.setAttribute('spellcheck', false);\n    return domNode;\n  }\n\n  html(index, length) {\n    const text = this.children.map(child => child.domNode.innerText).join('\\n').slice(index, index + length);\n    return \"<pre>\".concat(Object(_blots_text__WEBPACK_IMPORTED_MODULE_4__[\"escapeText\"])(text), \"</pre>\");\n  }\n\n}\n\nclass CodeBlock extends _blots_block__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static register() {\n    _core_quill__WEBPACK_IMPORTED_MODULE_6__[\"default\"].register(CodeBlockContainer);\n  }\n\n}\n\nclass Code extends _blots_inline__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {}\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\nCodeBlock.blotName = 'code-block';\nCodeBlock.className = 'ql-code-block';\nCodeBlock.tagName = 'DIV';\nCodeBlockContainer.blotName = 'code-block-container';\nCodeBlockContainer.className = 'ql-code-block-container';\nCodeBlockContainer.tagName = 'DIV';\nCodeBlockContainer.allowedChildren = [CodeBlock];\nCodeBlock.allowedChildren = [_blots_text__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _blots_break__WEBPACK_IMPORTED_MODULE_1__[\"default\"], _blots_cursor__WEBPACK_IMPORTED_MODULE_2__[\"default\"]];\nCodeBlock.requiredContainer = CodeBlockContainer;\nCodeBlock.TAB = '  ';\n\n\n//# sourceURL=webpack://Quill/./formats/code.js?");

	/***/ }),

	/***/ "./formats/color.js":
	/*!**************************!*\
	  !*** ./formats/color.js ***!
	  \**************************/
	/*! exports provided: ColorAttributor, ColorClass, ColorStyle */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorAttributor\", function() { return ColorAttributor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorClass\", function() { return ColorClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorStyle\", function() { return ColorStyle; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\n\nclass ColorAttributor extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"StyleAttributor\"] {\n  value(domNode) {\n    let value = super.value(domNode);\n    if (!value.startsWith('rgb(')) return value;\n    value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n    const hex = value.split(',').map(component => \"00\".concat(parseInt(component, 10).toString(16)).slice(-2)).join('');\n    return \"#\".concat(hex);\n  }\n\n}\n\nconst ColorClass = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"ClassAttributor\"]('color', 'ql-color', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE\n});\nconst ColorStyle = new ColorAttributor('color', 'color', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE\n});\n\n\n//# sourceURL=webpack://Quill/./formats/color.js?");

	/***/ }),

	/***/ "./formats/direction.js":
	/*!******************************!*\
	  !*** ./formats/direction.js ***!
	  \******************************/
	/*! exports provided: DirectionAttribute, DirectionClass, DirectionStyle */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DirectionAttribute\", function() { return DirectionAttribute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DirectionClass\", function() { return DirectionClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DirectionStyle\", function() { return DirectionStyle; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\nconst config = {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOCK,\n  whitelist: ['rtl']\n};\nconst DirectionAttribute = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"Attributor\"]('direction', 'dir', config);\nconst DirectionClass = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"ClassAttributor\"]('direction', 'ql-direction', config);\nconst DirectionStyle = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"StyleAttributor\"]('direction', 'direction', config);\n\n\n//# sourceURL=webpack://Quill/./formats/direction.js?");

	/***/ }),

	/***/ "./formats/font.js":
	/*!*************************!*\
	  !*** ./formats/font.js ***!
	  \*************************/
	/*! exports provided: FontStyle, FontClass */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontStyle\", function() { return FontStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontClass\", function() { return FontClass; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\nconst config = {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE,\n  whitelist: ['serif', 'monospace']\n};\nconst FontClass = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"ClassAttributor\"]('font', 'ql-font', config);\n\nclass FontStyleAttributor extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"StyleAttributor\"] {\n  value(node) {\n    return super.value(node).replace(/[\"']/g, '');\n  }\n\n}\n\nconst FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\n\n//# sourceURL=webpack://Quill/./formats/font.js?");

	/***/ }),

	/***/ "./formats/formula.js":
	/*!****************************!*\
	  !*** ./formats/formula.js ***!
	  \****************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blots_embed__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/embed */ \"./blots/embed.js\");\n\n\nclass Formula extends _blots_embed__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static create(value) {\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n\n    const node = super.create(value);\n\n    if (typeof value === 'string') {\n      window.katex.render(value, node, {\n        throwOnError: false,\n        errorColor: '#f00'\n      });\n      node.setAttribute('data-value', value);\n    }\n\n    return node;\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('data-value');\n  }\n\n  html() {\n    const {\n      formula\n    } = this.value();\n    return \"<span>\".concat(formula, \"</span>\");\n  }\n\n}\n\nFormula.blotName = 'formula';\nFormula.className = 'ql-formula';\nFormula.tagName = 'SPAN';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Formula);\n\n//# sourceURL=webpack://Quill/./formats/formula.js?");

	/***/ }),

	/***/ "./formats/header.js":
	/*!***************************!*\
	  !*** ./formats/header.js ***!
	  \***************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n\n\nclass Header extends _blots_block__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static formats(domNode) {\n    return this.tagName.indexOf(domNode.tagName) + 1;\n  }\n\n}\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Header);\n\n//# sourceURL=webpack://Quill/./formats/header.js?");

	/***/ }),

	/***/ "./formats/image.js":
	/*!**************************!*\
	  !*** ./formats/image.js ***!
	  \**************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./link */ \"./formats/link.js\");\n\n\nconst ATTRIBUTES = ['alt', 'height', 'width'];\n\nclass Image extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"EmbedBlot\"] {\n  static create(value) {\n    const node = super.create(value);\n\n    if (typeof value === 'string') {\n      node.setAttribute('src', this.sanitize(value));\n    }\n\n    return node;\n  }\n\n  static formats(domNode) {\n    return ATTRIBUTES.reduce((formats, attribute) => {\n      if (domNode.hasAttribute(attribute)) {\n        formats[attribute] = domNode.getAttribute(attribute);\n      }\n\n      return formats;\n    }, {});\n  }\n\n  static match(url) {\n    return /\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url);\n  }\n\n  static register() {\n    if (/Firefox/i.test(navigator.userAgent)) {\n      setTimeout(() => {\n        // Disable image resizing in Firefox\n        document.execCommand('enableObjectResizing', false, false);\n      }, 1);\n    }\n  }\n\n  static sanitize(url) {\n    return Object(_link__WEBPACK_IMPORTED_MODULE_1__[\"sanitize\"])(url, ['http', 'https', 'data']) ? url : '//:0';\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n\n}\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Image);\n\n//# sourceURL=webpack://Quill/./formats/image.js?");

	/***/ }),

	/***/ "./formats/indent.js":
	/*!***************************!*\
	  !*** ./formats/indent.js ***!
	  \***************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\n\nclass IndentAttributor extends parchment__WEBPACK_IMPORTED_MODULE_0__[\"ClassAttributor\"] {\n  add(node, value) {\n    if (value === '+1' || value === '-1') {\n      const indent = this.value(node) || 0;\n      value = value === '+1' ? indent + 1 : indent - 1;\n    }\n\n    if (value === 0) {\n      this.remove(node);\n      return true;\n    }\n\n    return super.add(node, value);\n  }\n\n  canAdd(node, value) {\n    return super.canAdd(node, value) || super.canAdd(node, parseInt(value, 10));\n  }\n\n  value(node) {\n    return parseInt(super.value(node), 10) || undefined; // Don't return NaN\n  }\n\n}\n\nconst IndentClass = new IndentAttributor('indent', 'ql-indent', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (IndentClass);\n\n//# sourceURL=webpack://Quill/./formats/indent.js?");

	/***/ }),

	/***/ "./formats/italic.js":
	/*!***************************!*\
	  !*** ./formats/italic.js ***!
	  \***************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bold__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bold */ \"./formats/bold.js\");\n\n\nclass Italic extends _bold__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {}\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Italic);\n\n//# sourceURL=webpack://Quill/./formats/italic.js?");

	/***/ }),

	/***/ "./formats/link.js":
	/*!*************************!*\
	  !*** ./formats/link.js ***!
	  \*************************/
	/*! exports provided: default, sanitize */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Link; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sanitize\", function() { return sanitize; });\n/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ \"./blots/inline.js\");\n\n\nclass Link extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static create(value) {\n    const node = super.create(value);\n    node.setAttribute('href', this.sanitize(value));\n    node.setAttribute('rel', 'noopener noreferrer');\n    node.setAttribute('target', '_blank');\n    return node;\n  }\n\n  static formats(domNode) {\n    return domNode.getAttribute('href');\n  }\n\n  static sanitize(url) {\n    return sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n  }\n\n  format(name, value) {\n    if (name !== this.statics.blotName || !value) {\n      super.format(name, value);\n    } else {\n      this.domNode.setAttribute('href', this.constructor.sanitize(value));\n    }\n  }\n\n}\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction sanitize(url, protocols) {\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  const protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\n\n\n//# sourceURL=webpack://Quill/./formats/link.js?");

	/***/ }),

	/***/ "./formats/list.js":
	/*!*************************!*\
	  !*** ./formats/list.js ***!
	  \*************************/
	/*! exports provided: ListContainer, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ListContainer\", function() { return ListContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ListItem; });\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../blots/container */ \"./blots/container.js\");\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n\n\n\n\nclass ListContainer extends _blots_container__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {}\n\nListContainer.blotName = 'list-container';\nListContainer.tagName = 'OL';\n\nclass ListItem extends _blots_block__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static create(value) {\n    const node = super.create();\n    node.setAttribute('data-list', value);\n    return node;\n  }\n\n  static formats(domNode) {\n    return domNode.getAttribute('data-list') || undefined;\n  }\n\n  static register() {\n    _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].register(ListContainer);\n  }\n\n  constructor(scroll, domNode) {\n    super(scroll, domNode);\n    const ui = domNode.ownerDocument.createElement('span');\n\n    const listEventHandler = e => {\n      if (!scroll.isEnabled()) return;\n      const format = this.statics.formats(domNode, scroll);\n\n      if (format === 'checked') {\n        this.format('list', 'unchecked');\n        e.preventDefault();\n      } else if (format === 'unchecked') {\n        this.format('list', 'checked');\n        e.preventDefault();\n      }\n    };\n\n    ui.addEventListener('mousedown', listEventHandler);\n    ui.addEventListener('touchstart', listEventHandler);\n    this.attachUI(ui);\n  }\n\n  format(name, value) {\n    if (name === this.statics.blotName && value) {\n      this.domNode.setAttribute('data-list', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n\n}\n\nListItem.blotName = 'list';\nListItem.tagName = 'LI';\nListContainer.allowedChildren = [ListItem];\nListItem.requiredContainer = ListContainer;\n\n\n//# sourceURL=webpack://Quill/./formats/list.js?");

	/***/ }),

	/***/ "./formats/script.js":
	/*!***************************!*\
	  !*** ./formats/script.js ***!
	  \***************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ \"./blots/inline.js\");\n\n\nclass Script extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static create(value) {\n    if (value === 'super') {\n      return document.createElement('sup');\n    }\n\n    if (value === 'sub') {\n      return document.createElement('sub');\n    }\n\n    return super.create(value);\n  }\n\n  static formats(domNode) {\n    if (domNode.tagName === 'SUB') return 'sub';\n    if (domNode.tagName === 'SUP') return 'super';\n    return undefined;\n  }\n\n}\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Script);\n\n//# sourceURL=webpack://Quill/./formats/script.js?");

	/***/ }),

	/***/ "./formats/size.js":
	/*!*************************!*\
	  !*** ./formats/size.js ***!
	  \*************************/
	/*! exports provided: SizeClass, SizeStyle */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SizeClass\", function() { return SizeClass; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SizeStyle\", function() { return SizeStyle; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n\nconst SizeClass = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"ClassAttributor\"]('size', 'ql-size', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nconst SizeStyle = new parchment__WEBPACK_IMPORTED_MODULE_0__[\"StyleAttributor\"]('size', 'font-size', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\n\n//# sourceURL=webpack://Quill/./formats/size.js?");

	/***/ }),

	/***/ "./formats/strike.js":
	/*!***************************!*\
	  !*** ./formats/strike.js ***!
	  \***************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bold__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bold */ \"./formats/bold.js\");\n\n\nclass Strike extends _bold__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {}\n\nStrike.blotName = 'strike';\nStrike.tagName = ['S', 'STRIKE'];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Strike);\n\n//# sourceURL=webpack://Quill/./formats/strike.js?");

	/***/ }),

	/***/ "./formats/table.js":
	/*!**************************!*\
	  !*** ./formats/table.js ***!
	  \**************************/
	/*! exports provided: TableCell, TableRow, TableBody, TableContainer, tableId */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TableCell\", function() { return TableCell; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TableRow\", function() { return TableRow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TableBody\", function() { return TableBody; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TableContainer\", function() { return TableContainer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tableId\", function() { return tableId; });\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n/* harmony import */ var _blots_container__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../blots/container */ \"./blots/container.js\");\n\n\n\nclass TableCell extends _blots_block__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  static create(value) {\n    const node = super.create();\n\n    if (value) {\n      node.setAttribute('data-row', value);\n    } else {\n      node.setAttribute('data-row', tableId());\n    }\n\n    return node;\n  }\n\n  static formats(domNode) {\n    if (domNode.hasAttribute('data-row')) {\n      return domNode.getAttribute('data-row');\n    }\n\n    return undefined;\n  }\n\n  cellOffset() {\n    if (this.parent) {\n      return this.parent.children.indexOf(this);\n    }\n\n    return -1;\n  }\n\n  format(name, value) {\n    if (name === TableCell.blotName && value) {\n      this.domNode.setAttribute('data-row', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  row() {\n    return this.parent;\n  }\n\n  rowOffset() {\n    if (this.row()) {\n      return this.row().rowOffset();\n    }\n\n    return -1;\n  }\n\n  table() {\n    return this.row() && this.row().table();\n  }\n\n}\n\nTableCell.blotName = 'table';\nTableCell.tagName = 'TD';\n\nclass TableRow extends _blots_container__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  checkMerge() {\n    if (super.checkMerge() && this.next.children.head != null) {\n      const thisHead = this.children.head.formats();\n      const thisTail = this.children.tail.formats();\n      const nextHead = this.next.children.head.formats();\n      const nextTail = this.next.children.tail.formats();\n      return thisHead.table === thisTail.table && thisHead.table === nextHead.table && thisHead.table === nextTail.table;\n    }\n\n    return false;\n  }\n\n  optimize(...args) {\n    super.optimize(...args);\n    this.children.forEach(child => {\n      if (child.next == null) return;\n      const childFormats = child.formats();\n      const nextFormats = child.next.formats();\n\n      if (childFormats.table !== nextFormats.table) {\n        const next = this.splitAfter(child);\n\n        if (next) {\n          next.optimize();\n        } // We might be able to merge with prev now\n\n\n        if (this.prev) {\n          this.prev.optimize();\n        }\n      }\n    });\n  }\n\n  rowOffset() {\n    if (this.parent) {\n      return this.parent.children.indexOf(this);\n    }\n\n    return -1;\n  }\n\n  table() {\n    return this.parent && this.parent.parent;\n  }\n\n}\n\nTableRow.blotName = 'table-row';\nTableRow.tagName = 'TR';\n\nclass TableBody extends _blots_container__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {}\n\nTableBody.blotName = 'table-body';\nTableBody.tagName = 'TBODY';\n\nclass TableContainer extends _blots_container__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n  balanceCells() {\n    const rows = this.descendants(TableRow);\n    const maxColumns = rows.reduce((max, row) => {\n      return Math.max(row.children.length, max);\n    }, 0);\n    rows.forEach(row => {\n      new Array(maxColumns - row.children.length).fill(0).forEach(() => {\n        let value;\n\n        if (row.children.head != null) {\n          value = TableCell.formats(row.children.head.domNode);\n        }\n\n        const blot = this.scroll.create(TableCell.blotName, value);\n        row.appendChild(blot);\n        blot.optimize(); // Add break blot\n      });\n    });\n  }\n\n  cells(column) {\n    return this.rows().map(row => row.children.at(column));\n  }\n\n  deleteColumn(index) {\n    const [body] = this.descendant(TableBody);\n    if (body == null || body.children.head == null) return;\n    body.children.forEach(row => {\n      const cell = row.children.at(index);\n\n      if (cell != null) {\n        cell.remove();\n      }\n    });\n  }\n\n  insertColumn(index) {\n    const [body] = this.descendant(TableBody);\n    if (body == null || body.children.head == null) return;\n    body.children.forEach(row => {\n      const ref = row.children.at(index);\n      const value = TableCell.formats(row.children.head.domNode);\n      const cell = this.scroll.create(TableCell.blotName, value);\n      row.insertBefore(cell, ref);\n    });\n  }\n\n  insertRow(index) {\n    const [body] = this.descendant(TableBody);\n    if (body == null || body.children.head == null) return;\n    const id = tableId();\n    const row = this.scroll.create(TableRow.blotName);\n    body.children.head.children.forEach(() => {\n      const cell = this.scroll.create(TableCell.blotName, id);\n      row.appendChild(cell);\n    });\n    const ref = body.children.at(index);\n    body.insertBefore(row, ref);\n  }\n\n  rows() {\n    const body = this.children.head;\n    if (body == null) return [];\n    return body.children.map(row => row);\n  }\n\n}\n\nTableContainer.blotName = 'table-container';\nTableContainer.tagName = 'TABLE';\nTableContainer.allowedChildren = [TableBody];\nTableBody.requiredContainer = TableContainer;\nTableBody.allowedChildren = [TableRow];\nTableRow.requiredContainer = TableBody;\nTableRow.allowedChildren = [TableCell];\nTableCell.requiredContainer = TableRow;\n\nfunction tableId() {\n  const id = Math.random().toString(36).slice(2, 6);\n  return \"row-\".concat(id);\n}\n\n\n\n//# sourceURL=webpack://Quill/./formats/table.js?");

	/***/ }),

	/***/ "./formats/underline.js":
	/*!******************************!*\
	  !*** ./formats/underline.js ***!
	  \******************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/inline */ \"./blots/inline.js\");\n\n\nclass Underline extends _blots_inline__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {}\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Underline);\n\n//# sourceURL=webpack://Quill/./formats/underline.js?");

	/***/ }),

	/***/ "./formats/video.js":
	/*!**************************!*\
	  !*** ./formats/video.js ***!
	  \**************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./link */ \"./formats/link.js\");\n\n\nconst ATTRIBUTES = ['height', 'width'];\n\nclass Video extends _blots_block__WEBPACK_IMPORTED_MODULE_0__[\"BlockEmbed\"] {\n  static create(value) {\n    const node = super.create(value);\n    node.setAttribute('frameborder', '0');\n    node.setAttribute('allowfullscreen', true);\n    node.setAttribute('src', this.sanitize(value));\n    return node;\n  }\n\n  static formats(domNode) {\n    return ATTRIBUTES.reduce((formats, attribute) => {\n      if (domNode.hasAttribute(attribute)) {\n        formats[attribute] = domNode.getAttribute(attribute);\n      }\n\n      return formats;\n    }, {});\n  }\n\n  static sanitize(url) {\n    return _link__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sanitize(url); // eslint-disable-line import/no-named-as-default-member\n  }\n\n  static value(domNode) {\n    return domNode.getAttribute('src');\n  }\n\n  format(name, value) {\n    if (ATTRIBUTES.indexOf(name) > -1) {\n      if (value) {\n        this.domNode.setAttribute(name, value);\n      } else {\n        this.domNode.removeAttribute(name);\n      }\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  html() {\n    const {\n      video\n    } = this.value();\n    return \"<a href=\\\"\".concat(video, \"\\\">\").concat(video, \"</a>\");\n  }\n\n}\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n/* harmony default export */ __webpack_exports__[\"default\"] = (Video);\n\n//# sourceURL=webpack://Quill/./formats/video.js?");

	/***/ }),

	/***/ "./modules/clipboard.js":
	/*!******************************!*\
	  !*** ./modules/clipboard.js ***!
	  \******************************/
	/*! exports provided: default, matchAttributor, matchBlot, matchNewline, matchText, traverse */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Clipboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matchAttributor\", function() { return matchAttributor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matchBlot\", function() { return matchBlot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matchNewline\", function() { return matchNewline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"matchText\", function() { return matchText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"traverse\", function() { return traverse; });\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/logger */ \"./core/logger.js\");\n/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/module */ \"./core/module.js\");\n/* harmony import */ var _formats_align__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../formats/align */ \"./formats/align.js\");\n/* harmony import */ var _formats_background__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../formats/background */ \"./formats/background.js\");\n/* harmony import */ var _formats_code__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../formats/code */ \"./formats/code.js\");\n/* harmony import */ var _formats_color__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../formats/color */ \"./formats/color.js\");\n/* harmony import */ var _formats_direction__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../formats/direction */ \"./formats/direction.js\");\n/* harmony import */ var _formats_font__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../formats/font */ \"./formats/font.js\");\n/* harmony import */ var _formats_size__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../formats/size */ \"./formats/size.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst debug = Object(_core_logger__WEBPACK_IMPORTED_MODULE_5__[\"default\"])('quill:clipboard');\nconst CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['ol, ul', matchList], ['pre', matchCodeBlock], ['tr', matchTable], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['strike', matchAlias.bind(matchAlias, 'strike')], ['style', matchIgnore]];\nconst ATTRIBUTE_ATTRIBUTORS = [_formats_align__WEBPACK_IMPORTED_MODULE_7__[\"AlignAttribute\"], _formats_direction__WEBPACK_IMPORTED_MODULE_11__[\"DirectionAttribute\"]].reduce((memo, attr) => {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\nconst STYLE_ATTRIBUTORS = [_formats_align__WEBPACK_IMPORTED_MODULE_7__[\"AlignStyle\"], _formats_background__WEBPACK_IMPORTED_MODULE_8__[\"BackgroundStyle\"], _formats_color__WEBPACK_IMPORTED_MODULE_10__[\"ColorStyle\"], _formats_direction__WEBPACK_IMPORTED_MODULE_11__[\"DirectionStyle\"], _formats_font__WEBPACK_IMPORTED_MODULE_12__[\"FontStyle\"], _formats_size__WEBPACK_IMPORTED_MODULE_13__[\"SizeStyle\"]].reduce((memo, attr) => {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nclass Clipboard extends _core_module__WEBPACK_IMPORTED_MODULE_6__[\"default\"] {\n  constructor(quill, options) {\n    super(quill, options);\n    this.quill.root.addEventListener('copy', e => this.onCaptureCopy(e, false));\n    this.quill.root.addEventListener('cut', e => this.onCaptureCopy(e, true));\n    this.quill.root.addEventListener('paste', this.onCapturePaste.bind(this));\n    this.matchers = [];\n    CLIPBOARD_CONFIG.concat(this.options.matchers).forEach(([selector, matcher]) => {\n      this.addMatcher(selector, matcher);\n    });\n  }\n\n  addMatcher(selector, matcher) {\n    this.matchers.push([selector, matcher]);\n  }\n\n  convert({\n    html,\n    text\n  }, formats = {}) {\n    if (formats[_formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"].blotName]) {\n      return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(text, {\n        [_formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"].blotName]: formats[_formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"].blotName]\n      });\n    }\n\n    if (!html) {\n      return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(text || '');\n    }\n\n    const doc = new DOMParser().parseFromString(html, 'text/html');\n    const container = doc.body;\n    const nodeMatches = new WeakMap();\n    const [elementMatchers, textMatchers] = this.prepareMatching(container, nodeMatches);\n    const delta = traverse(this.quill.scroll, container, elementMatchers, textMatchers, nodeMatches); // Remove trailing newline\n\n    if (deltaEndsWith(delta, '\\n') && (delta.ops[delta.ops.length - 1].attributes == null || formats.table)) {\n      return delta.compose(new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().retain(delta.length() - 1).delete(1));\n    }\n\n    return delta;\n  }\n\n  dangerouslyPasteHTML(index, html, source = _core_quill__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.API) {\n    if (typeof index === 'string') {\n      const delta = this.convert({\n        html: index,\n        text: ''\n      });\n      this.quill.setContents(delta, html);\n      this.quill.setSelection(0, _core_quill__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.SILENT);\n    } else {\n      const paste = this.convert({\n        html,\n        text: ''\n      });\n      this.quill.updateContents(new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().retain(index).concat(paste), source);\n      this.quill.setSelection(index + paste.length(), _core_quill__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.SILENT);\n    }\n  }\n\n  onCaptureCopy(e, isCut = false) {\n    if (e.defaultPrevented) return;\n    e.preventDefault();\n    const [range] = this.quill.selection.getRange();\n    if (range == null) return;\n    const {\n      html,\n      text\n    } = this.onCopy(range, isCut);\n    e.clipboardData.setData('text/plain', text);\n    e.clipboardData.setData('text/html', html);\n\n    if (isCut) {\n      this.quill.deleteText(range, _core_quill__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.USER);\n    }\n  }\n\n  onCapturePaste(e) {\n    if (e.defaultPrevented || !this.quill.isEnabled()) return;\n    e.preventDefault();\n    const range = this.quill.getSelection(true);\n    if (range == null) return;\n    const html = e.clipboardData.getData('text/html');\n    const text = e.clipboardData.getData('text/plain');\n    const files = Array.from(e.clipboardData.files || []);\n\n    if (!html && files.length > 0) {\n      this.quill.uploader.upload(range, files);\n    } else {\n      this.onPaste(range, {\n        html,\n        text\n      });\n    }\n  }\n\n  onCopy(range) {\n    const text = this.quill.getText(range);\n    const html = this.quill.getSemanticHTML(range);\n    return {\n      html,\n      text\n    };\n  }\n\n  onPaste(range, {\n    text,\n    html\n  }) {\n    const formats = this.quill.getFormat(range.index);\n    const pastedDelta = this.convert({\n      text,\n      html\n    }, formats);\n    debug.log('onPaste', pastedDelta, {\n      text,\n      html\n    });\n    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().retain(range.index).delete(range.length).concat(pastedDelta);\n    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.USER); // range.length contributes to delta.length()\n\n    this.quill.setSelection(delta.length() - range.length, _core_quill__WEBPACK_IMPORTED_MODULE_4__[\"default\"].sources.SILENT);\n    this.quill.scrollIntoView();\n  }\n\n  prepareMatching(container, nodeMatches) {\n    const elementMatchers = [];\n    const textMatchers = [];\n    this.matchers.forEach(pair => {\n      const [selector, matcher] = pair;\n\n      switch (selector) {\n        case Node.TEXT_NODE:\n          textMatchers.push(matcher);\n          break;\n\n        case Node.ELEMENT_NODE:\n          elementMatchers.push(matcher);\n          break;\n\n        default:\n          Array.from(container.querySelectorAll(selector)).forEach(node => {\n            if (nodeMatches.has(node)) {\n              const matches = nodeMatches.get(node);\n              matches.push(matcher);\n            } else {\n              nodeMatches.set(node, [matcher]);\n            }\n          });\n          break;\n      }\n    });\n    return [elementMatchers, textMatchers];\n  }\n\n}\n\nClipboard.DEFAULTS = {\n  matchers: []\n};\n\nfunction applyFormat(delta, format, value) {\n  if (typeof format === 'object') {\n    return Object.keys(format).reduce((newDelta, key) => {\n      return applyFormat(newDelta, key, format[key]);\n    }, delta);\n  }\n\n  return delta.reduce((newDelta, op) => {\n    if (op.attributes && op.attributes[format]) {\n      return newDelta.push(op);\n    }\n\n    return newDelta.insert(op.insert, extend__WEBPACK_IMPORTED_MODULE_0___default()({}, {\n      [format]: value\n    }, op.attributes));\n  }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());\n}\n\nfunction deltaEndsWith(delta, text) {\n  let endText = '';\n\n  for (let i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i // eslint-disable-line no-plusplus\n  ) {\n    const op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n\n  return ['address', 'article', 'blockquote', 'canvas', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'iframe', 'li', 'main', 'nav', 'ol', 'output', 'p', 'pre', 'section', 'table', 'td', 'tr', 'ul', 'video'].includes(node.tagName.toLowerCase());\n}\n\nconst preNodes = new WeakMap();\n\nfunction isPre(node) {\n  if (node == null) return false;\n\n  if (!preNodes.has(node)) {\n    if (node.tagName === 'PRE') {\n      preNodes.set(node, true);\n    } else {\n      preNodes.set(node, isPre(node.parentNode));\n    }\n  }\n\n  return preNodes.get(node);\n}\n\nfunction traverse(scroll, node, elementMatchers, textMatchers, nodeMatches) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce((delta, matcher) => {\n      return matcher(node, delta, scroll);\n    }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n  if (node.nodeType === node.ELEMENT_NODE) {\n    return Array.from(node.childNodes || []).reduce((delta, childNode) => {\n      let childrenDelta = traverse(scroll, childNode, elementMatchers, textMatchers, nodeMatches);\n\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce((reducedDelta, matcher) => {\n          return matcher(childNode, reducedDelta, scroll);\n        }, childrenDelta);\n        childrenDelta = (nodeMatches.get(childNode) || []).reduce((reducedDelta, matcher) => {\n          return matcher(childNode, reducedDelta, scroll);\n        }, childrenDelta);\n      }\n\n      return delta.concat(childrenDelta);\n    }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n  return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a();\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta, scroll) {\n  const attributes = parchment__WEBPACK_IMPORTED_MODULE_2__[\"Attributor\"].keys(node);\n  const classes = parchment__WEBPACK_IMPORTED_MODULE_2__[\"ClassAttributor\"].keys(node);\n  const styles = parchment__WEBPACK_IMPORTED_MODULE_2__[\"StyleAttributor\"].keys(node);\n  const formats = {};\n  attributes.concat(classes).concat(styles).forEach(name => {\n    let attr = scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_2__[\"Scope\"].ATTRIBUTE);\n\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n\n    attr = STYLE_ATTRIBUTORS[name];\n\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n\n  if (Object.keys(formats).length > 0) {\n    return applyFormat(delta, formats);\n  }\n\n  return delta;\n}\n\nfunction matchBlot(node, delta, scroll) {\n  const match = scroll.query(node);\n  if (match == null) return delta;\n\n  if (match.prototype instanceof parchment__WEBPACK_IMPORTED_MODULE_2__[\"EmbedBlot\"]) {\n    const embed = {};\n    const value = match.value(node);\n\n    if (value != null) {\n      embed[match.blotName] = value;\n      return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert(embed, match.formats(node, scroll));\n    }\n  } else {\n    if (match.prototype instanceof parchment__WEBPACK_IMPORTED_MODULE_2__[\"BlockBlot\"] && !deltaEndsWith(delta, '\\n')) {\n      delta.insert('\\n');\n    }\n\n    if (typeof match.formats === 'function') {\n      return applyFormat(delta, match.blotName, match.formats(node, scroll));\n    }\n  }\n\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n\n  return delta;\n}\n\nfunction matchCodeBlock(node, delta, scroll) {\n  const match = scroll.query('code-block');\n  const language = match ? match.formats(node, scroll) : true;\n  return applyFormat(delta, 'code-block', language);\n}\n\nfunction matchIgnore() {\n  return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a();\n}\n\nfunction matchIndent(node, delta, scroll) {\n  const match = scroll.query(node);\n\n  if (match == null || match.blotName !== 'list' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n\n  let indent = -1;\n  let parent = node.parentNode;\n\n  while (parent != null) {\n    if (['OL', 'UL'].includes(parent.tagName)) {\n      indent += 1;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  if (indent <= 0) return delta;\n  return delta.reduce((composed, op) => {\n    if (op.attributes && op.attributes.list) {\n      return composed.push(op);\n    }\n\n    return composed.insert(op.insert, {\n      indent,\n      ...(op.attributes || {})\n    });\n  }, new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a());\n}\n\nfunction matchList(node, delta) {\n  const list = node.tagName === 'OL' ? 'ordered' : 'bullet';\n  return applyFormat(delta, 'list', list);\n}\n\nfunction matchNewline(node, delta, scroll) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node)) {\n      return delta.insert('\\n');\n    }\n\n    if (delta.length() > 0 && node.nextSibling) {\n      let {\n        nextSibling\n      } = node;\n\n      while (nextSibling != null) {\n        if (isLine(nextSibling)) {\n          return delta.insert('\\n');\n        }\n\n        const match = scroll.query(nextSibling);\n\n        if (match && match.prototype instanceof _blots_block__WEBPACK_IMPORTED_MODULE_3__[\"BlockEmbed\"]) {\n          return delta.insert('\\n');\n        }\n\n        nextSibling = nextSibling.firstChild;\n      }\n    }\n  }\n\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  const formats = {};\n  const style = node.style || {};\n\n  if (style.fontStyle === 'italic') {\n    formats.italic = true;\n  }\n\n  if (style.textDecoration === 'underline') {\n    formats.underline = true;\n  }\n\n  if (style.textDecoration === 'line-through') {\n    formats.strike = true;\n  }\n\n  if (style.fontWeight.startsWith('bold') || parseInt(style.fontWeight, 10) >= 700) {\n    formats.bold = true;\n  }\n\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    return new quill_delta__WEBPACK_IMPORTED_MODULE_1___default.a().insert('\\t').concat(delta);\n  }\n\n  return delta;\n}\n\nfunction matchTable(node, delta) {\n  const table = node.parentNode.tagName === 'TABLE' ? node.parentNode : node.parentNode.parentNode;\n  const rows = Array.from(table.querySelectorAll('tr'));\n  const row = rows.indexOf(node) + 1;\n  return applyFormat(delta, 'table', row);\n}\n\nfunction matchText(node, delta) {\n  let text = node.data; // Word represents empty line with <o:p>&nbsp;</o:p>\n\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n\n  if (text.trim().length === 0 && text.includes('\\n')) {\n    return delta;\n  }\n\n  if (!isPre(node)) {\n    const replacer = (collapse, match) => {\n      const replaced = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n\n      return replaced.length < 1 && collapse ? ' ' : replaced;\n    };\n\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n\n  return delta.insert(text);\n}\n\n\n\n//# sourceURL=webpack://Quill/./modules/clipboard.js?");

	/***/ }),

	/***/ "./modules/history.js":
	/*!****************************!*\
	  !*** ./modules/history.js ***!
	  \****************************/
	/*! exports provided: default, getLastChangeIndex */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return History; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLastChangeIndex\", function() { return getLastChangeIndex; });\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/module */ \"./core/module.js\");\n\n\n\n\nclass History extends _core_module__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(quill, options) {\n    super(quill, options);\n    this.lastRecorded = 0;\n    this.ignoreChange = false;\n    this.clear();\n    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.EDITOR_CHANGE, (eventName, delta, oldDelta, source) => {\n      if (eventName !== _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.TEXT_CHANGE || this.ignoreChange) return;\n\n      if (!this.options.userOnly || source === _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER) {\n        this.record(delta, oldDelta);\n      } else {\n        this.transform(delta);\n      }\n    });\n    this.quill.keyboard.addBinding({\n      key: 'z',\n      shortKey: true\n    }, this.undo.bind(this));\n    this.quill.keyboard.addBinding({\n      key: 'z',\n      shortKey: true,\n      shiftKey: true\n    }, this.redo.bind(this));\n\n    if (/Win/i.test(navigator.platform)) {\n      this.quill.keyboard.addBinding({\n        key: 'y',\n        shortKey: true\n      }, this.redo.bind(this));\n    }\n  }\n\n  change(source, dest) {\n    if (this.stack[source].length === 0) return;\n    const delta = this.stack[source].pop();\n    const base = this.quill.getContents();\n    const inverseDelta = delta.invert(base);\n    this.stack[dest].push(inverseDelta);\n    this.lastRecorded = 0;\n    this.ignoreChange = true;\n    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n    this.ignoreChange = false;\n    const index = getLastChangeIndex(this.quill.scroll, delta);\n    this.quill.setSelection(index);\n  }\n\n  clear() {\n    this.stack = {\n      undo: [],\n      redo: []\n    };\n  }\n\n  cutoff() {\n    this.lastRecorded = 0;\n  }\n\n  record(changeDelta, oldDelta) {\n    if (changeDelta.ops.length === 0) return;\n    this.stack.redo = [];\n    let undoDelta = changeDelta.invert(oldDelta);\n    const timestamp = Date.now();\n\n    if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n      const delta = this.stack.undo.pop();\n      undoDelta = undoDelta.compose(delta);\n    } else {\n      this.lastRecorded = timestamp;\n    }\n\n    if (undoDelta.length() === 0) return;\n    this.stack.undo.push(undoDelta);\n\n    if (this.stack.undo.length > this.options.maxStack) {\n      this.stack.undo.shift();\n    }\n  }\n\n  redo() {\n    this.change('redo', 'undo');\n  }\n\n  transform(delta) {\n    transformStack(this.stack.undo, delta);\n    transformStack(this.stack.redo, delta);\n  }\n\n  undo() {\n    this.change('undo', 'redo');\n  }\n\n}\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction transformStack(stack, delta) {\n  let remoteDelta = delta;\n\n  for (let i = stack.length - 1; i >= 0; i -= 1) {\n    const oldDelta = stack[i];\n    stack[i] = remoteDelta.transform(oldDelta, true);\n    remoteDelta = oldDelta.transform(remoteDelta);\n\n    if (stack[i].length() === 0) {\n      stack.splice(i, 1);\n    }\n  }\n}\n\nfunction endsWithNewlineChange(scroll, delta) {\n  const lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(attr => {\n      return scroll.query(attr, parchment__WEBPACK_IMPORTED_MODULE_0__[\"Scope\"].BLOCK) != null;\n    });\n  }\n\n  return false;\n}\n\nfunction getLastChangeIndex(scroll, delta) {\n  const deleteLength = delta.reduce((length, op) => {\n    return length + (op.delete || 0);\n  }, 0);\n  let changeIndex = delta.length() - deleteLength;\n\n  if (endsWithNewlineChange(scroll, delta)) {\n    changeIndex -= 1;\n  }\n\n  return changeIndex;\n}\n\n\n\n//# sourceURL=webpack://Quill/./modules/history.js?");

	/***/ }),

	/***/ "./modules/keyboard.js":
	/*!*****************************!*\
	  !*** ./modules/keyboard.js ***!
	  \*****************************/
	/*! exports provided: default, SHORTKEY, normalize */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Keyboard; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SHORTKEY\", function() { return SHORTKEY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normalize\", function() { return normalize; });\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clone */ \"./node_modules/clone/clone.js\");\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(clone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! deep-equal */ \"./node_modules/deep-equal/index.js\");\n/* harmony import */ var deep_equal__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(deep_equal__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/logger */ \"./core/logger.js\");\n/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/module */ \"./core/module.js\");\n\n\n\n\n\n\n\n\nconst debug = Object(_core_logger__WEBPACK_IMPORTED_MODULE_6__[\"default\"])('quill:keyboard');\nconst SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nclass Keyboard extends _core_module__WEBPACK_IMPORTED_MODULE_7__[\"default\"] {\n  static match(evt, binding) {\n    if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(key => {\n      return !!binding[key] !== evt[key] && binding[key] !== null;\n    })) {\n      return false;\n    }\n\n    return binding.key === evt.key || binding.key === evt.which;\n  }\n\n  constructor(quill, options) {\n    super(quill, options);\n    this.bindings = {};\n    Object.keys(this.options.bindings).forEach(name => {\n      if (this.options.bindings[name]) {\n        this.addBinding(this.options.bindings[name]);\n      }\n    });\n    this.addBinding({\n      key: 'Enter',\n      shiftKey: null\n    }, this.handleEnter);\n    this.addBinding({\n      key: 'Enter',\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null\n    }, () => {});\n\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      this.addBinding({\n        key: 'Backspace'\n      }, {\n        collapsed: true\n      }, this.handleBackspace);\n      this.addBinding({\n        key: 'Delete'\n      }, {\n        collapsed: true\n      }, this.handleDelete);\n    } else {\n      this.addBinding({\n        key: 'Backspace'\n      }, {\n        collapsed: true,\n        prefix: /^.?$/\n      }, this.handleBackspace);\n      this.addBinding({\n        key: 'Delete'\n      }, {\n        collapsed: true,\n        suffix: /^.?$/\n      }, this.handleDelete);\n    }\n\n    this.addBinding({\n      key: 'Backspace'\n    }, {\n      collapsed: false\n    }, this.handleDeleteRange);\n    this.addBinding({\n      key: 'Delete'\n    }, {\n      collapsed: false\n    }, this.handleDeleteRange);\n    this.addBinding({\n      key: 'Backspace',\n      altKey: null,\n      ctrlKey: null,\n      metaKey: null,\n      shiftKey: null\n    }, {\n      collapsed: true,\n      offset: 0\n    }, this.handleBackspace);\n    this.listen();\n  }\n\n  addBinding(keyBinding, context = {}, handler = {}) {\n    const binding = normalize(keyBinding);\n\n    if (binding == null) {\n      debug.warn('Attempted to add invalid keyboard binding', binding);\n      return;\n    }\n\n    if (typeof context === 'function') {\n      context = {\n        handler: context\n      };\n    }\n\n    if (typeof handler === 'function') {\n      handler = {\n        handler\n      };\n    }\n\n    const keys = Array.isArray(binding.key) ? binding.key : [binding.key];\n    keys.forEach(key => {\n      const singleBinding = extend__WEBPACK_IMPORTED_MODULE_2___default()({}, binding, {\n        key\n      }, context, handler);\n      this.bindings[singleBinding.key] = this.bindings[singleBinding.key] || [];\n      this.bindings[singleBinding.key].push(singleBinding);\n    });\n  }\n\n  listen() {\n    this.quill.root.addEventListener('keydown', evt => {\n      if (evt.defaultPrevented || evt.isComposing) return;\n      const bindings = (this.bindings[evt.key] || []).concat(this.bindings[evt.which] || []);\n      const matches = bindings.filter(binding => Keyboard.match(evt, binding));\n      if (matches.length === 0) return;\n      const range = this.quill.getSelection();\n      if (range == null || !this.quill.hasFocus()) return;\n      const [line, offset] = this.quill.getLine(range.index);\n      const [leafStart, offsetStart] = this.quill.getLeaf(range.index);\n      const [leafEnd, offsetEnd] = range.length === 0 ? [leafStart, offsetStart] : this.quill.getLeaf(range.index + range.length);\n      const prefixText = leafStart instanceof parchment__WEBPACK_IMPORTED_MODULE_4__[\"TextBlot\"] ? leafStart.value().slice(0, offsetStart) : '';\n      const suffixText = leafEnd instanceof parchment__WEBPACK_IMPORTED_MODULE_4__[\"TextBlot\"] ? leafEnd.value().slice(offsetEnd) : '';\n      const curContext = {\n        collapsed: range.length === 0,\n        empty: range.length === 0 && line.length() <= 1,\n        format: this.quill.getFormat(range),\n        line,\n        offset,\n        prefix: prefixText,\n        suffix: suffixText,\n        event: evt\n      };\n      const prevented = matches.some(binding => {\n        if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) {\n          return false;\n        }\n\n        if (binding.empty != null && binding.empty !== curContext.empty) {\n          return false;\n        }\n\n        if (binding.offset != null && binding.offset !== curContext.offset) {\n          return false;\n        }\n\n        if (Array.isArray(binding.format)) {\n          // any format is present\n          if (binding.format.every(name => curContext.format[name] == null)) {\n            return false;\n          }\n        } else if (typeof binding.format === 'object') {\n          // all formats must match\n          if (!Object.keys(binding.format).every(name => {\n            if (binding.format[name] === true) return curContext.format[name] != null;\n            if (binding.format[name] === false) return curContext.format[name] == null;\n            return deep_equal__WEBPACK_IMPORTED_MODULE_1___default()(binding.format[name], curContext.format[name]);\n          })) {\n            return false;\n          }\n        }\n\n        if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) {\n          return false;\n        }\n\n        if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) {\n          return false;\n        }\n\n        return binding.handler.call(this, range, curContext, binding) !== true;\n      });\n\n      if (prevented) {\n        evt.preventDefault();\n      }\n    });\n  }\n\n  handleBackspace(range, context) {\n    // Check for astral symbols\n    const length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n    if (range.index === 0 || this.quill.getLength() <= 1) return;\n    let formats = {};\n    const [line] = this.quill.getLine(range.index);\n    let delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index - length).delete(length);\n\n    if (context.offset === 0) {\n      // Always deleting newline here, length always 1\n      const [prev] = this.quill.getLine(range.index - 1);\n\n      if (prev) {\n        const curFormats = line.formats();\n        const prevFormats = this.quill.getFormat(range.index - 1, 1);\n        formats = quill_delta__WEBPACK_IMPORTED_MODULE_3__[\"AttributeMap\"].diff(curFormats, prevFormats) || {};\n\n        if (Object.keys(formats).length > 0) {\n          // line.length() - 1 targets \\n in line, another -1 for newline being deleted\n          const formatDelta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index + line.length() - 2).retain(1, formats);\n          delta = delta.compose(formatDelta);\n        }\n      }\n    }\n\n    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n    this.quill.focus();\n  }\n\n  handleDelete(range, context) {\n    // Check for astral symbols\n    const length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n    if (range.index >= this.quill.getLength() - length) return;\n    let formats = {};\n    const [line] = this.quill.getLine(range.index);\n    let delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).delete(length);\n\n    if (context.offset >= line.length() - 1) {\n      const [next] = this.quill.getLine(range.index + 1);\n\n      if (next) {\n        const curFormats = line.formats();\n        const nextFormats = this.quill.getFormat(range.index, 1);\n        formats = quill_delta__WEBPACK_IMPORTED_MODULE_3__[\"AttributeMap\"].diff(curFormats, nextFormats) || {};\n\n        if (Object.keys(formats).length > 0) {\n          delta = delta.retain(next.length() - 1).retain(1, formats);\n        }\n      }\n    }\n\n    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n    this.quill.focus();\n  }\n\n  handleDeleteRange(range) {\n    const lines = this.quill.getLines(range);\n    let formats = {};\n\n    if (lines.length > 1) {\n      const firstFormats = lines[0].formats();\n      const lastFormats = lines[lines.length - 1].formats();\n      formats = quill_delta__WEBPACK_IMPORTED_MODULE_3__[\"AttributeMap\"].diff(lastFormats, firstFormats) || {};\n    }\n\n    this.quill.deleteText(range, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n\n    if (Object.keys(formats).length > 0) {\n      this.quill.formatLine(range.index, 1, formats, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n    }\n\n    this.quill.setSelection(range.index, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n    this.quill.focus();\n  }\n\n  handleEnter(range, context) {\n    const lineFormats = Object.keys(context.format).reduce((formats, format) => {\n      if (this.quill.scroll.query(format, parchment__WEBPACK_IMPORTED_MODULE_4__[\"Scope\"].BLOCK) && !Array.isArray(context.format[format])) {\n        formats[format] = context.format[format];\n      }\n\n      return formats;\n    }, {});\n    const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).delete(range.length).insert('\\n', lineFormats);\n    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n    this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n    this.quill.focus();\n    Object.keys(context.format).forEach(name => {\n      if (lineFormats[name] != null) return;\n      if (Array.isArray(context.format[name])) return;\n      if (name === 'code' || name === 'link') return;\n      this.quill.format(name, context.format[name], _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n    });\n  }\n\n}\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    bold: makeFormatHandler('bold'),\n    italic: makeFormatHandler('italic'),\n    underline: makeFormatHandler('underline'),\n    indent: {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: 'Tab',\n      format: ['blockquote', 'indent', 'list'],\n\n      handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        return false;\n      }\n\n    },\n    outdent: {\n      key: 'Tab',\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        return false;\n      }\n\n    },\n    'outdent backspace': {\n      key: 'Backspace',\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n\n      handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        }\n      }\n\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: 'Tab',\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n\n      handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n      }\n\n    },\n    tab: {\n      key: 'Tab',\n\n      handler(range, context) {\n        if (context.format.table) return true;\n        this.quill.history.cutoff();\n        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n        return false;\n      }\n\n    },\n    'blockquote empty enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['blockquote'],\n      empty: true,\n\n      handler() {\n        this.quill.format('blockquote', false, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n      }\n\n    },\n    'list empty enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n\n      handler(range, context) {\n        const formats = {\n          list: false\n        };\n\n        if (context.format.indent) {\n          formats.indent = false;\n        }\n\n        this.quill.formatLine(range.index, range.length, formats, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n      }\n\n    },\n    'checklist enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: {\n        list: 'checked'\n      },\n\n      handler(range) {\n        const [line, offset] = this.quill.getLine(range.index);\n        const formats = extend__WEBPACK_IMPORTED_MODULE_2___default()({}, line.formats(), {\n          list: 'checked'\n        });\n        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, {\n          list: 'unchecked'\n        });\n        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n\n    },\n    'header enter': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n\n      handler(range, context) {\n        const [line, offset] = this.quill.getLine(range.index);\n        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, {\n          header: null\n        });\n        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        this.quill.setSelection(range.index + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n\n    },\n    'table backspace': {\n      key: 'Backspace',\n      format: ['table'],\n      collapsed: true,\n      offset: 0,\n\n      handler() {}\n\n    },\n    'table delete': {\n      key: 'Delete',\n      format: ['table'],\n      collapsed: true,\n      suffix: /^$/,\n\n      handler() {}\n\n    },\n    'table enter': {\n      key: 'Enter',\n      shiftKey: null,\n      format: ['table'],\n\n      handler(range) {\n        const module = this.quill.getModule('table');\n\n        if (module) {\n          const [table, row, cell, offset] = module.getTable(range);\n          const shift = tableSide(table, row, cell, offset);\n          if (shift == null) return;\n          let index = table.offset();\n\n          if (shift < 0) {\n            const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert('\\n');\n            this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n            this.quill.setSelection(range.index + 1, range.length, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n          } else if (shift > 0) {\n            index += table.length();\n            const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(index).insert('\\n');\n            this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n            this.quill.setSelection(index, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n          }\n        }\n      }\n\n    },\n    'table tab': {\n      key: 'Tab',\n      shiftKey: null,\n      format: ['table'],\n\n      handler(range, context) {\n        const {\n          event,\n          line: cell\n        } = context;\n        const offset = cell.offset(this.quill.scroll);\n\n        if (event.shiftKey) {\n          this.quill.setSelection(offset - 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        } else {\n          this.quill.setSelection(offset + cell.length(), _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        }\n      }\n\n    },\n    'list autofill': {\n      key: ' ',\n      shiftKey: null,\n      collapsed: true,\n      format: {\n        list: false,\n        'code-block': false,\n        blockquote: false,\n        header: false,\n        table: false\n      },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n\n      handler(range, context) {\n        if (this.quill.scroll.query('list') == null) return true;\n        const {\n          length\n        } = context.prefix;\n        const [line, offset] = this.quill.getLine(range.index);\n        if (offset > length) return true;\n        let value;\n\n        switch (context.prefix.trim()) {\n          case '[]':\n          case '[ ]':\n            value = 'unchecked';\n            break;\n\n          case '[x]':\n            value = 'checked';\n            break;\n\n          case '-':\n          case '*':\n            value = 'bullet';\n            break;\n\n          default:\n            value = 'ordered';\n        }\n\n        this.quill.insertText(range.index, ' ', _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        this.quill.history.cutoff();\n        const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, {\n          list: value\n        });\n        this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n        return false;\n      }\n\n    },\n    'code exit': {\n      key: 'Enter',\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /^$/,\n      suffix: /^\\s*$/,\n\n      handler(range) {\n        const [line, offset] = this.quill.getLine(range.index);\n        let numLines = 2;\n        let cur = line;\n\n        while (cur != null && cur.length() <= 1 && cur.formats()['code-block']) {\n          cur = cur.prev;\n          numLines -= 1; // Requisite prev lines are empty\n\n          if (numLines <= 0) {\n            const delta = new quill_delta__WEBPACK_IMPORTED_MODULE_3___default.a().retain(range.index + line.length() - offset - 2).retain(1, {\n              'code-block': null\n            }).delete(1);\n            this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n            this.quill.setSelection(range.index - 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n    },\n    'embed left': makeEmbedArrowHandler('ArrowLeft', false),\n    'embed left shift': makeEmbedArrowHandler('ArrowLeft', true),\n    'embed right': makeEmbedArrowHandler('ArrowRight', false),\n    'embed right shift': makeEmbedArrowHandler('ArrowRight', true),\n    'table down': makeTableArrowHandler(false),\n    'table up': makeTableArrowHandler(true)\n  }\n};\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: 'Tab',\n    shiftKey: !indent,\n    format: {\n      'code-block': true\n    },\n\n    handler(range) {\n      const CodeBlock = this.quill.scroll.query('code-block');\n      const lines = range.length === 0 ? this.quill.getLines(range.index, 1) : this.quill.getLines(range);\n      let {\n        index,\n        length\n      } = range;\n      lines.forEach((line, i) => {\n        if (indent) {\n          line.insertAt(0, CodeBlock.TAB);\n\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.domNode.textContent.startsWith(CodeBlock.TAB)) {\n          line.deleteAt(0, CodeBlock.TAB.length);\n\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n      });\n      this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n      this.quill.setSelection(index, length, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.SILENT);\n    }\n\n  };\n}\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  const where = key === 'ArrowLeft' ? 'prefix' : 'suffix';\n  return {\n    key,\n    shiftKey,\n    altKey: null,\n    [where]: /^$/,\n\n    handler(range) {\n      let {\n        index\n      } = range;\n\n      if (key === 'ArrowRight') {\n        index += range.length + 1;\n      }\n\n      const [leaf] = this.quill.getLeaf(index);\n      if (!(leaf instanceof parchment__WEBPACK_IMPORTED_MODULE_4__[\"EmbedBlot\"])) return true;\n\n      if (key === 'ArrowLeft') {\n        if (shiftKey) {\n          this.quill.setSelection(range.index - 1, range.length + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        } else {\n          this.quill.setSelection(range.index - 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        }\n      } else if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n      }\n\n      return false;\n    }\n\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0],\n    shortKey: true,\n\n    handler(range, context) {\n      this.quill.format(format, !context.format[format], _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n    }\n\n  };\n}\n\nfunction makeTableArrowHandler(up) {\n  return {\n    key: up ? 'ArrowUp' : 'ArrowDown',\n    collapsed: true,\n    format: ['table'],\n\n    handler(range, context) {\n      // TODO move to table module\n      const key = up ? 'prev' : 'next';\n      const cell = context.line;\n      const targetRow = cell.parent[key];\n\n      if (targetRow != null) {\n        if (targetRow.statics.blotName === 'table-row') {\n          let targetCell = targetRow.children.head;\n          let cur = cell;\n\n          while (cur.prev != null) {\n            cur = cur.prev;\n            targetCell = targetCell.next;\n          }\n\n          const index = targetCell.offset(this.quill.scroll) + Math.min(context.offset, targetCell.length() - 1);\n          this.quill.setSelection(index, 0, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n        }\n      } else {\n        const targetLine = cell.table()[key];\n\n        if (targetLine != null) {\n          if (up) {\n            this.quill.setSelection(targetLine.offset(this.quill.scroll) + targetLine.length() - 1, 0, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n          } else {\n            this.quill.setSelection(targetLine.offset(this.quill.scroll), 0, _core_quill__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sources.USER);\n          }\n        }\n      }\n\n      return false;\n    }\n\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    binding = {\n      key: binding\n    };\n  } else if (typeof binding === 'object') {\n    binding = clone__WEBPACK_IMPORTED_MODULE_0___default()(binding, false);\n  } else {\n    return null;\n  }\n\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n\n  return binding;\n}\n\nfunction tableSide(table, row, cell, offset) {\n  if (row.prev == null && row.next == null) {\n    if (cell.prev == null && cell.next == null) {\n      return offset === 0 ? -1 : 1;\n    }\n\n    return cell.prev == null ? -1 : 1;\n  }\n\n  if (row.prev == null) {\n    return -1;\n  }\n\n  if (row.next == null) {\n    return 1;\n  }\n\n  return null;\n}\n\n\n\n//# sourceURL=webpack://Quill/./modules/keyboard.js?");

	/***/ }),

	/***/ "./modules/syntax.js":
	/*!***************************!*\
	  !*** ./modules/syntax.js ***!
	  \***************************/
	/*! exports provided: CodeBlock, CodeToken, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CodeBlock\", function() { return SyntaxCodeBlock; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CodeToken\", function() { return CodeToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Syntax; });\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _blots_inline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../blots/inline */ \"./blots/inline.js\");\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/module */ \"./core/module.js\");\n/* harmony import */ var _blots_block__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../blots/block */ \"./blots/block.js\");\n/* harmony import */ var _blots_break__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../blots/break */ \"./blots/break.js\");\n/* harmony import */ var _blots_cursor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../blots/cursor */ \"./blots/cursor.js\");\n/* harmony import */ var _blots_text__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../blots/text */ \"./blots/text.js\");\n/* harmony import */ var _formats_code__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../formats/code */ \"./formats/code.js\");\n/* harmony import */ var _clipboard__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./clipboard */ \"./modules/clipboard.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst TokenAttributor = new parchment__WEBPACK_IMPORTED_MODULE_1__[\"ClassAttributor\"]('code-token', 'hljs', {\n  scope: parchment__WEBPACK_IMPORTED_MODULE_1__[\"Scope\"].INLINE\n});\n\nclass CodeToken extends _blots_inline__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  static formats(node, scroll) {\n    while (node != null && node !== scroll.domNode) {\n      if (node.classList && node.classList.contains(_formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"].className)) {\n        return super.formats(node, scroll);\n      }\n\n      node = node.parentNode;\n    }\n\n    return undefined;\n  }\n\n  constructor(scroll, domNode, value) {\n    super(scroll, domNode, value);\n    TokenAttributor.add(this.domNode, value);\n  }\n\n  format(format, value) {\n    if (format !== CodeToken.blotName) {\n      super.format(format, value);\n    } else if (value) {\n      TokenAttributor.add(this.domNode, value);\n    } else {\n      TokenAttributor.remove(this.domNode);\n      this.domNode.classList.remove(this.statics.className);\n    }\n  }\n\n  optimize(...args) {\n    super.optimize(...args);\n\n    if (!TokenAttributor.value(this.domNode)) {\n      this.unwrap();\n    }\n  }\n\n}\n\nCodeToken.blotName = 'code-token';\nCodeToken.className = 'ql-token';\n\nclass SyntaxCodeBlock extends _formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"] {\n  static create(value) {\n    const domNode = super.create(value);\n\n    if (typeof value === 'string') {\n      domNode.setAttribute('data-language', value);\n    }\n\n    return domNode;\n  }\n\n  static formats(domNode) {\n    return domNode.getAttribute('data-language') || 'plain';\n  }\n\n  static register() {} // Syntax module will register\n\n\n  format(name, value) {\n    if (name === this.statics.blotName && value) {\n      this.domNode.setAttribute('data-language', value);\n    } else {\n      super.format(name, value);\n    }\n  }\n\n  replaceWith(name, value) {\n    this.formatAt(0, this.length(), CodeToken.blotName, false);\n    return super.replaceWith(name, value);\n  }\n\n}\n\nclass SyntaxCodeBlockContainer extends _formats_code__WEBPACK_IMPORTED_MODULE_9__[\"CodeBlockContainer\"] {\n  attach() {\n    super.attach();\n    this.forceNext = false;\n    this.scroll.emitMount(this);\n  }\n\n  format(name, value) {\n    if (name === SyntaxCodeBlock.blotName) {\n      this.forceNext = true;\n      this.children.forEach(child => {\n        child.format(name, value);\n      });\n    }\n  }\n\n  formatAt(index, length, name, value) {\n    if (name === SyntaxCodeBlock.blotName) {\n      this.forceNext = true;\n    }\n\n    super.formatAt(index, length, name, value);\n  }\n\n  highlight(highlight, forced = false) {\n    if (this.children.head == null) return;\n    const nodes = Array.from(this.domNode.childNodes).filter(node => node !== this.uiNode);\n    const text = \"\".concat(nodes.map(node => node.textContent).join('\\n'), \"\\n\");\n    const language = SyntaxCodeBlock.formats(this.children.head.domNode);\n\n    if (forced || this.forceNext || this.cachedText !== text) {\n      if (text.trim().length > 0 || this.cachedText == null) {\n        const oldDelta = this.children.reduce((delta, child) => {\n          return delta.concat(Object(_blots_block__WEBPACK_IMPORTED_MODULE_5__[\"blockDelta\"])(child, false));\n        }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a());\n        const delta = highlight(text, language);\n        oldDelta.diff(delta).reduce((index, {\n          retain,\n          attributes\n        }) => {\n          // Should be all retains\n          if (!retain) return index;\n\n          if (attributes) {\n            Object.keys(attributes).forEach(format => {\n              if ([SyntaxCodeBlock.blotName, CodeToken.blotName].includes(format)) {\n                this.formatAt(index, retain, format, attributes[format]);\n              }\n            });\n          }\n\n          return index + retain;\n        }, 0);\n      }\n\n      this.cachedText = text;\n      this.forceNext = false;\n    }\n  }\n\n  optimize(context) {\n    super.optimize(context);\n\n    if (this.parent != null && this.children.head != null && this.uiNode != null) {\n      const language = SyntaxCodeBlock.formats(this.children.head.domNode);\n\n      if (language !== this.uiNode.value) {\n        this.uiNode.value = language;\n      }\n    }\n  }\n\n}\n\nSyntaxCodeBlockContainer.allowedChildren = [SyntaxCodeBlock];\nSyntaxCodeBlock.requiredContainer = SyntaxCodeBlockContainer;\nSyntaxCodeBlock.allowedChildren = [CodeToken, _blots_cursor__WEBPACK_IMPORTED_MODULE_7__[\"default\"], _blots_text__WEBPACK_IMPORTED_MODULE_8__[\"default\"], _blots_break__WEBPACK_IMPORTED_MODULE_6__[\"default\"]];\n\nclass Syntax extends _core_module__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n  static register() {\n    _core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].register(CodeToken, true);\n    _core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].register(SyntaxCodeBlock, true);\n    _core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].register(SyntaxCodeBlockContainer, true);\n  }\n\n  constructor(quill, options) {\n    super(quill, options);\n\n    if (this.options.hljs == null) {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n\n    this.languages = this.options.languages.reduce((memo, {\n      key\n    }) => {\n      memo[key] = true;\n      return memo;\n    }, {});\n    this.highlightBlot = this.highlightBlot.bind(this);\n    this.initListener();\n    this.initTimer();\n  }\n\n  initListener() {\n    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].events.SCROLL_BLOT_MOUNT, blot => {\n      if (!(blot instanceof SyntaxCodeBlockContainer)) return;\n      const select = this.quill.root.ownerDocument.createElement('select');\n      this.options.languages.forEach(({\n        key,\n        label\n      }) => {\n        const option = select.ownerDocument.createElement('option');\n        option.textContent = label;\n        option.setAttribute('value', key);\n        select.appendChild(option);\n      });\n      select.addEventListener('change', () => {\n        blot.format(SyntaxCodeBlock.blotName, select.value);\n        this.quill.root.focus(); // Prevent scrolling\n\n        this.highlight(blot, true);\n      });\n\n      if (blot.uiNode == null) {\n        blot.attachUI(select);\n\n        if (blot.children.head) {\n          select.value = SyntaxCodeBlock.formats(blot.children.head.domNode);\n        }\n      }\n    });\n  }\n\n  initTimer() {\n    let timer = null;\n    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].events.SCROLL_OPTIMIZE, () => {\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        this.highlight();\n        timer = null;\n      }, this.options.interval);\n    });\n  }\n\n  highlight(blot = null, force = false) {\n    if (this.quill.selection.composing) return;\n    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.USER);\n    const range = this.quill.getSelection();\n    const blots = blot == null ? this.quill.scroll.descendants(SyntaxCodeBlockContainer) : [blot];\n    blots.forEach(container => {\n      container.highlight(this.highlightBlot, force);\n    });\n    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.SILENT);\n\n    if (range != null) {\n      this.quill.setSelection(range, _core_quill__WEBPACK_IMPORTED_MODULE_3__[\"default\"].sources.SILENT);\n    }\n  }\n\n  highlightBlot(text, language = 'plain') {\n    language = this.languages[language] ? language : 'plain';\n\n    if (language === 'plain') {\n      return Object(_blots_text__WEBPACK_IMPORTED_MODULE_8__[\"escapeText\"])(text).split('\\n').reduce((delta, line, i) => {\n        if (i !== 0) {\n          delta.insert('\\n', {\n            [_formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"].blotName]: language\n          });\n        }\n\n        return delta.insert(line);\n      }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a());\n    }\n\n    const container = this.quill.root.ownerDocument.createElement('div');\n    container.classList.add(_formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"].className);\n    container.innerHTML = this.options.hljs.highlight(language, text).value;\n    return Object(_clipboard__WEBPACK_IMPORTED_MODULE_10__[\"traverse\"])(this.quill.scroll, container, [(node, delta) => {\n      const value = TokenAttributor.value(node);\n\n      if (value) {\n        return delta.compose(new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(delta.length(), {\n          [CodeToken.blotName]: value\n        }));\n      }\n\n      return delta;\n    }], [(node, delta) => {\n      return node.data.split('\\n').reduce((memo, nodeText, i) => {\n        if (i !== 0) memo.insert('\\n', {\n          [_formats_code__WEBPACK_IMPORTED_MODULE_9__[\"default\"].blotName]: language\n        });\n        return memo.insert(nodeText);\n      }, delta);\n    }], new WeakMap());\n  }\n\n}\n\nSyntax.DEFAULTS = {\n  hljs: (() => {\n    return window.hljs;\n  })(),\n  interval: 1000,\n  languages: [{\n    key: 'plain',\n    label: 'Plain'\n  }, {\n    key: 'bash',\n    label: 'Bash'\n  }, {\n    key: 'cpp',\n    label: 'C++'\n  }, {\n    key: 'cs',\n    label: 'C#'\n  }, {\n    key: 'css',\n    label: 'CSS'\n  }, {\n    key: 'diff',\n    label: 'Diff'\n  }, {\n    key: 'xml',\n    label: 'HTML/XML'\n  }, {\n    key: 'java',\n    label: 'Java'\n  }, {\n    key: 'javascript',\n    label: 'Javascript'\n  }, {\n    key: 'markdown',\n    label: 'Markdown'\n  }, {\n    key: 'php',\n    label: 'PHP'\n  }, {\n    key: 'python',\n    label: 'Python'\n  }, {\n    key: 'ruby',\n    label: 'Ruby'\n  }, {\n    key: 'sql',\n    label: 'SQL'\n  }]\n};\n\n\n//# sourceURL=webpack://Quill/./modules/syntax.js?");

	/***/ }),

	/***/ "./modules/table.js":
	/*!**************************!*\
	  !*** ./modules/table.js ***!
	  \**************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/module */ \"./core/module.js\");\n/* harmony import */ var _formats_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formats/table */ \"./formats/table.js\");\n\n\n\n\n\nclass Table extends _core_module__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  static register() {\n    _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"]);\n    _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__[\"TableRow\"]);\n    _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__[\"TableBody\"]);\n    _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].register(_formats_table__WEBPACK_IMPORTED_MODULE_3__[\"TableContainer\"]);\n  }\n\n  constructor(...args) {\n    super(...args);\n    this.listenBalanceCells();\n  }\n\n  balanceTables() {\n    this.quill.scroll.descendants(_formats_table__WEBPACK_IMPORTED_MODULE_3__[\"TableContainer\"]).forEach(table => {\n      table.balanceCells();\n    });\n  }\n\n  deleteColumn() {\n    const [table,, cell] = this.getTable();\n    if (cell == null) return;\n    table.deleteColumn(cell.cellOffset());\n    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n  }\n\n  deleteRow() {\n    const [, row] = this.getTable();\n    if (row == null) return;\n    row.remove();\n    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n  }\n\n  deleteTable() {\n    const [table] = this.getTable();\n    if (table == null) return;\n    const offset = table.offset();\n    table.remove();\n    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n    this.quill.setSelection(offset, _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.SILENT);\n  }\n\n  getTable(range = this.quill.getSelection()) {\n    if (range == null) return [null, null, null, -1];\n    const [cell, offset] = this.quill.getLine(range.index);\n\n    if (cell == null || cell.statics.blotName !== _formats_table__WEBPACK_IMPORTED_MODULE_3__[\"TableCell\"].blotName) {\n      return [null, null, null, -1];\n    }\n\n    const row = cell.parent;\n    const table = row.parent.parent;\n    return [table, row, cell, offset];\n  }\n\n  insertColumn(offset) {\n    const range = this.quill.getSelection();\n    const [table, row, cell] = this.getTable(range);\n    if (cell == null) return;\n    const column = cell.cellOffset();\n    table.insertColumn(column + offset);\n    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n    let shift = row.rowOffset();\n\n    if (offset === 0) {\n      shift += 1;\n    }\n\n    this.quill.setSelection(range.index + shift, range.length, _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.SILENT);\n  }\n\n  insertColumnLeft() {\n    this.insertColumn(0);\n  }\n\n  insertColumnRight() {\n    this.insertColumn(1);\n  }\n\n  insertRow(offset) {\n    const range = this.quill.getSelection();\n    const [table, row, cell] = this.getTable(range);\n    if (cell == null) return;\n    const index = row.rowOffset();\n    table.insertRow(index + offset);\n    this.quill.update(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n\n    if (offset > 0) {\n      this.quill.setSelection(range, _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.SILENT);\n    } else {\n      this.quill.setSelection(range.index + row.children.length, range.length, _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.SILENT);\n    }\n  }\n\n  insertRowAbove() {\n    this.insertRow(0);\n  }\n\n  insertRowBelow() {\n    this.insertRow(1);\n  }\n\n  insertTable(rows, columns) {\n    const range = this.quill.getSelection();\n    if (range == null) return;\n    const delta = new Array(rows).fill(0).reduce(memo => {\n      const text = new Array(columns).fill('\\n').join('');\n      return memo.insert(text, {\n        table: Object(_formats_table__WEBPACK_IMPORTED_MODULE_3__[\"tableId\"])()\n      });\n    }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(range.index));\n    this.quill.updateContents(delta, _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n    this.quill.setSelection(range.index, _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.SILENT);\n    this.balanceTables();\n  }\n\n  listenBalanceCells() {\n    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SCROLL_OPTIMIZE, mutations => {\n      mutations.some(mutation => {\n        if (['TD', 'TR', 'TBODY', 'TABLE'].includes(mutation.target.tagName)) {\n          this.quill.once(_core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.TEXT_CHANGE, (delta, old, source) => {\n            if (source !== _core_quill__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER) return;\n            this.balanceTables();\n          });\n          return true;\n        }\n\n        return false;\n      });\n    });\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Table);\n\n//# sourceURL=webpack://Quill/./modules/table.js?");

	/***/ }),

	/***/ "./modules/toolbar.js":
	/*!****************************!*\
	  !*** ./modules/toolbar.js ***!
	  \****************************/
	/*! exports provided: default, addControls */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Toolbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addControls\", function() { return addControls; });\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var parchment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! parchment */ \"./node_modules/parchment/src/parchment.ts\");\n/* harmony import */ var _core_quill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/quill */ \"./core/quill.js\");\n/* harmony import */ var _core_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/logger */ \"./core/logger.js\");\n/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/module */ \"./core/module.js\");\n\n\n\n\n\nconst debug = Object(_core_logger__WEBPACK_IMPORTED_MODULE_3__[\"default\"])('quill:toolbar');\n\nclass Toolbar extends _core_module__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n  constructor(quill, options) {\n    super(quill, options);\n\n    if (Array.isArray(this.options.container)) {\n      const container = document.createElement('div');\n      addControls(container, this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      this.container = container;\n    } else if (typeof this.options.container === 'string') {\n      this.container = document.querySelector(this.options.container);\n    } else {\n      this.container = this.options.container;\n    }\n\n    if (!(this.container instanceof HTMLElement)) {\n      return debug.error('Container required for toolbar', this.options);\n    }\n\n    this.container.classList.add('ql-toolbar');\n    this.controls = [];\n    this.handlers = {};\n    Object.keys(this.options.handlers).forEach(format => {\n      this.addHandler(format, this.options.handlers[format]);\n    });\n    Array.from(this.container.querySelectorAll('button, select')).forEach(input => {\n      this.attach(input);\n    });\n    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].events.EDITOR_CHANGE, (type, range) => {\n      if (type === _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].events.SELECTION_CHANGE) {\n        this.update(range);\n      }\n    });\n    this.quill.on(_core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].events.SCROLL_OPTIMIZE, () => {\n      const [range] = this.quill.selection.getRange(); // quill.getSelection triggers update\n\n      this.update(range);\n    });\n  }\n\n  addHandler(format, handler) {\n    this.handlers[format] = handler;\n  }\n\n  attach(input) {\n    let format = Array.from(input.classList).find(className => {\n      return className.indexOf('ql-') === 0;\n    });\n    if (!format) return;\n    format = format.slice('ql-'.length);\n\n    if (input.tagName === 'BUTTON') {\n      input.setAttribute('type', 'button');\n    }\n\n    if (this.handlers[format] == null && this.quill.scroll.query(format) == null) {\n      debug.warn('ignoring attaching to nonexistent format', format, input);\n      return;\n    }\n\n    const eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n    input.addEventListener(eventName, e => {\n      let value;\n\n      if (input.tagName === 'SELECT') {\n        if (input.selectedIndex < 0) return;\n        const selected = input.options[input.selectedIndex];\n\n        if (selected.hasAttribute('selected')) {\n          value = false;\n        } else {\n          value = selected.value || false;\n        }\n      } else {\n        if (input.classList.contains('ql-active')) {\n          value = false;\n        } else {\n          value = input.value || !input.hasAttribute('value');\n        }\n\n        e.preventDefault();\n      }\n\n      this.quill.focus();\n      const [range] = this.quill.selection.getRange();\n\n      if (this.handlers[format] != null) {\n        this.handlers[format].call(this, value);\n      } else if (this.quill.scroll.query(format).prototype instanceof parchment__WEBPACK_IMPORTED_MODULE_1__[\"EmbedBlot\"]) {\n        value = prompt(\"Enter \".concat(format)); // eslint-disable-line no-alert\n\n        if (!value) return;\n        this.quill.updateContents(new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(range.index).delete(range.length).insert({\n          [format]: value\n        }), _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n      } else {\n        this.quill.format(format, value, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n      }\n\n      this.update(range);\n    });\n    this.controls.push([format, input]);\n  }\n\n  update(range) {\n    const formats = range == null ? {} : this.quill.getFormat(range);\n    this.controls.forEach(pair => {\n      const [format, input] = pair;\n\n      if (input.tagName === 'SELECT') {\n        let option;\n\n        if (range == null) {\n          option = null;\n        } else if (formats[format] == null) {\n          option = input.querySelector('option[selected]');\n        } else if (!Array.isArray(formats[format])) {\n          let value = formats[format];\n\n          if (typeof value === 'string') {\n            value = value.replace(/\"/g, '\\\\\"');\n          }\n\n          option = input.querySelector(\"option[value=\\\"\".concat(value, \"\\\"]\"));\n        }\n\n        if (option == null) {\n          input.value = ''; // TODO make configurable?\n\n          input.selectedIndex = -1;\n        } else {\n          option.selected = true;\n        }\n      } else if (range == null) {\n        input.classList.remove('ql-active');\n      } else if (input.hasAttribute('value')) {\n        // both being null should match (default values)\n        // '1' should match with 1 (headers)\n        const isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n        input.classList.toggle('ql-active', isActive);\n      } else {\n        input.classList.toggle('ql-active', formats[format] != null);\n      }\n    });\n  }\n\n}\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  const input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add(\"ql-\".concat(format));\n\n  if (value != null) {\n    input.value = value;\n  }\n\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n\n  groups.forEach(controls => {\n    const group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(control => {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        const format = Object.keys(control)[0];\n        const value = control[format];\n\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  const input = document.createElement('select');\n  input.classList.add(\"ql-\".concat(format));\n  values.forEach(value => {\n    const option = document.createElement('option');\n\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean() {\n      const range = this.quill.getSelection();\n      if (range == null) return;\n\n      if (range.length === 0) {\n        const formats = this.quill.getFormat();\n        Object.keys(formats).forEach(name => {\n          // Clean functionality in existing apps only clean inline formats\n          if (this.quill.scroll.query(name, parchment__WEBPACK_IMPORTED_MODULE_1__[\"Scope\"].INLINE) != null) {\n            this.quill.format(name, false, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n      }\n    },\n\n    direction(value) {\n      const {\n        align\n      } = this.quill.getFormat();\n\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n      }\n\n      this.quill.format('direction', value, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n    },\n\n    indent(value) {\n      const range = this.quill.getSelection();\n      const formats = this.quill.getFormat(range);\n      const indent = parseInt(formats.indent || 0, 10);\n\n      if (value === '+1' || value === '-1') {\n        let modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n      }\n    },\n\n    link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:'); // eslint-disable-line no-alert\n      }\n\n      this.quill.format('link', value, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n    },\n\n    list(value) {\n      const range = this.quill.getSelection();\n      const formats = this.quill.getFormat(range);\n\n      if (value === 'check') {\n        if (formats.list === 'checked' || formats.list === 'unchecked') {\n          this.quill.format('list', false, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _core_quill__WEBPACK_IMPORTED_MODULE_2__[\"default\"].sources.USER);\n      }\n    }\n\n  }\n};\n\n\n//# sourceURL=webpack://Quill/./modules/toolbar.js?");

	/***/ }),

	/***/ "./modules/uploader.js":
	/*!*****************************!*\
	  !*** ./modules/uploader.js ***!
	  \*****************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! quill-delta */ \"./node_modules/quill-delta/dist/Delta.js\");\n/* harmony import */ var quill_delta__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(quill_delta__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ \"./core/emitter.js\");\n/* harmony import */ var _core_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/module */ \"./core/module.js\");\n\n\n\n\nclass Uploader extends _core_module__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(quill, options) {\n    super(quill, options);\n    quill.root.addEventListener('drop', e => {\n      e.preventDefault();\n      let native;\n\n      if (document.caretRangeFromPoint) {\n        native = document.caretRangeFromPoint(e.clientX, e.clientY);\n      } else if (document.caretPositionFromPoint) {\n        const position = document.caretPositionFromPoint(e.clientX, e.clientY);\n        native = document.createRange();\n        native.setStart(position.offsetNode, position.offset);\n        native.setEnd(position.offsetNode, position.offset);\n      } else {\n        return;\n      }\n\n      const normalized = quill.selection.normalizeNative(native);\n      const range = quill.selection.normalizedToRange(normalized);\n      this.upload(range, e.dataTransfer.files);\n    });\n  }\n\n  upload(range, files) {\n    const uploads = [];\n    Array.from(files).forEach(file => {\n      if (file && this.options.mimetypes.includes(file.type)) {\n        uploads.push(file);\n      }\n    });\n\n    if (uploads.length > 0) {\n      this.options.handler.call(this, range, uploads);\n    }\n  }\n\n}\n\nUploader.DEFAULTS = {\n  mimetypes: ['image/png', 'image/jpeg'],\n\n  handler(range, files) {\n    const promises = files.map(file => {\n      return new Promise(resolve => {\n        const reader = new FileReader();\n\n        reader.onload = e => {\n          resolve(e.target.result);\n        };\n\n        reader.readAsDataURL(file);\n      });\n    });\n    Promise.all(promises).then(images => {\n      const update = images.reduce((delta, image) => {\n        return delta.insert({\n          image\n        });\n      }, new quill_delta__WEBPACK_IMPORTED_MODULE_0___default.a().retain(range.index).delete(range.length));\n      this.quill.updateContents(update, _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n      this.quill.setSelection(range.index + images.length, _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.SILENT);\n    });\n  }\n\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (Uploader);\n\n//# sourceURL=webpack://Quill/./modules/uploader.js?");

	/***/ }),

	/***/ "./node_modules/array-filter/index.js":
	/*!********************************************!*\
	  !*** ./node_modules/array-filter/index.js ***!
	  \********************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("\n/**\n * Array#filter.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Object=} self\n * @return {Array}\n * @throw TypeError\n */\n\nmodule.exports = function (arr, fn, self) {\n  if (arr.filter) return arr.filter(fn, self);\n  if (void 0 === arr || null === arr) throw new TypeError;\n  if ('function' != typeof fn) throw new TypeError;\n  var ret = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (!hasOwn.call(arr, i)) continue;\n    var val = arr[i];\n    if (fn.call(self, val, i, arr)) ret.push(val);\n  }\n  return ret;\n};\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\n\n//# sourceURL=webpack://Quill/./node_modules/array-filter/index.js?");

	/***/ }),

	/***/ "./node_modules/available-typed-arrays/index.js":
	/*!******************************************************!*\
	  !*** ./node_modules/available-typed-arrays/index.js ***!
	  \******************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar filter = __webpack_require__(/*! array-filter */ \"./node_modules/array-filter/index.js\");\n\nmodule.exports = function availableTypedArrays() {\n\treturn filter([\n\t\t'BigInt64Array',\n\t\t'BigUint64Array',\n\t\t'Float32Array',\n\t\t'Float64Array',\n\t\t'Int16Array',\n\t\t'Int32Array',\n\t\t'Int8Array',\n\t\t'Uint16Array',\n\t\t'Uint32Array',\n\t\t'Uint8Array',\n\t\t'Uint8ClampedArray'\n\t], function (typedArray) {\n\t\treturn typeof global[typedArray] === 'function';\n\t});\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://Quill/./node_modules/available-typed-arrays/index.js?");

	/***/ }),

	/***/ "./node_modules/clone/clone.js":
	/*!*************************************!*\
	  !*** ./node_modules/clone/clone.js ***!
	  \*************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n//# sourceURL=webpack://Quill/./node_modules/clone/clone.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/index.js":
	/*!******************************************!*\
	  !*** ./node_modules/deep-equal/index.js ***!
	  \******************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar objectKeys = __webpack_require__(/*! object-keys */ \"./node_modules/deep-equal/node_modules/object-keys/index.js\");\nvar isArguments = __webpack_require__(/*! is-arguments */ \"./node_modules/is-arguments/index.js\");\nvar is = __webpack_require__(/*! object-is */ \"./node_modules/object-is/index.js\");\nvar isRegex = __webpack_require__(/*! is-regex */ \"./node_modules/deep-equal/node_modules/is-regex/index.js\");\nvar flags = __webpack_require__(/*! regexp.prototype.flags */ \"./node_modules/regexp.prototype.flags/index.js\");\nvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/deep-equal/node_modules/isarray/index.js\");\nvar isDate = __webpack_require__(/*! is-date-object */ \"./node_modules/deep-equal/node_modules/is-date-object/index.js\");\nvar whichBoxedPrimitive = __webpack_require__(/*! which-boxed-primitive */ \"./node_modules/which-boxed-primitive/index.js\");\nvar GetIntrinsic = __webpack_require__(/*! es-abstract/GetIntrinsic */ \"./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js\");\nvar callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ \"./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js\");\nvar whichCollection = __webpack_require__(/*! which-collection */ \"./node_modules/which-collection/index.js\");\nvar getIterator = __webpack_require__(/*! es-get-iterator */ \"./node_modules/es-get-iterator/index.js\");\nvar getSideChannel = __webpack_require__(/*! side-channel */ \"./node_modules/side-channel/index.js\");\nvar whichTypedArray = __webpack_require__(/*! which-typed-array */ \"./node_modules/which-typed-array/index.js\");\nvar assign = __webpack_require__(/*! object.assign */ \"./node_modules/object.assign/index.js\");\n\nvar $getTime = callBound('Date.prototype.getTime');\nvar gPO = Object.getPrototypeOf;\nvar $objToString = callBound('Object.prototype.toString');\n\nvar $Set = GetIntrinsic('%Set%', true);\nvar $mapHas = callBound('Map.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSize = callBound('Map.prototype.size', true);\nvar $setAdd = callBound('Set.prototype.add', true);\nvar $setDelete = callBound('Set.prototype.delete', true);\nvar $setHas = callBound('Set.prototype.has', true);\nvar $setSize = callBound('Set.prototype.size', true);\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L401-L414\nfunction setHasEqualElement(set, val1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  while ((result = i.next()) && !result.done) {\n    if (internalDeepEqual(val1, result.value, opts, channel)) { // eslint-disable-line no-use-before-define\n      // Remove the matching element to make sure we do not check that again.\n      $setDelete(set, result.value);\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L416-L439\nfunction findLooseMatchingPrimitives(prim) {\n  if (typeof prim === 'undefined') {\n    return null;\n  }\n  if (typeof prim === 'object') { // Only pass in null as object!\n    return void 0;\n  }\n  if (typeof prim === 'symbol') {\n    return false;\n  }\n  if (typeof prim === 'string' || typeof prim === 'number') {\n    // Loose equal entries exist only if the string is possible to convert to a regular number and not NaN.\n    return +prim === +prim; // eslint-disable-line no-implicit-coercion\n  }\n  return true;\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L449-L460\nfunction mapMightHaveLoosePrim(a, b, prim, item, opts, channel) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n  var curB = $mapGet(b, altValue);\n  var looseOpts = assign({}, opts, { strict: false });\n  if (\n    (typeof curB === 'undefined' && !$mapHas(b, altValue))\n    // eslint-disable-next-line no-use-before-define\n    || !internalDeepEqual(item, curB, looseOpts, channel)\n  ) {\n    return false;\n  }\n  // eslint-disable-next-line no-use-before-define\n  return !$mapHas(a, altValue) && internalDeepEqual(item, curB, looseOpts, channel);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L441-L447\nfunction setMightHaveLoosePrim(a, b, prim) {\n  var altValue = findLooseMatchingPrimitives(prim);\n  if (altValue != null) {\n    return altValue;\n  }\n\n  return $setHas(b, altValue) && !$setHas(a, altValue);\n}\n\n// taken from https://github.com/browserify/commonjs-assert/blob/bba838e9ba9e28edf3127ce6974624208502f6bc/internal/util/comparisons.js#L518-L533\nfunction mapHasEqualEntry(set, map, key1, item1, opts, channel) {\n  var i = getIterator(set);\n  var result;\n  var key2;\n  while ((result = i.next()) && !result.done) {\n    key2 = result.value;\n    if (\n      // eslint-disable-next-line no-use-before-define\n      internalDeepEqual(key1, key2, opts, channel)\n      // eslint-disable-next-line no-use-before-define\n      && internalDeepEqual(item1, $mapGet(map, key2), opts, channel)\n    ) {\n      $setDelete(set, key2);\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction internalDeepEqual(actual, expected, options, channel) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  var actualBoxed = whichBoxedPrimitive(actual);\n  var expectedBoxed = whichBoxedPrimitive(expected);\n  if (actualBoxed !== expectedBoxed) {\n    return false;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected; // eslint-disable-line eqeqeq\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // see https://github.com/nodejs/node/commit/d3aafd02efd3a403d646a3044adcf14e63a88d32 for memos/channel inspiration\n\n  var hasActual = channel.has(actual);\n  var hasExpected = channel.has(expected);\n  var sentinel;\n  if (hasActual && hasExpected) {\n    if (channel.get(actual) === channel.get(expected)) {\n      return true;\n    }\n  } else {\n    sentinel = {};\n  }\n  if (!hasActual) { channel.set(actual, sentinel); }\n  if (!hasExpected) { channel.set(expected, sentinel); }\n\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts, channel);\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n\n  return !!(x.constructor && x.constructor.isBuffer && x.constructor.isBuffer(x));\n}\n\nfunction setEquiv(a, b, opts, channel) {\n  if ($setSize(a) !== $setSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  while ((resultA = iA.next()) && !resultA.done) {\n    if (resultA.value && typeof resultA.value === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    } else if (!$setHas(b, resultA.value)) {\n      if (opts.strict) { return false; }\n      if (!setMightHaveLoosePrim(a, b, resultA.value)) {\n        return false;\n      }\n      if (!set) { set = new $Set(); }\n      $setAdd(set, resultA.value);\n    }\n  }\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      // We have to check if a primitive value is already matching and only if it's not, go hunting for it.\n      if (resultB.value && typeof resultB.value === 'object') {\n        if (!setHasEqualElement(set, resultB.value, opts.strict, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && !$setHas(a, resultB.value)\n        && !setHasEqualElement(set, resultB.value, opts.strict, channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction mapEquiv(a, b, opts, channel) {\n  if ($mapSize(a) !== $mapSize(b)) {\n    return false;\n  }\n  var iA = getIterator(a);\n  var iB = getIterator(b);\n  var resultA;\n  var resultB;\n  var set;\n  var key;\n  var item1;\n  var item2;\n  while ((resultA = iA.next()) && !resultA.done) {\n    key = resultA.value[0];\n    item1 = resultA.value[1];\n    if (key && typeof key === 'object') {\n      if (!set) { set = new $Set(); }\n      $setAdd(set, key);\n    } else {\n      item2 = $mapGet(b, key);\n      if ((typeof item2 === 'undefined' && !$mapHas(b, key)) || !internalDeepEqual(item1, item2, opts, channel)) {\n        if (opts.strict) {\n          return false;\n        }\n        if (!mapMightHaveLoosePrim(a, b, key, item1, opts, channel)) {\n          return false;\n        }\n        if (!set) { set = new $Set(); }\n        $setAdd(set, key);\n      }\n    }\n  }\n\n  if (set) {\n    while ((resultB = iB.next()) && !resultB.done) {\n      key = resultB.value[0];\n      item2 = resultB.value[1];\n      if (key && typeof key === 'object') {\n        if (!mapHasEqualEntry(set, a, key, item2, opts, channel)) {\n          return false;\n        }\n      } else if (\n        !opts.strict\n        && (!a.has(key) || !internalDeepEqual($mapGet(a, key), item2, opts, channel))\n        && !mapHasEqualEntry(set, a, key, item2, assign({}, opts, { strict: false }), channel)\n      ) {\n        return false;\n      }\n    }\n    return $setSize(set) === 0;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts, channel) {\n  /* eslint max-statements: [2, 100], max-lines-per-function: [2, 120], max-depth: [2, 5] */\n  var i, key;\n\n  if (typeof a !== typeof b) { return false; }\n  if (a == null || b == null) { return false; }\n\n  if ($objToString(a) !== $objToString(b)) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsArray = isArray(a);\n  var bIsArray = isArray(b);\n  if (aIsArray !== bIsArray) { return false; }\n\n  // TODO: replace when a cross-realm brand check is available\n  var aIsError = a instanceof Error;\n  var bIsError = b instanceof Error;\n  if (aIsError !== bIsError) { return false; }\n  if (aIsError || bIsError) {\n    if (a.name !== b.name || a.message !== b.message) { return false; }\n  }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if ((aIsRegex || bIsRegex) && (a.source !== b.source || flags(a) !== flags(b))) {\n    return false;\n  }\n\n  var aIsDate = isDate(a);\n  var bIsDate = isDate(b);\n  if (aIsDate !== bIsDate) { return false; }\n  if (aIsDate || bIsDate) { // && would work too, because both are true or both false here\n    if ($getTime(a) !== $getTime(b)) { return false; }\n  }\n  if (opts.strict && gPO && gPO(a) !== gPO(b)) { return false; }\n\n  if (whichTypedArray(a) !== whichTypedArray(b)) {\n    return false;\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; } // eslint-disable-line eqeqeq\n  }\n\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!internalDeepEqual(a[key], b[key], opts, channel)) { return false; }\n  }\n\n  var aCollection = whichCollection(a);\n  var bCollection = whichCollection(b);\n  if (aCollection !== bCollection) {\n    return false;\n  }\n  if (aCollection === 'Set' || bCollection === 'Set') { // aCollection === bCollection\n    return setEquiv(a, b, opts, channel);\n  }\n  if (aCollection === 'Map') { // aCollection === bCollection\n    return mapEquiv(a, b, opts, channel);\n  }\n\n  return true;\n}\n\nmodule.exports = function deepEqual(a, b, opts) {\n  return internalDeepEqual(a, b, opts, getSideChannel());\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/index.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js":
	/*!**************************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js ***!
	  \**************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js":
	/*!******************************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js ***!
	  \******************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js":
	/*!*******************************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js ***!
	  \*******************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/deep-equal/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar callBind = __webpack_require__(/*! ./callBind */ \"./node_modules/deep-equal/node_modules/es-abstract/helpers/callBind.js\");\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/es-abstract/helpers/callBound.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/is-date-object/index.js":
	/*!**********************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/is-date-object/index.js ***!
	  \**********************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateGetDayCall(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/is-date-object/index.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/is-regex/index.js":
	/*!****************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/is-regex/index.js ***!
	  \****************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar has = __webpack_require__(/*! has */ \"./node_modules/has/src/index.js\");\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0; // eslint-disable-line no-param-reassign\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex; // eslint-disable-line no-param-reassign\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/is-regex/index.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/isarray/index.js":
	/*!***************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/isarray/index.js ***!
	  \***************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/isarray/index.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/object-keys/implementation.js":
	/*!****************************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/object-keys/implementation.js ***!
	  \****************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = __webpack_require__(/*! ./isArguments */ \"./node_modules/deep-equal/node_modules/object-keys/isArguments.js\"); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/implementation.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/object-keys/index.js":
	/*!*******************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/object-keys/index.js ***!
	  \*******************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar slice = Array.prototype.slice;\nvar isArgs = __webpack_require__(/*! ./isArguments */ \"./node_modules/deep-equal/node_modules/object-keys/isArguments.js\");\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : __webpack_require__(/*! ./implementation */ \"./node_modules/deep-equal/node_modules/object-keys/implementation.js\");\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/index.js?");

	/***/ }),

	/***/ "./node_modules/deep-equal/node_modules/object-keys/isArguments.js":
	/*!*************************************************************************!*\
	  !*** ./node_modules/deep-equal/node_modules/object-keys/isArguments.js ***!
	  \*************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/deep-equal/node_modules/object-keys/isArguments.js?");

	/***/ }),

	/***/ "./node_modules/define-properties/index.js":
	/*!*************************************************!*\
	  !*** ./node_modules/define-properties/index.js ***!
	  \*************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar keys = __webpack_require__(/*! object-keys */ \"./node_modules/object-keys/index.js\");\nvar hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';\n\nvar toStr = Object.prototype.toString;\nvar concat = Array.prototype.concat;\nvar origDefineProperty = Object.defineProperty;\n\nvar isFunction = function (fn) {\n\treturn typeof fn === 'function' && toStr.call(fn) === '[object Function]';\n};\n\nvar arePropertyDescriptorsSupported = function () {\n\tvar obj = {};\n\ttry {\n\t\torigDefineProperty(obj, 'x', { enumerable: false, value: obj });\n\t\t// eslint-disable-next-line no-unused-vars, no-restricted-syntax\n\t\tfor (var _ in obj) { // jscs:ignore disallowUnusedVariables\n\t\t\treturn false;\n\t\t}\n\t\treturn obj.x === obj;\n\t} catch (e) { /* this is IE 8. */\n\t\treturn false;\n\t}\n};\nvar supportsDescriptors = origDefineProperty && arePropertyDescriptorsSupported();\n\nvar defineProperty = function (object, name, value, predicate) {\n\tif (name in object && (!isFunction(predicate) || !predicate())) {\n\t\treturn;\n\t}\n\tif (supportsDescriptors) {\n\t\torigDefineProperty(object, name, {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: value,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\tobject[name] = value;\n\t}\n};\n\nvar defineProperties = function (object, map) {\n\tvar predicates = arguments.length > 2 ? arguments[2] : {};\n\tvar props = keys(map);\n\tif (hasSymbols) {\n\t\tprops = concat.call(props, Object.getOwnPropertySymbols(map));\n\t}\n\tfor (var i = 0; i < props.length; i += 1) {\n\t\tdefineProperty(object, props[i], map[props[i]], predicates[props[i]]);\n\t}\n};\n\ndefineProperties.supportsDescriptors = !!supportsDescriptors;\n\nmodule.exports = defineProperties;\n\n\n//# sourceURL=webpack://Quill/./node_modules/define-properties/index.js?");

	/***/ }),

	/***/ "./node_modules/es-get-iterator/index.js":
	/*!***********************************************!*\
	  !*** ./node_modules/es-get-iterator/index.js ***!
	  \***********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("/* WEBPACK VAR INJECTION */(function(process) {\n\n/* eslint global-require: 0 */\n// the code is structured this way so that bundlers can\n// alias out `has-symbols` to `() => true` or `() => false` if your target\n// environments' Symbol capabilities are known, and then use\n// dead code elimination on the rest of this module.\n//\n// Similarly, `isarray` can be aliased to `Array.isArray` if\n// available in all target environments.\n\nvar isArguments = __webpack_require__(/*! is-arguments */ \"./node_modules/is-arguments/index.js\");\n\nif (__webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")() || __webpack_require__(/*! has-symbols/shams */ \"./node_modules/has-symbols/shams.js\")()) {\n\tvar $iterator = Symbol.iterator;\n\t// Symbol is available natively or shammed\n\t// natively:\n\t//  - Chrome >= 38\n\t//  - Edge 12-14?, Edge >= 15 for sure\n\t//  - FF >= 36\n\t//  - Safari >= 9\n\t//  - node >= 0.12\n\tmodule.exports = function getIterator(iterable) {\n\t\t// alternatively, `iterable[$iterator]?.()`\n\t\tif (iterable != null && typeof iterable[$iterator] !== 'undefined') {\n\t\t\treturn iterable[$iterator]();\n\t\t}\n\t\tif (isArguments(iterable)) {\n\t\t\t// arguments objects lack Symbol.iterator\n\t\t\t// - node 0.12\n\t\t\treturn Array.prototype[$iterator].call(iterable);\n\t\t}\n\t};\n} else {\n\t// Symbol is not available, native or shammed\n\tvar isArray = __webpack_require__(/*! isarray */ \"./node_modules/es-get-iterator/node_modules/isarray/index.js\");\n\tvar isString = __webpack_require__(/*! is-string */ \"./node_modules/is-string/index.js\");\n\tvar GetIntrinsic = __webpack_require__(/*! es-abstract/GetIntrinsic */ \"./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js\");\n\tvar $Map = GetIntrinsic('%Map%', true);\n\tvar $Set = GetIntrinsic('%Set%', true);\n\tvar callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ \"./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js\");\n\tvar $arrayPush = callBound('Array.prototype.push');\n\tvar $charCodeAt = callBound('String.prototype.charCodeAt');\n\tvar $stringSlice = callBound('String.prototype.slice');\n\n\tvar advanceStringIndex = function advanceStringIndex(S, index) {\n\t\tvar length = S.length;\n\t\tif ((index + 1) >= length) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar first = $charCodeAt(S, index);\n\t\tif (first < 0xD800 || first > 0xDBFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\tvar second = $charCodeAt(S, index + 1);\n\t\tif (second < 0xDC00 || second > 0xDFFF) {\n\t\t\treturn index + 1;\n\t\t}\n\n\t\treturn index + 2;\n\t};\n\n\tvar getArrayIterator = function getArrayIterator(arraylike) {\n\t\tvar i = 0;\n\t\treturn {\n\t\t\tnext: function next() {\n\t\t\t\tvar done = i >= arraylike.length;\n\t\t\t\tvar value;\n\t\t\t\tif (!done) {\n\t\t\t\t\tvalue = arraylike[i];\n\t\t\t\t\ti += 1;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tdone: done,\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\t};\n\n\tvar getNonCollectionIterator = function getNonCollectionIterator(iterable) {\n\t\tif (isArray(iterable) || isArguments(iterable)) {\n\t\t\treturn getArrayIterator(iterable);\n\t\t}\n\t\tif (isString(iterable)) {\n\t\t\tvar i = 0;\n\t\t\treturn {\n\t\t\t\tnext: function next() {\n\t\t\t\t\tvar nextIndex = advanceStringIndex(iterable, i);\n\t\t\t\t\tvar value = $stringSlice(iterable, i, nextIndex);\n\t\t\t\t\ti = nextIndex;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: nextIndex > iterable.length,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n\n\tif (!$Map && !$Set) {\n\t\t// the only language iterables are Array, String, arguments\n\t\t// - Safari <= 6.0\n\t\t// - Chrome < 38\n\t\t// - node < 0.12\n\t\t// - FF < 13\n\t\t// - IE < 11\n\t\t// - Edge < 11\n\n\t\tmodule.exports = getNonCollectionIterator;\n\t} else {\n\t\t// either Map or Set are available, but Symbol is not\n\t\t// - es6-shim on an ES5 browser\n\t\t// - Safari 6.2 (maybe 6.1?)\n\t\t// - FF v[13, 36)\n\t\t// - IE 11\n\t\t// - Edge 11\n\t\t// - Safari v[6, 9)\n\n\t\tvar isMap = __webpack_require__(/*! is-map */ \"./node_modules/is-map/index.js\");\n\t\tvar isSet = __webpack_require__(/*! is-set */ \"./node_modules/is-set/index.js\");\n\n\t\t// Firefox >= 27, IE 11, Safari 6.2 - 9, Edge 11, es6-shim in older envs, all have forEach\n\t\tvar $mapForEach = callBound('Map.prototype.forEach', true);\n\t\tvar $setForEach = callBound('Set.prototype.forEach', true);\n\t\tif (typeof process === 'undefined' || !process.versions || !process.versions.node) { // \"if is not node\"\n\n\t\t\t// Firefox 17 - 26 has `.iterator()`, whose iterator `.next()` either\n\t\t\t// returns a value, or throws a StopIteration object. These browsers\n\t\t\t// do not have any other mechanism for iteration.\n\t\t\tvar $mapIterator = callBound('Map.prototype.iterator', true);\n\t\t\tvar $setIterator = callBound('Set.prototype.iterator', true);\n\t\t\tvar getStopIterationIterator = function (iterator) {\n\t\t\t\tvar done = false;\n\t\t\t\treturn {\n\t\t\t\t\tnext: function next() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdone: done,\n\t\t\t\t\t\t\t\tvalue: done ? undefined : iterator.next()\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tdone = true;\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdone: true,\n\t\t\t\t\t\t\t\tvalue: undefined\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t}\n\t\t// Firefox 27-35, and some older es6-shim versions, use a string \"@@iterator\" property\n\t\t// this returns a proper iterator object, so we should use it instead of forEach.\n\t\t// newer es6-shim versions use a string \"_es6-shim iterator_\" property.\n\t\tvar $mapAtAtIterator = callBound('Map.prototype.@@iterator', true) || callBound('Map.prototype._es6-shim iterator_', true);\n\t\tvar $setAtAtIterator = callBound('Set.prototype.@@iterator', true) || callBound('Set.prototype._es6-shim iterator_', true);\n\n\t\tvar getCollectionIterator = function getCollectionIterator(iterable) {\n\t\t\tif (isMap(iterable)) {\n\t\t\t\tif ($mapIterator) {\n\t\t\t\t\treturn getStopIterationIterator($mapIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($mapAtAtIterator) {\n\t\t\t\t\treturn $mapAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($mapForEach) {\n\t\t\t\t\tvar entries = [];\n\t\t\t\t\t$mapForEach(iterable, function (v, k) {\n\t\t\t\t\t\t$arrayPush(entries, [k, v]);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(entries);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isSet(iterable)) {\n\t\t\t\tif ($setIterator) {\n\t\t\t\t\treturn getStopIterationIterator($setIterator(iterable));\n\t\t\t\t}\n\t\t\t\tif ($setAtAtIterator) {\n\t\t\t\t\treturn $setAtAtIterator(iterable);\n\t\t\t\t}\n\t\t\t\tif ($setForEach) {\n\t\t\t\t\tvar values = [];\n\t\t\t\t\t$setForEach(iterable, function (v) {\n\t\t\t\t\t\t$arrayPush(values, v);\n\t\t\t\t\t});\n\t\t\t\t\treturn getArrayIterator(values);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tmodule.exports = function getIterator(iterable) {\n\t\t\treturn getCollectionIterator(iterable) || getNonCollectionIterator(iterable);\n\t\t};\n\t}\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))\n\n//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/index.js?");

	/***/ }),

	/***/ "./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js":
	/*!*******************************************************************************!*\
	  !*** ./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js ***!
	  \*******************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js?");

	/***/ }),

	/***/ "./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js":
	/*!***********************************************************************************!*\
	  !*** ./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js ***!
	  \***********************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js?");

	/***/ }),

	/***/ "./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js":
	/*!************************************************************************************!*\
	  !*** ./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js ***!
	  \************************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/es-get-iterator/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar callBind = __webpack_require__(/*! ./callBind */ \"./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBind.js\");\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/es-abstract/helpers/callBound.js?");

	/***/ }),

	/***/ "./node_modules/es-get-iterator/node_modules/isarray/index.js":
	/*!********************************************************************!*\
	  !*** ./node_modules/es-get-iterator/node_modules/isarray/index.js ***!
	  \********************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/es-get-iterator/node_modules/isarray/index.js?");

	/***/ }),

	/***/ "./node_modules/eventemitter3/index.js":
	/*!*********************************************!*\
	  !*** ./node_modules/eventemitter3/index.js ***!
	  \*********************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n//# sourceURL=webpack://Quill/./node_modules/eventemitter3/index.js?");

	/***/ }),

	/***/ "./node_modules/extend/index.js":
	/*!**************************************!*\
	  !*** ./node_modules/extend/index.js ***!
	  \**************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/extend/index.js?");

	/***/ }),

	/***/ "./node_modules/fast-diff/diff.js":
	/*!****************************************!*\
	  !*** ./node_modules/fast-diff/diff.js ***!
	  \****************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int|Object} [cursor_pos] Edit position in text1 or object with more info\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos, _fix_unicode) {\n  // Check for equality\n  if (text1 === text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  if (cursor_pos != null) {\n    var editdiff = find_cursor_edit_diff(text1, text2, cursor_pos);\n    if (editdiff) {\n      return editdiff;\n    }\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs, _fix_unicode);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i !== -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [\n      [DIFF_INSERT, longtext.substring(0, i)],\n      [DIFF_EQUAL, shorttext],\n      [DIFF_INSERT, longtext.substring(i + shorttext.length)]\n    ];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length === 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 !== 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 === -d || (k1 !== d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (\n        x1 < text1_length && y1 < text2_length &&\n        text1.charAt(x1) === text2.charAt(y1)\n      ) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] !== -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 === -d || (k2 !== d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (\n        x2 < text1_length && y2 < text2_length &&\n        text1.charAt(text1_length - x2 - 1) === text2.charAt(text2_length - y2 - 1)\n      ) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] !== -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) !== text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(pointerstart, pointermid) ==\n      text2.substring(pointerstart, pointermid)\n    ) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_start(text1.charCodeAt(pointermid - 1))) {\n    pointermid--;\n  }\n\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.slice(-1) !== text2.slice(-1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (\n      text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n      text2.substring(text2.length - pointermid, text2.length - pointerend)\n    ) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  if (is_surrogate_pair_end(text1.charCodeAt(text1.length - pointermid))) {\n    pointermid--;\n  }\n\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) !== -1) {\n      var prefixLength = diff_commonPrefix(\n        longtext.substring(i), shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(\n        longtext.substring(0, i), shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(\n          j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [\n        best_longtext_a, best_longtext_b,\n        best_shorttext_a, best_shorttext_b, best_common\n      ];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n * @param {boolean} fix_unicode Whether to normalize to a unicode-correct diff\n */\nfunction diff_cleanupMerge(diffs, fix_unicode) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n      diffs.splice(pointer, 1);\n      continue;\n    }\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        var previous_equality = pointer - count_insert - count_delete - 1;\n        if (fix_unicode) {\n          // prevent splitting of unicode surrogate pairs.  when fix_unicode is true,\n          // we assume that the old and new text in the diff are complete and correct\n          // unicode-encoded JS strings, but the tuple boundaries may fall between\n          // surrogate pairs.  we fix this by shaving off stray surrogates from the end\n          // of the previous equality and the beginning of this equality.  this may create\n          // empty equalities or a common prefix or suffix.  for example, if AB and AC are\n          // emojis, `[[0, 'A'], [-1, 'BA'], [0, 'C']]` would turn into deleting 'ABAC' and\n          // inserting 'AC', and then the common suffix 'AC' will be eliminated.  in this\n          // particular case, both equalities go away, we absorb any previous inequalities,\n          // and we keep scanning for the next equality before rewriting the tuples.\n          if (previous_equality >= 0 && ends_with_pair_start(diffs[previous_equality][1])) {\n            var stray = diffs[previous_equality][1].slice(-1);\n            diffs[previous_equality][1] = diffs[previous_equality][1].slice(0, -1);\n            text_delete = stray + text_delete;\n            text_insert = stray + text_insert;\n            if (!diffs[previous_equality][1]) {\n              // emptied out previous equality, so delete it and include previous delete/insert\n              diffs.splice(previous_equality, 1);\n              pointer--;\n              var k = previous_equality - 1;\n              if (diffs[k] && diffs[k][0] === DIFF_INSERT) {\n                count_insert++;\n                text_insert = diffs[k][1] + text_insert;\n                k--;\n              }\n              if (diffs[k] && diffs[k][0] === DIFF_DELETE) {\n                count_delete++;\n                text_delete = diffs[k][1] + text_delete;\n                k--;\n              }\n              previous_equality = k;\n            }\n          }\n          if (starts_with_pair_end(diffs[pointer][1])) {\n            var stray = diffs[pointer][1].charAt(0);\n            diffs[pointer][1] = diffs[pointer][1].slice(1);\n            text_delete += stray;\n            text_insert += stray;\n          }\n        }\n        if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\n          // for empty equality not at end, wait for next equality\n          diffs.splice(pointer, 1);\n          break;\n        }\n        if (text_delete.length > 0 || text_insert.length > 0) {\n          // note that diff_commonPrefix and diff_commonSuffix are unicode-aware\n          if (text_delete.length > 0 && text_insert.length > 0) {\n            // Factor out any common prefixes.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if (previous_equality >= 0) {\n                diffs[previous_equality][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixes.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] =\n                text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          var n = count_insert + count_delete;\n          if (text_delete.length === 0 && text_insert.length === 0) {\n            diffs.splice(pointer - n, n);\n            pointer = pointer - n;\n          } else if (text_delete.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_INSERT, text_insert]);\n            pointer = pointer - n + 1;\n          } else if (text_insert.length === 0) {\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete]);\n            pointer = pointer - n + 1;\n          } else {\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);\n            pointer = pointer - n + 2;\n          }\n        }\n        if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] === DIFF_EQUAL &&\n      diffs[pointer + 1][0] === DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n        diffs[pointer - 1][1].length) === diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n          diffs[pointer][1].substring(0, diffs[pointer][1].length -\n            diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n        diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n          diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n          diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs, fix_unicode);\n  }\n};\n\nfunction is_surrogate_pair_start(charCode) {\n  return charCode >= 0xD800 && charCode <= 0xDBFF;\n}\n\nfunction is_surrogate_pair_end(charCode) {\n  return charCode >= 0xDC00 && charCode <= 0xDFFF;\n}\n\nfunction starts_with_pair_end(str) {\n  return is_surrogate_pair_end(str.charCodeAt(0));\n}\n\nfunction ends_with_pair_start(str) {\n  return is_surrogate_pair_start(str.charCodeAt(str.length - 1));\n}\n\nfunction remove_empty_tuples(tuples) {\n  var ret = [];\n  for (var i = 0; i < tuples.length; i++) {\n    if (tuples[i][1].length > 0) {\n      ret.push(tuples[i]);\n    }\n  }\n  return ret;\n}\n\nfunction make_edit_splice(before, oldMiddle, newMiddle, after) {\n  if (ends_with_pair_start(before) || starts_with_pair_end(after)) {\n    return null;\n  }\n  return remove_empty_tuples([\n    [DIFF_EQUAL, before],\n    [DIFF_DELETE, oldMiddle],\n    [DIFF_INSERT, newMiddle],\n    [DIFF_EQUAL, after]\n  ]);\n}\n\nfunction find_cursor_edit_diff(oldText, newText, cursor_pos) {\n  // note: this runs after equality check has ruled out exact equality\n  var oldRange = typeof cursor_pos === 'number' ?\n    { index: cursor_pos, length: 0 } : cursor_pos.oldRange;\n  var newRange = typeof cursor_pos === 'number' ?\n    null : cursor_pos.newRange;\n  // take into account the old and new selection to generate the best diff\n  // possible for a text edit.  for example, a text change from \"xxx\" to \"xx\"\n  // could be a delete or forwards-delete of any one of the x's, or the\n  // result of selecting two of the x's and typing \"x\".\n  var oldLength = oldText.length;\n  var newLength = newText.length;\n  if (oldRange.length === 0 && (newRange === null || newRange.length === 0)) {\n    // see if we have an insert or delete before or after cursor\n    var oldCursor = oldRange.index;\n    var oldBefore = oldText.slice(0, oldCursor);\n    var oldAfter = oldText.slice(oldCursor);\n    var maybeNewCursor = newRange ? newRange.index : null;\n    editBefore: {\n      // is this an insert or delete right before oldCursor?\n      var newCursor = oldCursor + newLength - oldLength;\n      if (maybeNewCursor !== null && maybeNewCursor !== newCursor) {\n        break editBefore;\n      }\n      if (newCursor < 0 || newCursor > newLength) {\n        break editBefore;\n      }\n      var newBefore = newText.slice(0, newCursor);\n      var newAfter = newText.slice(newCursor);\n      if (newAfter !== oldAfter) {\n        break editBefore;\n      }\n      var prefixLength = Math.min(oldCursor, newCursor);\n      var oldPrefix = oldBefore.slice(0, prefixLength);\n      var newPrefix = newBefore.slice(0, prefixLength);\n      if (oldPrefix !== newPrefix) {\n        break editBefore;\n      }\n      var oldMiddle = oldBefore.slice(prefixLength);\n      var newMiddle = newBefore.slice(prefixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldAfter);\n    }\n    editAfter: {\n      // is this an insert or delete right after oldCursor?\n      if (maybeNewCursor !== null && maybeNewCursor !== oldCursor) {\n        break editAfter;\n      }\n      var cursor = oldCursor;\n      var newBefore = newText.slice(0, cursor);\n      var newAfter = newText.slice(cursor);\n      if (newBefore !== oldBefore) {\n        break editAfter;\n      }\n      var suffixLength = Math.min(oldLength - cursor, newLength - cursor);\n      var oldSuffix = oldAfter.slice(oldAfter.length - suffixLength);\n      var newSuffix = newAfter.slice(newAfter.length - suffixLength);\n      if (oldSuffix !== newSuffix) {\n        break editAfter;\n      }\n      var oldMiddle = oldAfter.slice(0, oldAfter.length - suffixLength);\n      var newMiddle = newAfter.slice(0, newAfter.length - suffixLength);\n      return make_edit_splice(oldBefore, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n  if (oldRange.length > 0 && newRange && newRange.length === 0) {\n    replaceRange: {\n      // see if diff could be a splice of the old selection range\n      var oldPrefix = oldText.slice(0, oldRange.index);\n      var oldSuffix = oldText.slice(oldRange.index + oldRange.length);\n      var prefixLength = oldPrefix.length;\n      var suffixLength = oldSuffix.length;\n      if (newLength < prefixLength + suffixLength) {\n        break replaceRange;\n      }\n      var newPrefix = newText.slice(0, prefixLength);\n      var newSuffix = newText.slice(newLength - suffixLength);\n      if (oldPrefix !== newPrefix || oldSuffix !== newSuffix) {\n        break replaceRange;\n      }\n      var oldMiddle = oldText.slice(prefixLength, oldLength - suffixLength);\n      var newMiddle = newText.slice(prefixLength, newLength - suffixLength);\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldSuffix);\n    }\n  }\n\n  return null;\n}\n\nfunction diff(text1, text2, cursor_pos) {\n  // only pass fix_unicode=true at the top level, not when diff_main is\n  // recursively invoked\n  return diff_main(text1, text2, cursor_pos, true);\n}\n\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n\n//# sourceURL=webpack://Quill/./node_modules/fast-diff/diff.js?");

	/***/ }),

	/***/ "./node_modules/foreach/index.js":
	/*!***************************************!*\
	  !*** ./node_modules/foreach/index.js ***!
	  \***************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\n\nmodule.exports = function forEach (obj, fn, ctx) {\n    if (toString.call(fn) !== '[object Function]') {\n        throw new TypeError('iterator must be a function');\n    }\n    var l = obj.length;\n    if (l === +l) {\n        for (var i = 0; i < l; i++) {\n            fn.call(ctx, obj[i], i, obj);\n        }\n    } else {\n        for (var k in obj) {\n            if (hasOwn.call(obj, k)) {\n                fn.call(ctx, obj[k], k, obj);\n            }\n        }\n    }\n};\n\n\n\n//# sourceURL=webpack://Quill/./node_modules/foreach/index.js?");

	/***/ }),

	/***/ "./node_modules/function-bind/implementation.js":
	/*!******************************************************!*\
	  !*** ./node_modules/function-bind/implementation.js ***!
	  \******************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/function-bind/implementation.js?");

	/***/ }),

	/***/ "./node_modules/function-bind/index.js":
	/*!*********************************************!*\
	  !*** ./node_modules/function-bind/index.js ***!
	  \*********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar implementation = __webpack_require__(/*! ./implementation */ \"./node_modules/function-bind/implementation.js\");\n\nmodule.exports = Function.prototype.bind || implementation;\n\n\n//# sourceURL=webpack://Quill/./node_modules/function-bind/index.js?");

	/***/ }),

	/***/ "./node_modules/has-symbols/index.js":
	/*!*******************************************!*\
	  !*** ./node_modules/has-symbols/index.js ***!
	  \*******************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar origSymbol = global.Symbol;\nvar hasSymbolSham = __webpack_require__(/*! ./shams */ \"./node_modules/has-symbols/shams.js\");\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://Quill/./node_modules/has-symbols/index.js?");

	/***/ }),

	/***/ "./node_modules/has-symbols/shams.js":
	/*!*******************************************!*\
	  !*** ./node_modules/has-symbols/shams.js ***!
	  \*******************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/has-symbols/shams.js?");

	/***/ }),

	/***/ "./node_modules/has/src/index.js":
	/*!***************************************!*\
	  !*** ./node_modules/has/src/index.js ***!
	  \***************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n\n\n//# sourceURL=webpack://Quill/./node_modules/has/src/index.js?");

	/***/ }),

	/***/ "./node_modules/is-arguments/index.js":
	/*!********************************************!*\
	  !*** ./node_modules/is-arguments/index.js ***!
	  \********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\nvar toStr = Object.prototype.toString;\n\nvar isStandardArguments = function isArguments(value) {\n\tif (hasToStringTag && value && typeof value === 'object' && Symbol.toStringTag in value) {\n\t\treturn false;\n\t}\n\treturn toStr.call(value) === '[object Arguments]';\n};\n\nvar isLegacyArguments = function isArguments(value) {\n\tif (isStandardArguments(value)) {\n\t\treturn true;\n\t}\n\treturn value !== null &&\n\t\ttypeof value === 'object' &&\n\t\ttypeof value.length === 'number' &&\n\t\tvalue.length >= 0 &&\n\t\ttoStr.call(value) !== '[object Array]' &&\n\t\ttoStr.call(value.callee) === '[object Function]';\n};\n\nvar supportsStandardArguments = (function () {\n\treturn isStandardArguments(arguments);\n}());\n\nisStandardArguments.isLegacyArguments = isLegacyArguments; // for tests\n\nmodule.exports = supportsStandardArguments ? isStandardArguments : isLegacyArguments;\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-arguments/index.js?");

	/***/ }),

	/***/ "./node_modules/is-bigint/index.js":
	/*!*****************************************!*\
	  !*** ./node_modules/is-bigint/index.js ***!
	  \*****************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nif (typeof BigInt === 'function') {\n\tvar bigIntValueOf = BigInt.prototype.valueOf;\n\tvar tryBigInt = function tryBigIntObject(value) {\n\t\ttry {\n\t\t\tbigIntValueOf.call(value);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t}\n\t\treturn false;\n\t};\n\n\tmodule.exports = function isBigInt(value) {\n\t\tif (\n\t\t\tvalue === null\n\t\t\t|| typeof value === 'undefined'\n\t\t\t|| typeof value === 'boolean'\n\t\t\t|| typeof value === 'string'\n\t\t\t|| typeof value === 'number'\n\t\t\t|| typeof value === 'symbol'\n\t\t\t|| typeof value === 'function'\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t\tif (typeof value === 'bigint') { // eslint-disable-line valid-typeof\n\t\t\treturn true;\n\t\t}\n\n\t\treturn tryBigInt(value);\n\t};\n} else {\n\tmodule.exports = function isBigInt(value) {\n\t\treturn  false && false;\n\t};\n}\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-bigint/index.js?");

	/***/ }),

	/***/ "./node_modules/is-boolean-object/index.js":
	/*!*************************************************!*\
	  !*** ./node_modules/is-boolean-object/index.js ***!
	  \*************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar boolToStr = Boolean.prototype.toString;\n\nvar tryBooleanObject = function booleanBrandCheck(value) {\n\ttry {\n\t\tboolToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar boolClass = '[object Boolean]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isBoolean(value) {\n\tif (typeof value === 'boolean') {\n\t\treturn true;\n\t}\n\tif (value === null || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag && Symbol.toStringTag in value ? tryBooleanObject(value) : toStr.call(value) === boolClass;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-boolean-object/index.js?");

	/***/ }),

	/***/ "./node_modules/is-date-object/index.js":
	/*!**********************************************!*\
	  !*** ./node_modules/is-date-object/index.js ***!
	  \**********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar getDay = Date.prototype.getDay;\nvar tryDateObject = function tryDateObject(value) {\n\ttry {\n\t\tgetDay.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar toStr = Object.prototype.toString;\nvar dateClass = '[object Date]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isDateObject(value) {\n\tif (typeof value !== 'object' || value === null) { return false; }\n\treturn hasToStringTag ? tryDateObject(value) : toStr.call(value) === dateClass;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-date-object/index.js?");

	/***/ }),

	/***/ "./node_modules/is-map/index.js":
	/*!**************************************!*\
	  !*** ./node_modules/is-map/index.js ***!
	  \**************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Map) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$mapHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isMap(x) {\n\t\t// `Map` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $Map; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-map/index.js?");

	/***/ }),

	/***/ "./node_modules/is-number-object/index.js":
	/*!************************************************!*\
	  !*** ./node_modules/is-number-object/index.js ***!
	  \************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar numToStr = Number.prototype.toString;\nvar tryNumberObject = function tryNumberObject(value) {\n\ttry {\n\t\tnumToStr.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar numClass = '[object Number]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isNumberObject(value) {\n\tif (typeof value === 'number') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryNumberObject(value) : toStr.call(value) === numClass;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-number-object/index.js?");

	/***/ }),

	/***/ "./node_modules/is-regex/index.js":
	/*!****************************************!*\
	  !*** ./node_modules/is-regex/index.js ***!
	  \****************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar has = __webpack_require__(/*! has */ \"./node_modules/has/src/index.js\");\nvar regexExec = RegExp.prototype.exec;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar tryRegexExecCall = function tryRegexExec(value) {\n\ttry {\n\t\tvar lastIndex = value.lastIndex;\n\t\tvalue.lastIndex = 0;\n\n\t\tregexExec.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\tvalue.lastIndex = lastIndex;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar regexClass = '[object RegExp]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isRegex(value) {\n\tif (!value || typeof value !== 'object') {\n\t\treturn false;\n\t}\n\tif (!hasToStringTag) {\n\t\treturn toStr.call(value) === regexClass;\n\t}\n\n\tvar descriptor = gOPD(value, 'lastIndex');\n\tvar hasLastIndexDataProperty = descriptor && has(descriptor, 'value');\n\tif (!hasLastIndexDataProperty) {\n\t\treturn false;\n\t}\n\n\treturn tryRegexExecCall(value);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-regex/index.js?");

	/***/ }),

	/***/ "./node_modules/is-set/index.js":
	/*!**************************************!*\
	  !*** ./node_modules/is-set/index.js ***!
	  \**************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar $Map = typeof Map === 'function' && Map.prototype ? Map : null;\nvar $Set = typeof Set === 'function' && Set.prototype ? Set : null;\n\nvar exported;\n\nif (!$Set) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $Map ? Map.prototype.has : null;\nvar $setHas = $Set ? Set.prototype.has : null;\nif (!exported && !$setHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isSet(x) {\n\t\t// `Set` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isSet(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$setHas.call(x);\n\t\tif ($mapHas) {\n\t\t\ttry {\n\t\t\t\t$mapHas.call(x);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $Set; // core-js workaround, pre-v2.5.0\n\t} catch (e) {}\n\treturn false;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-set/index.js?");

	/***/ }),

	/***/ "./node_modules/is-string/index.js":
	/*!*****************************************!*\
	  !*** ./node_modules/is-string/index.js ***!
	  \*****************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar strValue = String.prototype.valueOf;\nvar tryStringObject = function tryStringObject(value) {\n\ttry {\n\t\tstrValue.call(value);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\nvar toStr = Object.prototype.toString;\nvar strClass = '[object String]';\nvar hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\nmodule.exports = function isString(value) {\n\tif (typeof value === 'string') {\n\t\treturn true;\n\t}\n\tif (typeof value !== 'object') {\n\t\treturn false;\n\t}\n\treturn hasToStringTag ? tryStringObject(value) : toStr.call(value) === strClass;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-string/index.js?");

	/***/ }),

	/***/ "./node_modules/is-typed-array/index.js":
	/*!**********************************************!*\
	  !*** ./node_modules/is-typed-array/index.js ***!
	  \**********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar forEach = __webpack_require__(/*! foreach */ \"./node_modules/foreach/index.js\");\nvar availableTypedArrays = __webpack_require__(/*! available-typed-arrays */ \"./node_modules/available-typed-arrays/index.js\");\nvar callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ \"./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js\");\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $indexOf = callBound('Array.prototype.indexOf', true) || function indexOf(array, value) {\n\tfor (var i = 0; i < array.length; i += 1) {\n\t\tif (array[i] === value) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = __webpack_require__(/*! es-abstract/helpers/getOwnPropertyDescriptor */ \"./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js\");\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tvar arr = new global[typedArray]();\n\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t}\n\t\tvar proto = getPrototypeOf(arr);\n\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\tif (!descriptor) {\n\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t}\n\t\ttoStrTags[typedArray] = descriptor.get;\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar anyTrue = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!anyTrue) {\n\t\t\ttry {\n\t\t\t\tanyTrue = getter.call(value) === typedArray;\n\t\t\t} catch (e) { /**/ }\n\t\t}\n\t});\n\treturn anyTrue;\n};\n\nmodule.exports = function isTypedArray(value) {\n\tif (!value || typeof value !== 'object') { return false; }\n\tif (!hasToStringTag) {\n\t\tvar tag = $slice($toString(value), 8, -1);\n\t\treturn $indexOf(typedArrays, tag) > -1;\n\t}\n\tif (!gOPD) { return false; }\n\treturn tryTypedArrays(value);\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://Quill/./node_modules/is-typed-array/index.js?");

	/***/ }),

	/***/ "./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js":
	/*!******************************************************************************!*\
	  !*** ./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js ***!
	  \******************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js?");

	/***/ }),

	/***/ "./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js":
	/*!**********************************************************************************!*\
	  !*** ./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js ***!
	  \**********************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js?");

	/***/ }),

	/***/ "./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js":
	/*!***********************************************************************************!*\
	  !*** ./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js ***!
	  \***********************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar callBind = __webpack_require__(/*! ./callBind */ \"./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBind.js\");\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/callBound.js?");

	/***/ }),

	/***/ "./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js":
	/*!**************************************************************************************************!*\
	  !*** ./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js ***!
	  \**************************************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/is-typed-array/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%');\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js?");

	/***/ }),

	/***/ "./node_modules/is-weakmap/index.js":
	/*!******************************************!*\
	  !*** ./node_modules/is-weakmap/index.js ***!
	  \******************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;\nvar $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;\n\nvar exported;\n\nif (!$WeakMap) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $WeakMap ? $WeakMap.prototype.has : null;\nvar $setHas = $WeakSet ? $WeakSet.prototype.has : null;\nif (!exported && !$mapHas) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakMap(x) {\n\t\t// `WeakMap` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isWeakMap(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$mapHas.call(x, $mapHas);\n\t\tif ($setHas) {\n\t\t\ttry {\n\t\t\t\t$setHas.call(x, $setHas);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $WeakMap; // core-js workaround, pre-v3\n\t} catch (e) {}\n\treturn false;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-weakmap/index.js?");

	/***/ }),

	/***/ "./node_modules/is-weakset/index.js":
	/*!******************************************!*\
	  !*** ./node_modules/is-weakset/index.js ***!
	  \******************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar $WeakMap = typeof WeakMap === 'function' && WeakMap.prototype ? WeakMap : null;\nvar $WeakSet = typeof WeakSet === 'function' && WeakSet.prototype ? WeakSet : null;\n\nvar exported;\n\nif (!$WeakMap) {\n\t// eslint-disable-next-line no-unused-vars\n\texported = function isWeakSet(x) {\n\t\t// `WeakSet` is not present in this environment.\n\t\treturn false;\n\t};\n}\n\nvar $mapHas = $WeakMap ? $WeakMap.prototype.has : null;\nvar $setHas = $WeakSet ? $WeakSet.prototype.has : null;\nif (!exported && !$setHas) {\n\t// eslint-disable-next-line no-unused-vars\n\tmodule.exports = function isWeakSet(x) {\n\t\t// `WeakSet` does not have a `has` method\n\t\treturn false;\n\t};\n}\n\nmodule.exports = exported || function isWeakSet(x) {\n\tif (!x || typeof x !== 'object') {\n\t\treturn false;\n\t}\n\ttry {\n\t\t$setHas.call(x, $setHas);\n\t\tif ($mapHas) {\n\t\t\ttry {\n\t\t\t\t$mapHas.call(x, $mapHas);\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn x instanceof $WeakSet; // core-js workaround, pre-v3\n\t} catch (e) {}\n\treturn false;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/is-weakset/index.js?");

	/***/ }),

	/***/ "./node_modules/object-inspect/index.js":
	/*!**********************************************!*\
	  !*** ./node_modules/object-inspect/index.js ***!
	  \**********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {

	eval("var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar match = String.prototype.match;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\n\nvar inspectCustom = __webpack_require__(/*! ./util.inspect */ 1).custom;\nvar inspectSymbol = inspectCustom && isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        return String(obj);\n    }\n    if (typeof obj === 'bigint') { // eslint-disable-line valid-typeof\n        return String(obj) + 'n';\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return '[Object]';\n    }\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from) {\n        if (from) {\n            seen = seen.slice();\n            seen.push(from);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function') {\n        var name = nameOf(obj);\n        return '[Function' + (name ? ': ' + name : '') + ']';\n    }\n    if (isSymbol(obj)) {\n        var symString = Symbol.prototype.toString.call(obj);\n        return typeof obj === 'object' ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + String(obj.nodeName).toLowerCase();\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + String(obj.nodeName).toLowerCase() + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        return '[ ' + arrObjKeys(obj, inspect).join(', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + parts.join(', ') + ' }';\n    }\n    if (typeof obj === 'object') {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function') {\n            return obj[inspectSymbol]();\n        } else if (typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var xs = arrObjKeys(obj, inspect);\n        if (xs.length === 0) { return '{}'; }\n        return '{ ' + xs.join(', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return String(s).replace(/\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]'; }\nfunction isDate(obj) { return toStr(obj) === '[object Date]'; }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]'; }\nfunction isError(obj) { return toStr(obj) === '[object Error]'; }\nfunction isSymbol(obj) { return toStr(obj) === '[object Symbol]'; }\nfunction isString(obj) { return toStr(obj) === '[object String]'; }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]'; }\nfunction isBigInt(obj) { return toStr(obj) === '[object BigInt]'; }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]'; }\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = match.call(f, /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    // eslint-disable-next-line no-control-regex\n    var s = str.replace(/(['\\\\])/g, '\\\\$1').replace(/[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b', 9: 't', 10: 'n', 12: 'f', 13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + n.toString(16);\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries) {\n    return type + ' (' + size + ') {' + entries.join(', ') + '}';\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if ((/[^\\w$]/).test(key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    return xs;\n}\n\n\n//# sourceURL=webpack://Quill/./node_modules/object-inspect/index.js?");

	/***/ }),

	/***/ "./node_modules/object-is/index.js":
	/*!*****************************************!*\
	  !*** ./node_modules/object-is/index.js ***!
	  \*****************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n// http://www.ecma-international.org/ecma-262/6.0/#sec-object.is\n\nvar numberIsNaN = function (value) {\n\treturn value !== value;\n};\n\nmodule.exports = function is(a, b) {\n\tif (a === 0 && b === 0) {\n\t\treturn 1 / a === 1 / b;\n\t}\n\tif (a === b) {\n\t\treturn true;\n\t}\n\tif (numberIsNaN(a) && numberIsNaN(b)) {\n\t\treturn true;\n\t}\n\treturn false;\n};\n\n\n\n//# sourceURL=webpack://Quill/./node_modules/object-is/index.js?");

	/***/ }),

	/***/ "./node_modules/object-keys/index.js":
	/*!*******************************************!*\
	  !*** ./node_modules/object-keys/index.js ***!
	  \*******************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n// modified from https://github.com/es-shims/es5-shim\nvar has = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar slice = Array.prototype.slice;\nvar isArgs = __webpack_require__(/*! ./isArguments */ \"./node_modules/object-keys/isArguments.js\");\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\nvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\nvar dontEnums = [\n\t'toString',\n\t'toLocaleString',\n\t'valueOf',\n\t'hasOwnProperty',\n\t'isPrototypeOf',\n\t'propertyIsEnumerable',\n\t'constructor'\n];\nvar equalsConstructorPrototype = function (o) {\n\tvar ctor = o.constructor;\n\treturn ctor && ctor.prototype === o;\n};\nvar excludedKeys = {\n\t$applicationCache: true,\n\t$console: true,\n\t$external: true,\n\t$frame: true,\n\t$frameElement: true,\n\t$frames: true,\n\t$innerHeight: true,\n\t$innerWidth: true,\n\t$outerHeight: true,\n\t$outerWidth: true,\n\t$pageXOffset: true,\n\t$pageYOffset: true,\n\t$parent: true,\n\t$scrollLeft: true,\n\t$scrollTop: true,\n\t$scrollX: true,\n\t$scrollY: true,\n\t$self: true,\n\t$webkitIndexedDB: true,\n\t$webkitStorageInfo: true,\n\t$window: true\n};\nvar hasAutomationEqualityBug = (function () {\n\t/* global window */\n\tif (typeof window === 'undefined') { return false; }\n\tfor (var k in window) {\n\t\ttry {\n\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}());\nvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t/* global window */\n\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\treturn equalsConstructorPrototype(o);\n\t}\n\ttry {\n\t\treturn equalsConstructorPrototype(o);\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n\nvar keysShim = function keys(object) {\n\tvar isObject = object !== null && typeof object === 'object';\n\tvar isFunction = toStr.call(object) === '[object Function]';\n\tvar isArguments = isArgs(object);\n\tvar isString = isObject && toStr.call(object) === '[object String]';\n\tvar theKeys = [];\n\n\tif (!isObject && !isFunction && !isArguments) {\n\t\tthrow new TypeError('Object.keys called on a non-object');\n\t}\n\n\tvar skipProto = hasProtoEnumBug && isFunction;\n\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\ttheKeys.push(String(i));\n\t\t}\n\t}\n\n\tif (isArguments && object.length > 0) {\n\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\ttheKeys.push(String(j));\n\t\t}\n\t} else {\n\t\tfor (var name in object) {\n\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\ttheKeys.push(String(name));\n\t\t\t}\n\t\t}\n\t}\n\n\tif (hasDontEnumBug) {\n\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t}\n\t\t}\n\t}\n\treturn theKeys;\n};\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\treturn (Object.keys(arguments) || '').length === 2;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tvar originalKeys = Object.keys;\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t} else {\n\t\t\t\t\treturn originalKeys(object);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n\n\n//# sourceURL=webpack://Quill/./node_modules/object-keys/index.js?");

	/***/ }),

	/***/ "./node_modules/object-keys/isArguments.js":
	/*!*************************************************!*\
	  !*** ./node_modules/object-keys/isArguments.js ***!
	  \*************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/object-keys/isArguments.js?");

	/***/ }),

	/***/ "./node_modules/object.assign/implementation.js":
	/*!******************************************************!*\
	  !*** ./node_modules/object.assign/implementation.js ***!
	  \******************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n// modified from https://github.com/es-shims/es6-shim\nvar keys = __webpack_require__(/*! object-keys */ \"./node_modules/object-keys/index.js\");\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\nvar canBeObject = function (obj) {\n\treturn typeof obj !== 'undefined' && obj !== null;\n};\nvar hasSymbols = __webpack_require__(/*! has-symbols/shams */ \"./node_modules/has-symbols/shams.js\")();\nvar toObject = Object;\nvar push = bind.call(Function.call, Array.prototype.push);\nvar propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);\nvar originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;\n\nmodule.exports = function assign(target, source1) {\n\tif (!canBeObject(target)) { throw new TypeError('target must be an object'); }\n\tvar objTarget = toObject(target);\n\tvar s, source, i, props, syms, value, key;\n\tfor (s = 1; s < arguments.length; ++s) {\n\t\tsource = toObject(arguments[s]);\n\t\tprops = keys(source);\n\t\tvar getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);\n\t\tif (getSymbols) {\n\t\t\tsyms = getSymbols(source);\n\t\t\tfor (i = 0; i < syms.length; ++i) {\n\t\t\t\tkey = syms[i];\n\t\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\t\tpush(props, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (i = 0; i < props.length; ++i) {\n\t\t\tkey = props[i];\n\t\t\tvalue = source[key];\n\t\t\tif (propIsEnumerable(source, key)) {\n\t\t\t\tobjTarget[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn objTarget;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/object.assign/implementation.js?");

	/***/ }),

	/***/ "./node_modules/object.assign/index.js":
	/*!*********************************************!*\
	  !*** ./node_modules/object.assign/index.js ***!
	  \*********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar defineProperties = __webpack_require__(/*! define-properties */ \"./node_modules/define-properties/index.js\");\n\nvar implementation = __webpack_require__(/*! ./implementation */ \"./node_modules/object.assign/implementation.js\");\nvar getPolyfill = __webpack_require__(/*! ./polyfill */ \"./node_modules/object.assign/polyfill.js\");\nvar shim = __webpack_require__(/*! ./shim */ \"./node_modules/object.assign/shim.js\");\n\nvar polyfill = getPolyfill();\n\ndefineProperties(polyfill, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = polyfill;\n\n\n//# sourceURL=webpack://Quill/./node_modules/object.assign/index.js?");

	/***/ }),

	/***/ "./node_modules/object.assign/polyfill.js":
	/*!************************************************!*\
	  !*** ./node_modules/object.assign/polyfill.js ***!
	  \************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar implementation = __webpack_require__(/*! ./implementation */ \"./node_modules/object.assign/implementation.js\");\n\nvar lacksProperEnumerationOrder = function () {\n\tif (!Object.assign) {\n\t\treturn false;\n\t}\n\t// v8, specifically in node 4.x, has a bug with incorrect property enumeration order\n\t// note: this does not detect the bug unless there's 20 characters\n\tvar str = 'abcdefghijklmnopqrst';\n\tvar letters = str.split('');\n\tvar map = {};\n\tfor (var i = 0; i < letters.length; ++i) {\n\t\tmap[letters[i]] = letters[i];\n\t}\n\tvar obj = Object.assign({}, map);\n\tvar actual = '';\n\tfor (var k in obj) {\n\t\tactual += k;\n\t}\n\treturn str !== actual;\n};\n\nvar assignHasPendingExceptions = function () {\n\tif (!Object.assign || !Object.preventExtensions) {\n\t\treturn false;\n\t}\n\t// Firefox 37 still has \"pending exception\" logic in its Object.assign implementation,\n\t// which is 72% slower than our shim, and Firefox 40's native implementation.\n\tvar thrower = Object.preventExtensions({ 1: 2 });\n\ttry {\n\t\tObject.assign(thrower, 'xy');\n\t} catch (e) {\n\t\treturn thrower[1] === 'y';\n\t}\n\treturn false;\n};\n\nmodule.exports = function getPolyfill() {\n\tif (!Object.assign) {\n\t\treturn implementation;\n\t}\n\tif (lacksProperEnumerationOrder()) {\n\t\treturn implementation;\n\t}\n\tif (assignHasPendingExceptions()) {\n\t\treturn implementation;\n\t}\n\treturn Object.assign;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/object.assign/polyfill.js?");

	/***/ }),

	/***/ "./node_modules/object.assign/shim.js":
	/*!********************************************!*\
	  !*** ./node_modules/object.assign/shim.js ***!
	  \********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar define = __webpack_require__(/*! define-properties */ \"./node_modules/define-properties/index.js\");\nvar getPolyfill = __webpack_require__(/*! ./polyfill */ \"./node_modules/object.assign/polyfill.js\");\n\nmodule.exports = function shimAssign() {\n\tvar polyfill = getPolyfill();\n\tdefine(\n\t\tObject,\n\t\t{ assign: polyfill },\n\t\t{ assign: function () { return Object.assign !== polyfill; } }\n\t);\n\treturn polyfill;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/object.assign/shim.js?");

	/***/ }),

	/***/ "./node_modules/parchment/src/attributor/attributor.ts":
	/*!*************************************************************!*\
	  !*** ./node_modules/parchment/src/attributor/attributor.ts ***!
	  \*************************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Attributor; });\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope */ \"./node_modules/parchment/src/scope.ts\");\n\nclass Attributor {\n    constructor(attrName, keyName, options = {}) {\n        this.attrName = attrName;\n        this.keyName = keyName;\n        const attributeBit = _scope__WEBPACK_IMPORTED_MODULE_0__[\"default\"].TYPE & _scope__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ATTRIBUTE;\n        this.scope =\n            options.scope != null\n                ? // Ignore type bits, force attribute bit\n                    (options.scope & _scope__WEBPACK_IMPORTED_MODULE_0__[\"default\"].LEVEL) | attributeBit\n                : _scope__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ATTRIBUTE;\n        if (options.whitelist != null) {\n            this.whitelist = options.whitelist;\n        }\n    }\n    static keys(node) {\n        return Array.from(node.attributes).map((item) => item.name);\n    }\n    add(node, value) {\n        if (!this.canAdd(node, value)) {\n            return false;\n        }\n        node.setAttribute(this.keyName, value);\n        return true;\n    }\n    canAdd(_node, value) {\n        if (this.whitelist == null) {\n            return true;\n        }\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    }\n    remove(node) {\n        node.removeAttribute(this.keyName);\n    }\n    value(node) {\n        const value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    }\n}\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/attributor.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/attributor/class.ts":
	/*!********************************************************!*\
	  !*** ./node_modules/parchment/src/attributor/class.ts ***!
	  \********************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributor */ \"./node_modules/parchment/src/attributor/attributor.ts\");\n\nfunction match(node, prefix) {\n    const className = node.getAttribute('class') || '';\n    return className\n        .split(/\\s+/)\n        .filter((name) => name.indexOf(`${prefix}-`) === 0);\n}\nclass ClassAttributor extends _attributor__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    static keys(node) {\n        return (node.getAttribute('class') || '')\n            .split(/\\s+/)\n            .map((name) => name.split('-').slice(0, -1).join('-'));\n    }\n    add(node, value) {\n        if (!this.canAdd(node, value)) {\n            return false;\n        }\n        this.remove(node);\n        node.classList.add(`${this.keyName}-${value}`);\n        return true;\n    }\n    remove(node) {\n        const matches = match(node, this.keyName);\n        matches.forEach((name) => {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    }\n    value(node) {\n        const result = match(node, this.keyName)[0] || '';\n        const value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (ClassAttributor);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/class.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/attributor/store.ts":
	/*!********************************************************!*\
	  !*** ./node_modules/parchment/src/attributor/store.ts ***!
	  \********************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../registry */ \"./node_modules/parchment/src/registry.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./attributor */ \"./node_modules/parchment/src/attributor/attributor.ts\");\n/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./class */ \"./node_modules/parchment/src/attributor/class.ts\");\n/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./style */ \"./node_modules/parchment/src/attributor/style.ts\");\n\n\n\n\n\nclass AttributorStore {\n    constructor(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    attribute(attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    }\n    build() {\n        this.attributes = {};\n        const blot = _registry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(this.domNode);\n        if (blot == null) {\n            return;\n        }\n        const attributes = _attributor__WEBPACK_IMPORTED_MODULE_2__[\"default\"].keys(this.domNode);\n        const classes = _class__WEBPACK_IMPORTED_MODULE_3__[\"default\"].keys(this.domNode);\n        const styles = _style__WEBPACK_IMPORTED_MODULE_4__[\"default\"].keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach((name) => {\n            const attr = blot.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ATTRIBUTE);\n            if (attr instanceof _attributor__WEBPACK_IMPORTED_MODULE_2__[\"default\"]) {\n                this.attributes[attr.attrName] = attr;\n            }\n        });\n    }\n    copy(target) {\n        Object.keys(this.attributes).forEach((key) => {\n            const value = this.attributes[key].value(this.domNode);\n            target.format(key, value);\n        });\n    }\n    move(target) {\n        this.copy(target);\n        Object.keys(this.attributes).forEach((key) => {\n            this.attributes[key].remove(this.domNode);\n        });\n        this.attributes = {};\n    }\n    values() {\n        return Object.keys(this.attributes).reduce((attributes, name) => {\n            attributes[name] = this.attributes[name].value(this.domNode);\n            return attributes;\n        }, {});\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (AttributorStore);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/store.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/attributor/style.ts":
	/*!********************************************************!*\
	  !*** ./node_modules/parchment/src/attributor/style.ts ***!
	  \********************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./attributor */ \"./node_modules/parchment/src/attributor/attributor.ts\");\n\nfunction camelize(name) {\n    const parts = name.split('-');\n    const rest = parts\n        .slice(1)\n        .map((part) => part[0].toUpperCase() + part.slice(1))\n        .join('');\n    return parts[0] + rest;\n}\nclass StyleAttributor extends _attributor__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    static keys(node) {\n        return (node.getAttribute('style') || '').split(';').map((value) => {\n            const arr = value.split(':');\n            return arr[0].trim();\n        });\n    }\n    add(node, value) {\n        if (!this.canAdd(node, value)) {\n            return false;\n        }\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    }\n    remove(node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    }\n    value(node) {\n        // @ts-ignore\n        const value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (StyleAttributor);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/attributor/style.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/abstract/container.ts":
	/*!***************************************************************!*\
	  !*** ./node_modules/parchment/src/blot/abstract/container.ts ***!
	  \***************************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _parent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parent */ \"./node_modules/parchment/src/blot/abstract/parent.ts\");\n\n\nclass ContainerBlot extends _parent__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    checkMerge() {\n        return (this.next !== null && this.next.statics.blotName === this.statics.blotName);\n    }\n    deleteAt(index, length) {\n        super.deleteAt(index, length);\n        this.enforceAllowedChildren();\n    }\n    formatAt(index, length, name, value) {\n        super.formatAt(index, length, name, value);\n        this.enforceAllowedChildren();\n    }\n    insertAt(index, value, def) {\n        super.insertAt(index, value, def);\n        this.enforceAllowedChildren();\n    }\n    optimize(context) {\n        super.optimize(context);\n        if (this.children.length > 0 && this.next != null && this.checkMerge()) {\n            this.next.moveChildren(this);\n            this.next.remove();\n        }\n    }\n}\nContainerBlot.blotName = 'container';\nContainerBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_0__[\"default\"].BLOCK_BLOT;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContainerBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/container.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/abstract/leaf.ts":
	/*!**********************************************************!*\
	  !*** ./node_modules/parchment/src/blot/abstract/leaf.ts ***!
	  \**********************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _shadow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shadow */ \"./node_modules/parchment/src/blot/abstract/shadow.ts\");\n\n\nclass LeafBlot extends _shadow__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    static value(_domNode) {\n        return true;\n    }\n    index(node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) &\n                Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    }\n    position(index, _inclusive) {\n        const childNodes = Array.from(this.parent.domNode.childNodes);\n        let offset = childNodes.indexOf(this.domNode);\n        if (index > 0) {\n            offset += 1;\n        }\n        return [this.parent.domNode, offset];\n    }\n    value() {\n        return {\n            [this.statics.blotName]: this.statics.value(this.domNode) || true,\n        };\n    }\n}\nLeafBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_0__[\"default\"].INLINE_BLOT;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LeafBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/leaf.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/abstract/parent.ts":
	/*!************************************************************!*\
	  !*** ./node_modules/parchment/src/blot/abstract/parent.ts ***!
	  \************************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _collection_linked_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../collection/linked-list */ \"./node_modules/parchment/src/collection/linked-list.ts\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../error */ \"./node_modules/parchment/src/error.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _shadow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./shadow */ \"./node_modules/parchment/src/blot/abstract/shadow.ts\");\n\n\n\n\nfunction makeAttachedBlot(node, scroll) {\n    let blot = scroll.find(node);\n    if (blot == null) {\n        try {\n            blot = scroll.create(node);\n        }\n        catch (e) {\n            blot = scroll.create(_scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].INLINE);\n            Array.from(node.childNodes).forEach((child) => {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nclass ParentBlot extends _shadow__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n    constructor(scroll, domNode) {\n        super(scroll, domNode);\n        this.uiNode = null;\n        this.build();\n    }\n    appendChild(other) {\n        this.insertBefore(other);\n    }\n    attach() {\n        super.attach();\n        this.children.forEach((child) => {\n            child.attach();\n        });\n    }\n    attachUI(node) {\n        if (this.uiNode != null) {\n            this.uiNode.remove();\n        }\n        this.uiNode = node;\n        if (ParentBlot.uiClass) {\n            this.uiNode.classList.add(ParentBlot.uiClass);\n        }\n        this.uiNode.setAttribute('contenteditable', 'false');\n        this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\n    }\n    build() {\n        this.children = new _collection_linked_list__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        // Need to be reversed for if DOM nodes already in order\n        Array.from(this.domNode.childNodes)\n            .filter((node) => node !== this.uiNode)\n            .reverse()\n            .forEach((node) => {\n            try {\n                const child = makeAttachedBlot(node, this.scroll);\n                this.insertBefore(child, this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof _error__WEBPACK_IMPORTED_MODULE_1__[\"default\"]) {\n                    return;\n                }\n                else {\n                    throw err;\n                }\n            }\n        });\n    }\n    deleteAt(index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, (child, offset, childLength) => {\n            child.deleteAt(offset, childLength);\n        });\n    }\n    descendant(criteria, index = 0) {\n        const [child, offset] = this.children.find(index);\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ParentBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    }\n    descendants(criteria, index = 0, length = Number.MAX_VALUE) {\n        let descendants = [];\n        let lengthLeft = length;\n        this.children.forEachAt(index, length, (child, childIndex, childLength) => {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ParentBlot) {\n                descendants = descendants.concat(child.descendants(criteria, childIndex, lengthLeft));\n            }\n            lengthLeft -= childLength;\n        });\n        return descendants;\n    }\n    detach() {\n        this.children.forEach((child) => {\n            child.detach();\n        });\n        super.detach();\n    }\n    enforceAllowedChildren() {\n        let done = false;\n        this.children.forEach((child) => {\n            if (done) {\n                return;\n            }\n            const allowed = this.statics.allowedChildren.some((def) => child instanceof def);\n            if (allowed) {\n                return;\n            }\n            if (child.statics.scope === _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].BLOCK_BLOT) {\n                if (child.next != null) {\n                    this.splitAfter(child);\n                }\n                if (child.prev != null) {\n                    this.splitAfter(child.prev);\n                }\n                child.parent.unwrap();\n                done = true;\n            }\n            else if (child instanceof ParentBlot) {\n                child.unwrap();\n            }\n            else {\n                child.remove();\n            }\n        });\n    }\n    formatAt(index, length, name, value) {\n        this.children.forEachAt(index, length, (child, offset, childLength) => {\n            child.formatAt(offset, childLength, name, value);\n        });\n    }\n    insertAt(index, value, def) {\n        const [child, offset] = this.children.find(index);\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            const blot = def == null\n                ? this.scroll.create('text', value)\n                : this.scroll.create(value, def);\n            this.appendChild(blot);\n        }\n    }\n    insertBefore(childBlot, refBlot) {\n        if (childBlot.parent != null) {\n            childBlot.parent.children.remove(childBlot);\n        }\n        let refDomNode = null;\n        this.children.insertBefore(childBlot, refBlot || null);\n        childBlot.parent = this;\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode !== childBlot.domNode ||\n            this.domNode.nextSibling !== refDomNode) {\n            this.domNode.insertBefore(childBlot.domNode, refDomNode);\n        }\n        childBlot.attach();\n    }\n    length() {\n        return this.children.reduce((memo, child) => {\n            return memo + child.length();\n        }, 0);\n    }\n    moveChildren(targetParent, refNode) {\n        this.children.forEach((child) => {\n            targetParent.insertBefore(child, refNode);\n        });\n    }\n    optimize(context) {\n        super.optimize(context);\n        this.enforceAllowedChildren();\n        if (this.uiNode != null && this.uiNode !== this.domNode.firstChild) {\n            this.domNode.insertBefore(this.uiNode, this.domNode.firstChild);\n        }\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                const child = this.scroll.create(this.statics.defaultChild.blotName);\n                this.appendChild(child);\n                // TODO double check if necessary\n                // child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    }\n    path(index, inclusive = false) {\n        const [child, offset] = this.children.find(index, inclusive);\n        const position = [[this, index]];\n        if (child instanceof ParentBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    }\n    removeChild(child) {\n        this.children.remove(child);\n    }\n    replaceWith(name, value) {\n        const replacement = typeof name === 'string' ? this.scroll.create(name, value) : name;\n        if (replacement instanceof ParentBlot) {\n            this.moveChildren(replacement);\n        }\n        return super.replaceWith(replacement);\n    }\n    split(index, force = false) {\n        if (!force) {\n            if (index === 0) {\n                return this;\n            }\n            if (index === this.length()) {\n                return this.next;\n            }\n        }\n        const after = this.clone();\n        if (this.parent) {\n            this.parent.insertBefore(after, this.next || undefined);\n        }\n        this.children.forEachAt(index, this.length(), (child, offset, _length) => {\n            const split = child.split(offset, force);\n            if (split != null) {\n                after.appendChild(split);\n            }\n        });\n        return after;\n    }\n    splitAfter(child) {\n        const after = this.clone();\n        while (child.next != null) {\n            after.appendChild(child.next);\n        }\n        if (this.parent) {\n            this.parent.insertBefore(after, this.next || undefined);\n        }\n        return after;\n    }\n    unwrap() {\n        if (this.parent) {\n            this.moveChildren(this.parent, this.next || undefined);\n        }\n        this.remove();\n    }\n    update(mutations, _context) {\n        const addedNodes = [];\n        const removedNodes = [];\n        mutations.forEach((mutation) => {\n            if (mutation.target === this.domNode && mutation.type === 'childList') {\n                addedNodes.push(...mutation.addedNodes);\n                removedNodes.push(...mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach((node) => {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) &\n                    Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            const blot = this.scroll.find(node);\n            if (blot == null) {\n                return;\n            }\n            if (blot.domNode.parentNode == null ||\n                blot.domNode.parentNode === this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter((node) => {\n            return node.parentNode === this.domNode || node === this.uiNode;\n        })\n            .sort((a, b) => {\n            if (a === b) {\n                return 0;\n            }\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach((node) => {\n            let refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = this.scroll.find(node.nextSibling);\n            }\n            const blot = makeAttachedBlot(node, this.scroll);\n            if (blot.next !== refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(this);\n                }\n                this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n        this.enforceAllowedChildren();\n    }\n}\nParentBlot.uiClass = '';\n/* harmony default export */ __webpack_exports__[\"default\"] = (ParentBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/parent.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/abstract/shadow.ts":
	/*!************************************************************!*\
	  !*** ./node_modules/parchment/src/blot/abstract/shadow.ts ***!
	  \************************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../error */ \"./node_modules/parchment/src/error.ts\");\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../registry */ \"./node_modules/parchment/src/registry.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../scope */ \"./node_modules/parchment/src/scope.ts\");\n\n\n\nclass ShadowBlot {\n    constructor(scroll, domNode) {\n        this.scroll = scroll;\n        this.domNode = domNode;\n        _registry__WEBPACK_IMPORTED_MODULE_1__[\"default\"].blots.set(domNode, this);\n        this.prev = null;\n        this.next = null;\n    }\n    static create(value) {\n        if (this.tagName == null) {\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('Blot definition missing tagName');\n        }\n        let node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value, 10).toString() === value) {\n                    value = parseInt(value, 10);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    }\n    // Hack for accessing inherited static methods\n    get statics() {\n        return this.constructor;\n    }\n    attach() {\n        // Nothing to do\n    }\n    clone() {\n        const domNode = this.domNode.cloneNode(false);\n        return this.scroll.create(domNode);\n    }\n    detach() {\n        if (this.parent != null) {\n            this.parent.removeChild(this);\n        }\n        _registry__WEBPACK_IMPORTED_MODULE_1__[\"default\"].blots.delete(this.domNode);\n    }\n    deleteAt(index, length) {\n        const blot = this.isolate(index, length);\n        blot.remove();\n    }\n    formatAt(index, length, name, value) {\n        const blot = this.isolate(index, length);\n        if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ATTRIBUTE) != null) {\n            const parent = this.scroll.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    }\n    insertAt(index, value, def) {\n        const blot = def == null\n            ? this.scroll.create('text', value)\n            : this.scroll.create(value, def);\n        const ref = this.split(index);\n        this.parent.insertBefore(blot, ref || undefined);\n    }\n    isolate(index, length) {\n        const target = this.split(index);\n        if (target == null) {\n            throw new Error('Attempt to isolate at end');\n        }\n        target.split(length);\n        return target;\n    }\n    length() {\n        return 1;\n    }\n    offset(root = this.parent) {\n        if (this.parent == null || this === root) {\n            return 0;\n        }\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    }\n    optimize(_context) {\n        if (this.statics.requiredContainer &&\n            !(this.parent instanceof this.statics.requiredContainer)) {\n            this.wrap(this.statics.requiredContainer.blotName);\n        }\n    }\n    remove() {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    }\n    replaceWith(name, value) {\n        const replacement = typeof name === 'string' ? this.scroll.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(replacement, this.next || undefined);\n            this.remove();\n        }\n        return replacement;\n    }\n    split(index, _force) {\n        return index === 0 ? this : this.next;\n    }\n    update(_mutations, _context) {\n        // Nothing to do by default\n    }\n    wrap(name, value) {\n        const wrapper = typeof name === 'string'\n            ? this.scroll.create(name, value)\n            : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next || undefined);\n        }\n        if (typeof wrapper.appendChild !== 'function') {\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\"default\"](`Cannot wrap ${name}`);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    }\n}\nShadowBlot.blotName = 'abstract';\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShadowBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/abstract/shadow.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/block.ts":
	/*!**************************************************!*\
	  !*** ./node_modules/parchment/src/blot/block.ts ***!
	  \**************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributor/attributor */ \"./node_modules/parchment/src/attributor/attributor.ts\");\n/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributor/store */ \"./node_modules/parchment/src/attributor/store.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/leaf */ \"./node_modules/parchment/src/blot/abstract/leaf.ts\");\n/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./abstract/parent */ \"./node_modules/parchment/src/blot/abstract/parent.ts\");\n/* harmony import */ var _inline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./inline */ \"./node_modules/parchment/src/blot/inline.ts\");\n\n\n\n\n\n\nclass BlockBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n    constructor(scroll, domNode) {\n        super(scroll, domNode);\n        this.attributes = new _attributor_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.domNode);\n    }\n    static formats(domNode, scroll) {\n        const match = scroll.query(BlockBlot.blotName);\n        if (match != null &&\n            domNode.tagName === match.tagName) {\n            return undefined;\n        }\n        else if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n    }\n    format(name, value) {\n        const format = this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].BLOCK);\n        if (format == null) {\n            return;\n        }\n        else if (format instanceof _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n            this.attributes.attribute(format, value);\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else if (value &&\n            (name !== this.statics.blotName || this.formats()[name] !== value)) {\n            this.replaceWith(name, value);\n        }\n    }\n    formats() {\n        const formats = this.attributes.values();\n        const format = this.statics.formats(this.domNode, this.scroll);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    }\n    formatAt(index, length, name, value) {\n        if (this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            super.formatAt(index, length, name, value);\n        }\n    }\n    insertAt(index, value, def) {\n        if (def == null || this.scroll.query(value, _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].INLINE) != null) {\n            // Insert text or inline\n            super.insertAt(index, value, def);\n        }\n        else {\n            const after = this.split(index);\n            if (after != null) {\n                const blot = this.scroll.create(value, def);\n                after.parent.insertBefore(blot, after);\n            }\n            else {\n                throw new Error('Attempt to insertAt after block boundaries');\n            }\n        }\n    }\n    replaceWith(name, value) {\n        const replacement = super.replaceWith(name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    }\n    update(mutations, context) {\n        super.update(mutations, context);\n        const attributeChanged = mutations.some((mutation) => mutation.target === this.domNode && mutation.type === 'attributes');\n        if (attributeChanged) {\n            this.attributes.build();\n        }\n    }\n}\nBlockBlot.blotName = 'block';\nBlockBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].BLOCK_BLOT;\nBlockBlot.tagName = 'P';\nBlockBlot.allowedChildren = [\n    _inline__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    BlockBlot,\n    _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n];\n/* harmony default export */ __webpack_exports__[\"default\"] = (BlockBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/block.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/embed.ts":
	/*!**************************************************!*\
	  !*** ./node_modules/parchment/src/blot/embed.ts ***!
	  \**************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract/leaf */ \"./node_modules/parchment/src/blot/abstract/leaf.ts\");\n\nclass EmbedBlot extends _abstract_leaf__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    static formats(_domNode, _scroll) {\n        return undefined;\n    }\n    format(name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        super.formatAt(0, this.length(), name, value);\n    }\n    formatAt(index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            super.formatAt(index, length, name, value);\n        }\n    }\n    formats() {\n        return this.statics.formats(this.domNode, this.scroll);\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (EmbedBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/embed.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/inline.ts":
	/*!***************************************************!*\
	  !*** ./node_modules/parchment/src/blot/inline.ts ***!
	  \***************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../attributor/attributor */ \"./node_modules/parchment/src/attributor/attributor.ts\");\n/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../attributor/store */ \"./node_modules/parchment/src/attributor/store.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/leaf */ \"./node_modules/parchment/src/blot/abstract/leaf.ts\");\n/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./abstract/parent */ \"./node_modules/parchment/src/blot/abstract/parent.ts\");\n\n\n\n\n\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length) {\n        return false;\n    }\n    // @ts-ignore\n    for (const prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop]) {\n            return false;\n        }\n    }\n    return true;\n}\nclass InlineBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_4__[\"default\"] {\n    constructor(scroll, domNode) {\n        super(scroll, domNode);\n        this.attributes = new _attributor_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.domNode);\n    }\n    static formats(domNode, scroll) {\n        const match = scroll.query(InlineBlot.blotName);\n        if (match != null &&\n            domNode.tagName === match.tagName) {\n            return undefined;\n        }\n        else if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    }\n    format(name, value) {\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach((child) => {\n                if (!(child instanceof InlineBlot)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            const format = this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].INLINE);\n            if (format == null) {\n                return;\n            }\n            if (format instanceof _attributor_attributor__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n                this.attributes.attribute(format, value);\n            }\n            else if (value &&\n                (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    }\n    formats() {\n        const formats = this.attributes.values();\n        const format = this.statics.formats(this.domNode, this.scroll);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    }\n    formatAt(index, length, name, value) {\n        if (this.formats()[name] != null ||\n            this.scroll.query(name, _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ATTRIBUTE)) {\n            const blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            super.formatAt(index, length, name, value);\n        }\n    }\n    optimize(context) {\n        super.optimize(context);\n        const formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        const next = this.next;\n        if (next instanceof InlineBlot &&\n            next.prev === this &&\n            isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    }\n    replaceWith(name, value) {\n        const replacement = super.replaceWith(name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    }\n    update(mutations, context) {\n        super.update(mutations, context);\n        const attributeChanged = mutations.some((mutation) => mutation.target === this.domNode && mutation.type === 'attributes');\n        if (attributeChanged) {\n            this.attributes.build();\n        }\n    }\n    wrap(name, value) {\n        const wrapper = super.wrap(name, value);\n        if (wrapper instanceof InlineBlot) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    }\n}\nInlineBlot.allowedChildren = [InlineBlot, _abstract_leaf__WEBPACK_IMPORTED_MODULE_3__[\"default\"]];\nInlineBlot.blotName = 'inline';\nInlineBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_2__[\"default\"].INLINE_BLOT;\nInlineBlot.tagName = 'SPAN';\n/* harmony default export */ __webpack_exports__[\"default\"] = (InlineBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/inline.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/scroll.ts":
	/*!***************************************************!*\
	  !*** ./node_modules/parchment/src/blot/scroll.ts ***!
	  \***************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../registry */ \"./node_modules/parchment/src/registry.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _abstract_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstract/container */ \"./node_modules/parchment/src/blot/abstract/container.ts\");\n/* harmony import */ var _abstract_parent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./abstract/parent */ \"./node_modules/parchment/src/blot/abstract/parent.ts\");\n/* harmony import */ var _block__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./block */ \"./node_modules/parchment/src/blot/block.ts\");\n\n\n\n\n\nconst OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nconst MAX_OPTIMIZE_ITERATIONS = 100;\nclass ScrollBlot extends _abstract_parent__WEBPACK_IMPORTED_MODULE_3__[\"default\"] {\n    constructor(registry, node) {\n        // @ts-ignore\n        super(null, node);\n        this.registry = registry;\n        this.scroll = this;\n        this.build();\n        this.observer = new MutationObserver((mutations) => {\n            this.update(mutations);\n        });\n        this.observer.observe(this.domNode, OBSERVER_CONFIG);\n        this.attach();\n    }\n    create(input, value) {\n        return this.registry.create(this, input, value);\n    }\n    find(node, bubble = false) {\n        return this.registry.find(node, bubble);\n    }\n    query(query, scope = _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ANY) {\n        return this.registry.query(query, scope);\n    }\n    register(...definitions) {\n        return this.registry.register(...definitions);\n    }\n    build() {\n        if (this.scroll == null) {\n            return;\n        }\n        super.build();\n    }\n    detach() {\n        super.detach();\n        this.observer.disconnect();\n    }\n    deleteAt(index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach((child) => {\n                child.remove();\n            });\n        }\n        else {\n            super.deleteAt(index, length);\n        }\n    }\n    formatAt(index, length, name, value) {\n        this.update();\n        super.formatAt(index, length, name, value);\n    }\n    insertAt(index, value, def) {\n        this.update();\n        super.insertAt(index, value, def);\n    }\n    optimize(mutations = [], context = {}) {\n        super.optimize(context);\n        const mutationsMap = context.mutationsMap || new WeakMap();\n        // We must modify mutations directly, cannot make copy and then modify\n        let records = Array.from(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0) {\n            mutations.push(records.pop());\n        }\n        const mark = (blot, markParent = true) => {\n            if (blot == null || blot === this) {\n                return;\n            }\n            if (blot.domNode.parentNode == null) {\n                return;\n            }\n            if (!mutationsMap.has(blot.domNode)) {\n                mutationsMap.set(blot.domNode, []);\n            }\n            if (markParent) {\n                mark(blot.parent);\n            }\n        };\n        const optimize = (blot) => {\n            // Post-order traversal\n            if (!mutationsMap.has(blot.domNode)) {\n                return;\n            }\n            if (blot instanceof _abstract_parent__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\n                blot.children.forEach(optimize);\n            }\n            mutationsMap.delete(blot.domNode);\n            blot.optimize(context);\n        };\n        let remaining = mutations;\n        for (let i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach((mutation) => {\n                const blot = this.find(mutation.target, true);\n                if (blot == null) {\n                    return;\n                }\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(this.find(mutation.previousSibling, false));\n                        Array.from(mutation.addedNodes).forEach((node) => {\n                            const child = this.find(node, false);\n                            mark(child, false);\n                            if (child instanceof _abstract_parent__WEBPACK_IMPORTED_MODULE_3__[\"default\"]) {\n                                child.children.forEach((grandChild) => {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = Array.from(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0) {\n                mutations.push(records.pop());\n            }\n        }\n    }\n    update(mutations, context = {}) {\n        mutations = mutations || this.observer.takeRecords();\n        const mutationsMap = new WeakMap();\n        mutations\n            .map((mutation) => {\n            const blot = _registry__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find(mutation.target, true);\n            if (blot == null) {\n                return null;\n            }\n            if (mutationsMap.has(blot.domNode)) {\n                mutationsMap.get(blot.domNode).push(mutation);\n                return null;\n            }\n            else {\n                mutationsMap.set(blot.domNode, [mutation]);\n                return blot;\n            }\n        })\n            .forEach((blot) => {\n            if (blot != null && blot !== this && mutationsMap.has(blot.domNode)) {\n                blot.update(mutationsMap.get(blot.domNode) || [], context);\n            }\n        });\n        context.mutationsMap = mutationsMap;\n        if (mutationsMap.has(this.domNode)) {\n            super.update(mutationsMap.get(this.domNode), context);\n        }\n        this.optimize(mutations, context);\n    }\n}\nScrollBlot.blotName = 'scroll';\nScrollBlot.defaultChild = _block__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nScrollBlot.allowedChildren = [_block__WEBPACK_IMPORTED_MODULE_4__[\"default\"], _abstract_container__WEBPACK_IMPORTED_MODULE_2__[\"default\"]];\nScrollBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BLOCK_BLOT;\nScrollBlot.tagName = 'DIV';\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScrollBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/scroll.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/blot/text.ts":
	/*!*************************************************!*\
	  !*** ./node_modules/parchment/src/blot/text.ts ***!
	  \*************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony import */ var _abstract_leaf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract/leaf */ \"./node_modules/parchment/src/blot/abstract/leaf.ts\");\n\n\nclass TextBlot extends _abstract_leaf__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    constructor(scroll, node) {\n        super(scroll, node);\n        this.text = this.statics.value(this.domNode);\n    }\n    static create(value) {\n        return document.createTextNode(value);\n    }\n    static value(domNode) {\n        return domNode.data;\n    }\n    deleteAt(index, length) {\n        this.domNode.data = this.text =\n            this.text.slice(0, index) + this.text.slice(index + length);\n    }\n    index(node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    }\n    insertAt(index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            super.insertAt(index, value, def);\n        }\n    }\n    length() {\n        return this.text.length;\n    }\n    optimize(context) {\n        super.optimize(context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    }\n    position(index, _inclusive = false) {\n        return [this.domNode, index];\n    }\n    split(index, force = false) {\n        if (!force) {\n            if (index === 0) {\n                return this;\n            }\n            if (index === this.length()) {\n                return this.next;\n            }\n        }\n        const after = this.scroll.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next || undefined);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    }\n    update(mutations, _context) {\n        if (mutations.some((mutation) => {\n            return (mutation.type === 'characterData' && mutation.target === this.domNode);\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    }\n    value() {\n        return this.text;\n    }\n}\nTextBlot.blotName = 'text';\nTextBlot.scope = _scope__WEBPACK_IMPORTED_MODULE_0__[\"default\"].INLINE_BLOT;\n/* harmony default export */ __webpack_exports__[\"default\"] = (TextBlot);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/blot/text.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/collection/linked-list.ts":
	/*!**************************************************************!*\
	  !*** ./node_modules/parchment/src/collection/linked-list.ts ***!
	  \**************************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\nclass LinkedList {\n    constructor() {\n        this.head = null;\n        this.tail = null;\n        this.length = 0;\n    }\n    append(...nodes) {\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            const rest = nodes.slice(1);\n            this.append(...rest);\n        }\n    }\n    at(index) {\n        const next = this.iterator();\n        let cur = next();\n        while (cur && index > 0) {\n            index -= 1;\n            cur = next();\n        }\n        return cur;\n    }\n    contains(node) {\n        const next = this.iterator();\n        let cur = next();\n        while (cur) {\n            if (cur === node) {\n                return true;\n            }\n            cur = next();\n        }\n        return false;\n    }\n    indexOf(node) {\n        const next = this.iterator();\n        let cur = next();\n        let index = 0;\n        while (cur) {\n            if (cur === node) {\n                return index;\n            }\n            index += 1;\n            cur = next();\n        }\n        return -1;\n    }\n    insertBefore(node, refNode) {\n        if (node == null) {\n            return;\n        }\n        this.remove(node);\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    }\n    offset(target) {\n        let index = 0;\n        let cur = this.head;\n        while (cur != null) {\n            if (cur === target) {\n                return index;\n            }\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    }\n    remove(node) {\n        if (!this.contains(node)) {\n            return;\n        }\n        if (node.prev != null) {\n            node.prev.next = node.next;\n        }\n        if (node.next != null) {\n            node.next.prev = node.prev;\n        }\n        if (node === this.head) {\n            this.head = node.next;\n        }\n        if (node === this.tail) {\n            this.tail = node.prev;\n        }\n        this.length -= 1;\n    }\n    iterator(curNode = this.head) {\n        // TODO use yield when we can\n        return () => {\n            const ret = curNode;\n            if (curNode != null) {\n                curNode = curNode.next;\n            }\n            return ret;\n        };\n    }\n    find(index, inclusive = false) {\n        const next = this.iterator();\n        let cur = next();\n        while (cur) {\n            const length = cur.length();\n            if (index < length ||\n                (inclusive &&\n                    index === length &&\n                    (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n            cur = next();\n        }\n        return [null, 0];\n    }\n    forEach(callback) {\n        const next = this.iterator();\n        let cur = next();\n        while (cur) {\n            callback(cur);\n            cur = next();\n        }\n    }\n    forEachAt(index, length, callback) {\n        if (length <= 0) {\n            return;\n        }\n        const [startNode, offset] = this.find(index);\n        let curIndex = index - offset;\n        const next = this.iterator(startNode);\n        let cur = next();\n        while (cur && curIndex < index + length) {\n            const curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n            cur = next();\n        }\n    }\n    map(callback) {\n        return this.reduce((memo, cur) => {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    }\n    reduce(callback, memo) {\n        const next = this.iterator();\n        let cur = next();\n        while (cur) {\n            memo = callback(memo, cur);\n            cur = next();\n        }\n        return memo;\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinkedList);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/collection/linked-list.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/error.ts":
	/*!*********************************************!*\
	  !*** ./node_modules/parchment/src/error.ts ***!
	  \*********************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ParchmentError; });\nclass ParchmentError extends Error {\n    constructor(message) {\n        message = '[Parchment] ' + message;\n        super(message);\n        this.message = message;\n        this.name = this.constructor.name;\n    }\n}\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/error.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/parchment.ts":
	/*!*************************************************!*\
	  !*** ./node_modules/parchment/src/parchment.ts ***!
	  \*************************************************/
	/*! exports provided: ParentBlot, ContainerBlot, LeafBlot, EmbedBlot, ScrollBlot, BlockBlot, InlineBlot, TextBlot, Attributor, ClassAttributor, StyleAttributor, AttributorStore, Registry, Scope */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _blot_abstract_container__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./blot/abstract/container */ \"./node_modules/parchment/src/blot/abstract/container.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ContainerBlot\", function() { return _blot_abstract_container__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _blot_abstract_leaf__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./blot/abstract/leaf */ \"./node_modules/parchment/src/blot/abstract/leaf.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LeafBlot\", function() { return _blot_abstract_leaf__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _blot_abstract_parent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./blot/abstract/parent */ \"./node_modules/parchment/src/blot/abstract/parent.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ParentBlot\", function() { return _blot_abstract_parent__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _blot_block__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./blot/block */ \"./node_modules/parchment/src/blot/block.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BlockBlot\", function() { return _blot_block__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _blot_embed__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./blot/embed */ \"./node_modules/parchment/src/blot/embed.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EmbedBlot\", function() { return _blot_embed__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _blot_inline__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./blot/inline */ \"./node_modules/parchment/src/blot/inline.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"InlineBlot\", function() { return _blot_inline__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _blot_scroll__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blot/scroll */ \"./node_modules/parchment/src/blot/scroll.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScrollBlot\", function() { return _blot_scroll__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _blot_text__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blot/text */ \"./node_modules/parchment/src/blot/text.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TextBlot\", function() { return _blot_text__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _attributor_attributor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./attributor/attributor */ \"./node_modules/parchment/src/attributor/attributor.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Attributor\", function() { return _attributor_attributor__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _attributor_class__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./attributor/class */ \"./node_modules/parchment/src/attributor/class.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ClassAttributor\", function() { return _attributor_class__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _attributor_store__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./attributor/store */ \"./node_modules/parchment/src/attributor/store.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AttributorStore\", function() { return _attributor_store__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _attributor_style__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./attributor/style */ \"./node_modules/parchment/src/attributor/style.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"StyleAttributor\", function() { return _attributor_style__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n/* harmony import */ var _registry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./registry */ \"./node_modules/parchment/src/registry.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Registry\", function() { return _registry__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./scope */ \"./node_modules/parchment/src/scope.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Scope\", function() { return _scope__WEBPACK_IMPORTED_MODULE_13__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/parchment.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/registry.ts":
	/*!************************************************!*\
	  !*** ./node_modules/parchment/src/registry.ts ***!
	  \************************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Registry; });\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error */ \"./node_modules/parchment/src/error.ts\");\n/* harmony import */ var _scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scope */ \"./node_modules/parchment/src/scope.ts\");\n\n\nclass Registry {\n    constructor() {\n        this.attributes = {};\n        this.classes = {};\n        this.tags = {};\n        this.types = {};\n    }\n    static find(node, bubble = false) {\n        if (node == null) {\n            return null;\n        }\n        if (this.blots.has(node)) {\n            return this.blots.get(node) || null;\n        }\n        if (bubble) {\n            return this.find(node.parentNode, bubble);\n        }\n        return null;\n    }\n    create(scroll, input, value) {\n        const match = this.query(input);\n        if (match == null) {\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\"default\"](`Unable to create ${input} blot`);\n        }\n        const blotClass = match;\n        const node = \n        // @ts-ignore\n        input instanceof Node || input.nodeType === Node.TEXT_NODE\n            ? input\n            : blotClass.create(value);\n        const blot = new blotClass(scroll, node, value);\n        Registry.blots.set(blot.domNode, blot);\n        return blot;\n    }\n    find(node, bubble = false) {\n        return Registry.find(node, bubble);\n    }\n    query(query, scope = _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].ANY) {\n        let match;\n        if (typeof query === 'string') {\n            match = this.types[query] || this.attributes[query];\n            // @ts-ignore\n        }\n        else if (query instanceof Text || query.nodeType === Node.TEXT_NODE) {\n            match = this.types.text;\n        }\n        else if (typeof query === 'number') {\n            if (query & _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LEVEL & _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].BLOCK) {\n                match = this.types.block;\n            }\n            else if (query & _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LEVEL & _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].INLINE) {\n                match = this.types.inline;\n            }\n        }\n        else if (query instanceof HTMLElement) {\n            const names = (query.getAttribute('class') || '').split(/\\s+/);\n            names.some((name) => {\n                match = this.classes[name];\n                if (match) {\n                    return true;\n                }\n                return false;\n            });\n            match = match || this.tags[query.tagName];\n        }\n        if (match == null) {\n            return null;\n        }\n        // @ts-ignore\n        if (scope & _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].LEVEL & match.scope && scope & _scope__WEBPACK_IMPORTED_MODULE_1__[\"default\"].TYPE & match.scope) {\n            return match;\n        }\n        return null;\n    }\n    register(...definitions) {\n        if (definitions.length > 1) {\n            return definitions.map((d) => {\n                return this.register(d);\n            });\n        }\n        const definition = definitions[0];\n        if (typeof definition.blotName !== 'string' &&\n            typeof definition.attrName !== 'string') {\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('Invalid definition');\n        }\n        else if (definition.blotName === 'abstract') {\n            throw new _error__WEBPACK_IMPORTED_MODULE_0__[\"default\"]('Cannot register abstract class');\n        }\n        this.types[definition.blotName || definition.attrName] = definition;\n        if (typeof definition.keyName === 'string') {\n            this.attributes[definition.keyName] = definition;\n        }\n        else {\n            if (definition.className != null) {\n                this.classes[definition.className] = definition;\n            }\n            if (definition.tagName != null) {\n                if (Array.isArray(definition.tagName)) {\n                    definition.tagName = definition.tagName.map((tagName) => {\n                        return tagName.toUpperCase();\n                    });\n                }\n                else {\n                    definition.tagName = definition.tagName.toUpperCase();\n                }\n                const tagNames = Array.isArray(definition.tagName)\n                    ? definition.tagName\n                    : [definition.tagName];\n                tagNames.forEach((tag) => {\n                    if (this.tags[tag] == null || definition.className == null) {\n                        this.tags[tag] = definition;\n                    }\n                });\n            }\n        }\n        return definition;\n    }\n}\nRegistry.blots = new WeakMap();\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/registry.ts?");

	/***/ }),

	/***/ "./node_modules/parchment/src/scope.ts":
	/*!*********************************************!*\
	  !*** ./node_modules/parchment/src/scope.ts ***!
	  \*********************************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope || (Scope = {}));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Scope);\n\n\n//# sourceURL=webpack://Quill/./node_modules/parchment/src/scope.ts?");

	/***/ }),

	/***/ "./node_modules/process/browser.js":
	/*!*****************************************!*\
	  !*** ./node_modules/process/browser.js ***!
	  \*****************************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n//# sourceURL=webpack://Quill/./node_modules/process/browser.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/dist/AttributeMap.js":
	/*!*******************************************************!*\
	  !*** ./node_modules/quill-delta/dist/AttributeMap.js ***!
	  \*******************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar deep_equal_1 = __importDefault(__webpack_require__(/*! deep-equal */ \"./node_modules/quill-delta/node_modules/deep-equal/index.js\"));\nvar extend_1 = __importDefault(__webpack_require__(/*! extend */ \"./node_modules/extend/index.js\"));\nvar AttributeMap;\n(function (AttributeMap) {\n    function compose(a, b, keepNull) {\n        if (a === void 0) { a = {}; }\n        if (b === void 0) { b = {}; }\n        if (typeof a !== 'object') {\n            a = {};\n        }\n        if (typeof b !== 'object') {\n            b = {};\n        }\n        var attributes = extend_1.default(true, {}, b);\n        if (!keepNull) {\n            attributes = Object.keys(attributes).reduce(function (copy, key) {\n                if (attributes[key] != null) {\n                    copy[key] = attributes[key];\n                }\n                return copy;\n            }, {});\n        }\n        for (var key in a) {\n            if (a[key] !== undefined && b[key] === undefined) {\n                attributes[key] = a[key];\n            }\n        }\n        return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n    AttributeMap.compose = compose;\n    function diff(a, b) {\n        if (a === void 0) { a = {}; }\n        if (b === void 0) { b = {}; }\n        if (typeof a !== 'object') {\n            a = {};\n        }\n        if (typeof b !== 'object') {\n            b = {};\n        }\n        var attributes = Object.keys(a)\n            .concat(Object.keys(b))\n            .reduce(function (attrs, key) {\n            if (!deep_equal_1.default(a[key], b[key])) {\n                attrs[key] = b[key] === undefined ? null : b[key];\n            }\n            return attrs;\n        }, {});\n        return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n    AttributeMap.diff = diff;\n    function invert(attr, base) {\n        if (attr === void 0) { attr = {}; }\n        if (base === void 0) { base = {}; }\n        attr = attr || {};\n        var baseInverted = Object.keys(base).reduce(function (memo, key) {\n            if (base[key] !== attr[key] && attr[key] !== undefined) {\n                memo[key] = base[key];\n            }\n            return memo;\n        }, {});\n        return Object.keys(attr).reduce(function (memo, key) {\n            if (attr[key] !== base[key] && base[key] === undefined) {\n                memo[key] = null;\n            }\n            return memo;\n        }, baseInverted);\n    }\n    AttributeMap.invert = invert;\n    function transform(a, b, priority) {\n        if (priority === void 0) { priority = false; }\n        if (typeof a !== 'object') {\n            return b;\n        }\n        if (typeof b !== 'object') {\n            return undefined;\n        }\n        if (!priority) {\n            return b; // b simply overwrites us without priority\n        }\n        var attributes = Object.keys(b).reduce(function (attrs, key) {\n            if (a[key] === undefined) {\n                attrs[key] = b[key]; // null is a valid value\n            }\n            return attrs;\n        }, {});\n        return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n    AttributeMap.transform = transform;\n})(AttributeMap || (AttributeMap = {}));\nexports.default = AttributeMap;\n//# sourceMappingURL=AttributeMap.js.map\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/AttributeMap.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/dist/Delta.js":
	/*!************************************************!*\
	  !*** ./node_modules/quill-delta/dist/Delta.js ***!
	  \************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar deep_equal_1 = __importDefault(__webpack_require__(/*! deep-equal */ \"./node_modules/quill-delta/node_modules/deep-equal/index.js\"));\nvar extend_1 = __importDefault(__webpack_require__(/*! extend */ \"./node_modules/extend/index.js\"));\nvar fast_diff_1 = __importDefault(__webpack_require__(/*! fast-diff */ \"./node_modules/fast-diff/diff.js\"));\nvar AttributeMap_1 = __importDefault(__webpack_require__(/*! ./AttributeMap */ \"./node_modules/quill-delta/dist/AttributeMap.js\"));\nvar Op_1 = __importDefault(__webpack_require__(/*! ./Op */ \"./node_modules/quill-delta/dist/Op.js\"));\nvar NULL_CHARACTER = String.fromCharCode(0); // Placeholder char for embed in diff()\nvar Delta = /** @class */ (function () {\n    function Delta(ops) {\n        // Assume we are given a well formed ops\n        if (Array.isArray(ops)) {\n            this.ops = ops;\n        }\n        else if (ops != null && Array.isArray(ops.ops)) {\n            this.ops = ops.ops;\n        }\n        else {\n            this.ops = [];\n        }\n    }\n    Delta.prototype.insert = function (arg, attributes) {\n        var newOp = {};\n        if (typeof arg === 'string' && arg.length === 0) {\n            return this;\n        }\n        newOp.insert = arg;\n        if (attributes != null &&\n            typeof attributes === 'object' &&\n            Object.keys(attributes).length > 0) {\n            newOp.attributes = attributes;\n        }\n        return this.push(newOp);\n    };\n    Delta.prototype.delete = function (length) {\n        if (length <= 0) {\n            return this;\n        }\n        return this.push({ delete: length });\n    };\n    Delta.prototype.retain = function (length, attributes) {\n        if (length <= 0) {\n            return this;\n        }\n        var newOp = { retain: length };\n        if (attributes != null &&\n            typeof attributes === 'object' &&\n            Object.keys(attributes).length > 0) {\n            newOp.attributes = attributes;\n        }\n        return this.push(newOp);\n    };\n    Delta.prototype.push = function (newOp) {\n        var index = this.ops.length;\n        var lastOp = this.ops[index - 1];\n        newOp = extend_1.default(true, {}, newOp);\n        if (typeof lastOp === 'object') {\n            if (typeof newOp.delete === 'number' &&\n                typeof lastOp.delete === 'number') {\n                this.ops[index - 1] = { delete: lastOp.delete + newOp.delete };\n                return this;\n            }\n            // Since it does not matter if we insert before or after deleting at the same index,\n            // always prefer to insert first\n            if (typeof lastOp.delete === 'number' && newOp.insert != null) {\n                index -= 1;\n                lastOp = this.ops[index - 1];\n                if (typeof lastOp !== 'object') {\n                    this.ops.unshift(newOp);\n                    return this;\n                }\n            }\n            if (deep_equal_1.default(newOp.attributes, lastOp.attributes)) {\n                if (typeof newOp.insert === 'string' &&\n                    typeof lastOp.insert === 'string') {\n                    this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n                    if (typeof newOp.attributes === 'object') {\n                        this.ops[index - 1].attributes = newOp.attributes;\n                    }\n                    return this;\n                }\n                else if (typeof newOp.retain === 'number' &&\n                    typeof lastOp.retain === 'number') {\n                    this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n                    if (typeof newOp.attributes === 'object') {\n                        this.ops[index - 1].attributes = newOp.attributes;\n                    }\n                    return this;\n                }\n            }\n        }\n        if (index === this.ops.length) {\n            this.ops.push(newOp);\n        }\n        else {\n            this.ops.splice(index, 0, newOp);\n        }\n        return this;\n    };\n    Delta.prototype.chop = function () {\n        var lastOp = this.ops[this.ops.length - 1];\n        if (lastOp && lastOp.retain && !lastOp.attributes) {\n            this.ops.pop();\n        }\n        return this;\n    };\n    Delta.prototype.filter = function (predicate) {\n        return this.ops.filter(predicate);\n    };\n    Delta.prototype.forEach = function (predicate) {\n        this.ops.forEach(predicate);\n    };\n    Delta.prototype.map = function (predicate) {\n        return this.ops.map(predicate);\n    };\n    Delta.prototype.partition = function (predicate) {\n        var passed = [];\n        var failed = [];\n        this.forEach(function (op) {\n            var target = predicate(op) ? passed : failed;\n            target.push(op);\n        });\n        return [passed, failed];\n    };\n    Delta.prototype.reduce = function (predicate, initialValue) {\n        return this.ops.reduce(predicate, initialValue);\n    };\n    Delta.prototype.changeLength = function () {\n        return this.reduce(function (length, elem) {\n            if (elem.insert) {\n                return length + Op_1.default.length(elem);\n            }\n            else if (elem.delete) {\n                return length - elem.delete;\n            }\n            return length;\n        }, 0);\n    };\n    Delta.prototype.length = function () {\n        return this.reduce(function (length, elem) {\n            return length + Op_1.default.length(elem);\n        }, 0);\n    };\n    Delta.prototype.slice = function (start, end) {\n        if (start === void 0) { start = 0; }\n        if (end === void 0) { end = Infinity; }\n        var ops = [];\n        var iter = Op_1.default.iterator(this.ops);\n        var index = 0;\n        while (index < end && iter.hasNext()) {\n            var nextOp = void 0;\n            if (index < start) {\n                nextOp = iter.next(start - index);\n            }\n            else {\n                nextOp = iter.next(end - index);\n                ops.push(nextOp);\n            }\n            index += Op_1.default.length(nextOp);\n        }\n        return new Delta(ops);\n    };\n    Delta.prototype.compose = function (other) {\n        var thisIter = Op_1.default.iterator(this.ops);\n        var otherIter = Op_1.default.iterator(other.ops);\n        var ops = [];\n        var firstOther = otherIter.peek();\n        if (firstOther != null &&\n            typeof firstOther.retain === 'number' &&\n            firstOther.attributes == null) {\n            var firstLeft = firstOther.retain;\n            while (thisIter.peekType() === 'insert' &&\n                thisIter.peekLength() <= firstLeft) {\n                firstLeft -= thisIter.peekLength();\n                ops.push(thisIter.next());\n            }\n            if (firstOther.retain - firstLeft > 0) {\n                otherIter.next(firstOther.retain - firstLeft);\n            }\n        }\n        var delta = new Delta(ops);\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n            if (otherIter.peekType() === 'insert') {\n                delta.push(otherIter.next());\n            }\n            else if (thisIter.peekType() === 'delete') {\n                delta.push(thisIter.next());\n            }\n            else {\n                var length_1 = Math.min(thisIter.peekLength(), otherIter.peekLength());\n                var thisOp = thisIter.next(length_1);\n                var otherOp = otherIter.next(length_1);\n                if (typeof otherOp.retain === 'number') {\n                    var newOp = {};\n                    if (typeof thisOp.retain === 'number') {\n                        newOp.retain = length_1;\n                    }\n                    else {\n                        newOp.insert = thisOp.insert;\n                    }\n                    // Preserve null when composing with a retain, otherwise remove it for inserts\n                    var attributes = AttributeMap_1.default.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n                    if (attributes) {\n                        newOp.attributes = attributes;\n                    }\n                    delta.push(newOp);\n                    // Optimization if rest of other is just retain\n                    if (!otherIter.hasNext() &&\n                        deep_equal_1.default(delta.ops[delta.ops.length - 1], newOp)) {\n                        var rest = new Delta(thisIter.rest());\n                        return delta.concat(rest).chop();\n                    }\n                    // Other op should be delete, we could be an insert or retain\n                    // Insert + delete cancels out\n                }\n                else if (typeof otherOp.delete === 'number' &&\n                    typeof thisOp.retain === 'number') {\n                    delta.push(otherOp);\n                }\n            }\n        }\n        return delta.chop();\n    };\n    Delta.prototype.concat = function (other) {\n        var delta = new Delta(this.ops.slice());\n        if (other.ops.length > 0) {\n            delta.push(other.ops[0]);\n            delta.ops = delta.ops.concat(other.ops.slice(1));\n        }\n        return delta;\n    };\n    Delta.prototype.diff = function (other, cursor) {\n        if (this.ops === other.ops) {\n            return new Delta();\n        }\n        var strings = [this, other].map(function (delta) {\n            return delta\n                .map(function (op) {\n                if (op.insert != null) {\n                    return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n                }\n                var prep = delta === other ? 'on' : 'with';\n                throw new Error('diff() called ' + prep + ' non-document');\n            })\n                .join('');\n        });\n        var retDelta = new Delta();\n        var diffResult = fast_diff_1.default(strings[0], strings[1], cursor);\n        var thisIter = Op_1.default.iterator(this.ops);\n        var otherIter = Op_1.default.iterator(other.ops);\n        diffResult.forEach(function (component) {\n            var length = component[1].length;\n            while (length > 0) {\n                var opLength = 0;\n                switch (component[0]) {\n                    case fast_diff_1.default.INSERT:\n                        opLength = Math.min(otherIter.peekLength(), length);\n                        retDelta.push(otherIter.next(opLength));\n                        break;\n                    case fast_diff_1.default.DELETE:\n                        opLength = Math.min(length, thisIter.peekLength());\n                        thisIter.next(opLength);\n                        retDelta.delete(opLength);\n                        break;\n                    case fast_diff_1.default.EQUAL:\n                        opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n                        var thisOp = thisIter.next(opLength);\n                        var otherOp = otherIter.next(opLength);\n                        if (deep_equal_1.default(thisOp.insert, otherOp.insert)) {\n                            retDelta.retain(opLength, AttributeMap_1.default.diff(thisOp.attributes, otherOp.attributes));\n                        }\n                        else {\n                            retDelta.push(otherOp).delete(opLength);\n                        }\n                        break;\n                }\n                length -= opLength;\n            }\n        });\n        return retDelta.chop();\n    };\n    Delta.prototype.eachLine = function (predicate, newline) {\n        if (newline === void 0) { newline = '\\n'; }\n        var iter = Op_1.default.iterator(this.ops);\n        var line = new Delta();\n        var i = 0;\n        while (iter.hasNext()) {\n            if (iter.peekType() !== 'insert') {\n                return;\n            }\n            var thisOp = iter.peek();\n            var start = Op_1.default.length(thisOp) - iter.peekLength();\n            var index = typeof thisOp.insert === 'string'\n                ? thisOp.insert.indexOf(newline, start) - start\n                : -1;\n            if (index < 0) {\n                line.push(iter.next());\n            }\n            else if (index > 0) {\n                line.push(iter.next(index));\n            }\n            else {\n                if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n                    return;\n                }\n                i += 1;\n                line = new Delta();\n            }\n        }\n        if (line.length() > 0) {\n            predicate(line, {}, i);\n        }\n    };\n    Delta.prototype.invert = function (base) {\n        var inverted = new Delta();\n        this.reduce(function (baseIndex, op) {\n            if (op.insert) {\n                inverted.delete(Op_1.default.length(op));\n            }\n            else if (op.retain && op.attributes == null) {\n                inverted.retain(op.retain);\n                return baseIndex + op.retain;\n            }\n            else if (op.delete || (op.retain && op.attributes)) {\n                var length_2 = (op.delete || op.retain);\n                var slice = base.slice(baseIndex, baseIndex + length_2);\n                slice.forEach(function (baseOp) {\n                    if (op.delete) {\n                        inverted.push(baseOp);\n                    }\n                    else if (op.retain && op.attributes) {\n                        inverted.retain(Op_1.default.length(baseOp), AttributeMap_1.default.invert(op.attributes, baseOp.attributes));\n                    }\n                });\n                return baseIndex + length_2;\n            }\n            return baseIndex;\n        }, 0);\n        return inverted.chop();\n    };\n    Delta.prototype.transform = function (arg, priority) {\n        if (priority === void 0) { priority = false; }\n        priority = !!priority;\n        if (typeof arg === 'number') {\n            return this.transformPosition(arg, priority);\n        }\n        var other = arg;\n        var thisIter = Op_1.default.iterator(this.ops);\n        var otherIter = Op_1.default.iterator(other.ops);\n        var delta = new Delta();\n        while (thisIter.hasNext() || otherIter.hasNext()) {\n            if (thisIter.peekType() === 'insert' &&\n                (priority || otherIter.peekType() !== 'insert')) {\n                delta.retain(Op_1.default.length(thisIter.next()));\n            }\n            else if (otherIter.peekType() === 'insert') {\n                delta.push(otherIter.next());\n            }\n            else {\n                var length_3 = Math.min(thisIter.peekLength(), otherIter.peekLength());\n                var thisOp = thisIter.next(length_3);\n                var otherOp = otherIter.next(length_3);\n                if (thisOp.delete) {\n                    // Our delete either makes their delete redundant or removes their retain\n                    continue;\n                }\n                else if (otherOp.delete) {\n                    delta.push(otherOp);\n                }\n                else {\n                    // We retain either their retain or insert\n                    delta.retain(length_3, AttributeMap_1.default.transform(thisOp.attributes, otherOp.attributes, priority));\n                }\n            }\n        }\n        return delta.chop();\n    };\n    Delta.prototype.transformPosition = function (index, priority) {\n        if (priority === void 0) { priority = false; }\n        priority = !!priority;\n        var thisIter = Op_1.default.iterator(this.ops);\n        var offset = 0;\n        while (thisIter.hasNext() && offset <= index) {\n            var length_4 = thisIter.peekLength();\n            var nextType = thisIter.peekType();\n            thisIter.next();\n            if (nextType === 'delete') {\n                index -= Math.min(length_4, index - offset);\n                continue;\n            }\n            else if (nextType === 'insert' && (offset < index || !priority)) {\n                index += length_4;\n            }\n            offset += length_4;\n        }\n        return index;\n    };\n    Delta.Op = Op_1.default;\n    Delta.AttributeMap = AttributeMap_1.default;\n    return Delta;\n}());\nmodule.exports = Delta;\n//# sourceMappingURL=Delta.js.map\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/Delta.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/dist/Iterator.js":
	/*!***************************************************!*\
	  !*** ./node_modules/quill-delta/dist/Iterator.js ***!
	  \***************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Op_1 = __importDefault(__webpack_require__(/*! ./Op */ \"./node_modules/quill-delta/dist/Op.js\"));\nvar Iterator = /** @class */ (function () {\n    function Iterator(ops) {\n        this.ops = ops;\n        this.index = 0;\n        this.offset = 0;\n    }\n    Iterator.prototype.hasNext = function () {\n        return this.peekLength() < Infinity;\n    };\n    Iterator.prototype.next = function (length) {\n        if (!length) {\n            length = Infinity;\n        }\n        var nextOp = this.ops[this.index];\n        if (nextOp) {\n            var offset = this.offset;\n            var opLength = Op_1.default.length(nextOp);\n            if (length >= opLength - offset) {\n                length = opLength - offset;\n                this.index += 1;\n                this.offset = 0;\n            }\n            else {\n                this.offset += length;\n            }\n            if (typeof nextOp.delete === 'number') {\n                return { delete: length };\n            }\n            else {\n                var retOp = {};\n                if (nextOp.attributes) {\n                    retOp.attributes = nextOp.attributes;\n                }\n                if (typeof nextOp.retain === 'number') {\n                    retOp.retain = length;\n                }\n                else if (typeof nextOp.insert === 'string') {\n                    retOp.insert = nextOp.insert.substr(offset, length);\n                }\n                else {\n                    // offset should === 0, length should === 1\n                    retOp.insert = nextOp.insert;\n                }\n                return retOp;\n            }\n        }\n        else {\n            return { retain: Infinity };\n        }\n    };\n    Iterator.prototype.peek = function () {\n        return this.ops[this.index];\n    };\n    Iterator.prototype.peekLength = function () {\n        if (this.ops[this.index]) {\n            // Should never return 0 if our index is being managed correctly\n            return Op_1.default.length(this.ops[this.index]) - this.offset;\n        }\n        else {\n            return Infinity;\n        }\n    };\n    Iterator.prototype.peekType = function () {\n        if (this.ops[this.index]) {\n            if (typeof this.ops[this.index].delete === 'number') {\n                return 'delete';\n            }\n            else if (typeof this.ops[this.index].retain === 'number') {\n                return 'retain';\n            }\n            else {\n                return 'insert';\n            }\n        }\n        return 'retain';\n    };\n    Iterator.prototype.rest = function () {\n        if (!this.hasNext()) {\n            return [];\n        }\n        else if (this.offset === 0) {\n            return this.ops.slice(this.index);\n        }\n        else {\n            var offset = this.offset;\n            var index = this.index;\n            var next = this.next();\n            var rest = this.ops.slice(this.index);\n            this.offset = offset;\n            this.index = index;\n            return [next].concat(rest);\n        }\n    };\n    return Iterator;\n}());\nexports.default = Iterator;\n//# sourceMappingURL=Iterator.js.map\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/Iterator.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/dist/Op.js":
	/*!*********************************************!*\
	  !*** ./node_modules/quill-delta/dist/Op.js ***!
	  \*********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Iterator_1 = __importDefault(__webpack_require__(/*! ./Iterator */ \"./node_modules/quill-delta/dist/Iterator.js\"));\nvar Op;\n(function (Op) {\n    function iterator(ops) {\n        return new Iterator_1.default(ops);\n    }\n    Op.iterator = iterator;\n    function length(op) {\n        if (typeof op.delete === 'number') {\n            return op.delete;\n        }\n        else if (typeof op.retain === 'number') {\n            return op.retain;\n        }\n        else {\n            return typeof op.insert === 'string' ? op.insert.length : 1;\n        }\n    }\n    Op.length = length;\n})(Op || (Op = {}));\nexports.default = Op;\n//# sourceMappingURL=Op.js.map\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/dist/Op.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/node_modules/deep-equal/index.js":
	/*!*******************************************************************!*\
	  !*** ./node_modules/quill-delta/node_modules/deep-equal/index.js ***!
	  \*******************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {

	eval("var objectKeys = __webpack_require__(/*! object-keys */ \"./node_modules/quill-delta/node_modules/object-keys/index.js\");\nvar isArguments = __webpack_require__(/*! is-arguments */ \"./node_modules/is-arguments/index.js\");\nvar is = __webpack_require__(/*! object-is */ \"./node_modules/object-is/index.js\");\nvar isRegex = __webpack_require__(/*! is-regex */ \"./node_modules/is-regex/index.js\");\nvar flags = __webpack_require__(/*! regexp.prototype.flags */ \"./node_modules/regexp.prototype.flags/index.js\");\nvar isDate = __webpack_require__(/*! is-date-object */ \"./node_modules/is-date-object/index.js\");\n\nvar getTime = Date.prototype.getTime;\n\nfunction deepEqual(actual, expected, options) {\n  var opts = options || {};\n\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (opts.strict ? is(actual, expected) : actual === expected) {\n    return true;\n  }\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object', equivalence is determined by ==.\n  if (!actual || !expected || (typeof actual !== 'object' && typeof expected !== 'object')) {\n    return opts.strict ? is(actual, expected) : actual == expected;\n  }\n\n  /*\n   * 7.4. For all other Object pairs, including Array objects, equivalence is\n   * determined by having the same number of owned properties (as verified\n   * with Object.prototype.hasOwnProperty.call), the same set of keys\n   * (although not necessarily the same order), equivalent values for every\n   * corresponding key, and an identical 'prototype' property. Note: this\n   * accounts for both named and indexed properties on Arrays.\n   */\n  // eslint-disable-next-line no-use-before-define\n  return objEquiv(actual, expected, opts);\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer(x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') {\n    return false;\n  }\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') {\n    return false;\n  }\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  /* eslint max-statements: [2, 50] */\n  var i, key;\n  if (typeof a !== typeof b) { return false; }\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b)) { return false; }\n\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) { return false; }\n\n  if (isArguments(a) !== isArguments(b)) { return false; }\n\n  var aIsRegex = isRegex(a);\n  var bIsRegex = isRegex(b);\n  if (aIsRegex !== bIsRegex) { return false; }\n  if (aIsRegex || bIsRegex) {\n    return a.source === b.source && flags(a) === flags(b);\n  }\n\n  if (isDate(a) && isDate(b)) {\n    return getTime.call(a) === getTime.call(b);\n  }\n\n  var aIsBuffer = isBuffer(a);\n  var bIsBuffer = isBuffer(b);\n  if (aIsBuffer !== bIsBuffer) { return false; }\n  if (aIsBuffer || bIsBuffer) { // && would work too, because both are true or both false here\n    if (a.length !== b.length) { return false; }\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) { return false; }\n    }\n    return true;\n  }\n\n  if (typeof a !== typeof b) { return false; }\n\n  try {\n    var ka = objectKeys(a);\n    var kb = objectKeys(b);\n  } catch (e) { // happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) { return false; }\n\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) { return false; }\n  }\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) { return false; }\n  }\n\n  return true;\n}\n\nmodule.exports = deepEqual;\n\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/deep-equal/index.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/node_modules/object-keys/implementation.js":
	/*!*****************************************************************************!*\
	  !*** ./node_modules/quill-delta/node_modules/object-keys/implementation.js ***!
	  \*****************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = __webpack_require__(/*! ./isArguments */ \"./node_modules/quill-delta/node_modules/object-keys/isArguments.js\"); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/implementation.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/node_modules/object-keys/index.js":
	/*!********************************************************************!*\
	  !*** ./node_modules/quill-delta/node_modules/object-keys/index.js ***!
	  \********************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar slice = Array.prototype.slice;\nvar isArgs = __webpack_require__(/*! ./isArguments */ \"./node_modules/quill-delta/node_modules/object-keys/isArguments.js\");\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : __webpack_require__(/*! ./implementation */ \"./node_modules/quill-delta/node_modules/object-keys/implementation.js\");\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/index.js?");

	/***/ }),

	/***/ "./node_modules/quill-delta/node_modules/object-keys/isArguments.js":
	/*!**************************************************************************!*\
	  !*** ./node_modules/quill-delta/node_modules/object-keys/isArguments.js ***!
	  \**************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/quill-delta/node_modules/object-keys/isArguments.js?");

	/***/ }),

	/***/ "./node_modules/regexp.prototype.flags/implementation.js":
	/*!***************************************************************!*\
	  !*** ./node_modules/regexp.prototype.flags/implementation.js ***!
	  \***************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar $Object = Object;\nvar $TypeError = TypeError;\n\nmodule.exports = function flags() {\n\tif (this != null && this !== $Object(this)) {\n\t\tthrow new $TypeError('RegExp.prototype.flags getter called on non-object');\n\t}\n\tvar result = '';\n\tif (this.global) {\n\t\tresult += 'g';\n\t}\n\tif (this.ignoreCase) {\n\t\tresult += 'i';\n\t}\n\tif (this.multiline) {\n\t\tresult += 'm';\n\t}\n\tif (this.dotAll) {\n\t\tresult += 's';\n\t}\n\tif (this.unicode) {\n\t\tresult += 'u';\n\t}\n\tif (this.sticky) {\n\t\tresult += 'y';\n\t}\n\treturn result;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/implementation.js?");

	/***/ }),

	/***/ "./node_modules/regexp.prototype.flags/index.js":
	/*!******************************************************!*\
	  !*** ./node_modules/regexp.prototype.flags/index.js ***!
	  \******************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar define = __webpack_require__(/*! define-properties */ \"./node_modules/define-properties/index.js\");\nvar callBind = __webpack_require__(/*! es-abstract/helpers/callBind */ \"./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js\");\n\nvar implementation = __webpack_require__(/*! ./implementation */ \"./node_modules/regexp.prototype.flags/implementation.js\");\nvar getPolyfill = __webpack_require__(/*! ./polyfill */ \"./node_modules/regexp.prototype.flags/polyfill.js\");\nvar shim = __webpack_require__(/*! ./shim */ \"./node_modules/regexp.prototype.flags/shim.js\");\n\nvar flagsBound = callBind(implementation);\n\ndefine(flagsBound, {\n\tgetPolyfill: getPolyfill,\n\timplementation: implementation,\n\tshim: shim\n});\n\nmodule.exports = flagsBound;\n\n\n//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/index.js?");

	/***/ }),

	/***/ "./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js":
	/*!**************************************************************************************!*\
	  !*** ./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js ***!
	  \**************************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js?");

	/***/ }),

	/***/ "./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js":
	/*!******************************************************************************************!*\
	  !*** ./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js ***!
	  \******************************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/regexp.prototype.flags/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/node_modules/es-abstract/helpers/callBind.js?");

	/***/ }),

	/***/ "./node_modules/regexp.prototype.flags/polyfill.js":
	/*!*********************************************************!*\
	  !*** ./node_modules/regexp.prototype.flags/polyfill.js ***!
	  \*********************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar implementation = __webpack_require__(/*! ./implementation */ \"./node_modules/regexp.prototype.flags/implementation.js\");\n\nvar supportsDescriptors = __webpack_require__(/*! define-properties */ \"./node_modules/define-properties/index.js\").supportsDescriptors;\nvar $gOPD = Object.getOwnPropertyDescriptor;\nvar $TypeError = TypeError;\n\nmodule.exports = function getPolyfill() {\n\tif (!supportsDescriptors) {\n\t\tthrow new $TypeError('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tif ((/a/mig).flags === 'gim') {\n\t\tvar descriptor = $gOPD(RegExp.prototype, 'flags');\n\t\tif (descriptor && typeof descriptor.get === 'function' && typeof (/a/).dotAll === 'boolean') {\n\t\t\treturn descriptor.get;\n\t\t}\n\t}\n\treturn implementation;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/polyfill.js?");

	/***/ }),

	/***/ "./node_modules/regexp.prototype.flags/shim.js":
	/*!*****************************************************!*\
	  !*** ./node_modules/regexp.prototype.flags/shim.js ***!
	  \*****************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar supportsDescriptors = __webpack_require__(/*! define-properties */ \"./node_modules/define-properties/index.js\").supportsDescriptors;\nvar getPolyfill = __webpack_require__(/*! ./polyfill */ \"./node_modules/regexp.prototype.flags/polyfill.js\");\nvar gOPD = Object.getOwnPropertyDescriptor;\nvar defineProperty = Object.defineProperty;\nvar TypeErr = TypeError;\nvar getProto = Object.getPrototypeOf;\nvar regex = /a/;\n\nmodule.exports = function shimFlags() {\n\tif (!supportsDescriptors || !getProto) {\n\t\tthrow new TypeErr('RegExp.prototype.flags requires a true ES5 environment that supports property descriptors');\n\t}\n\tvar polyfill = getPolyfill();\n\tvar proto = getProto(regex);\n\tvar descriptor = gOPD(proto, 'flags');\n\tif (!descriptor || descriptor.get !== polyfill) {\n\t\tdefineProperty(proto, 'flags', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: polyfill\n\t\t});\n\t}\n\treturn polyfill;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/regexp.prototype.flags/shim.js?");

	/***/ }),

	/***/ "./node_modules/side-channel/index.js":
	/*!********************************************!*\
	  !*** ./node_modules/side-channel/index.js ***!
	  \********************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! es-abstract/GetIntrinsic */ \"./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js\");\nvar callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ \"./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js\");\nvar inspect = __webpack_require__(/*! object-inspect */ \"./node_modules/object-inspect/index.js\");\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\nvar $push = callBound('Array.prototype.push');\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\nvar objectGet = function (objects, key) { // eslint-disable-line consistent-return\n\tfor (var i = 0; i < objects.length; i += 1) {\n\t\tif (objects[i].key === key) {\n\t\t\treturn objects[i].value;\n\t\t}\n\t}\n};\nvar objectSet = function (objects, key, value) {\n\tfor (var i = 0; i < objects.length; i += 1) {\n\t\tif (objects[i].key === key) {\n\t\t\tobjects[i].value = value; // eslint-disable-line no-param-reassign\n\t\t\treturn;\n\t\t}\n\t}\n\t$push(objects, {\n\t\tkey: key,\n\t\tvalue: value\n\t});\n};\nvar objectHas = function (objects, key) {\n\tfor (var i = 0; i < objects.length; i += 1) {\n\t\tif (objects[i].key === key) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn objectGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn objectHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t$o = [];\n\t\t\t\t}\n\t\t\t\tobjectSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/side-channel/index.js?");

	/***/ }),

	/***/ "./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js":
	/*!****************************************************************************!*\
	  !*** ./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js ***!
	  \****************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js?");

	/***/ }),

	/***/ "./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js":
	/*!********************************************************************************!*\
	  !*** ./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js ***!
	  \********************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js?");

	/***/ }),

	/***/ "./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js":
	/*!*********************************************************************************!*\
	  !*** ./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js ***!
	  \*********************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/side-channel/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar callBind = __webpack_require__(/*! ./callBind */ \"./node_modules/side-channel/node_modules/es-abstract/helpers/callBind.js\");\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/side-channel/node_modules/es-abstract/helpers/callBound.js?");

	/***/ }),

	/***/ "./node_modules/webpack/buildin/global.js":
	/*!***********************************!*\
	  !*** (webpack)/buildin/global.js ***!
	  \***********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack://Quill/(webpack)/buildin/global.js?");

	/***/ }),

	/***/ "./node_modules/which-boxed-primitive/index.js":
	/*!*****************************************************!*\
	  !*** ./node_modules/which-boxed-primitive/index.js ***!
	  \*****************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar isString = __webpack_require__(/*! is-string */ \"./node_modules/is-string/index.js\");\nvar isNumber = __webpack_require__(/*! is-number-object */ \"./node_modules/is-number-object/index.js\");\nvar isBoolean = __webpack_require__(/*! is-boolean-object */ \"./node_modules/is-boolean-object/index.js\");\nvar isSymbol = __webpack_require__(/*! is-symbol */ \"./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js\");\nvar isBigInt = __webpack_require__(/*! is-bigint */ \"./node_modules/is-bigint/index.js\");\n\n// eslint-disable-next-line consistent-return\nmodule.exports = function whichBoxedPrimitive(value) {\n\t// eslint-disable-next-line eqeqeq\n\tif (value == null || (typeof value !== 'object' && typeof value !== 'function')) {\n\t\treturn null;\n\t}\n\tif (isString(value)) {\n\t\treturn 'String';\n\t}\n\tif (isNumber(value)) {\n\t\treturn 'Number';\n\t}\n\tif (isBoolean(value)) {\n\t\treturn 'Boolean';\n\t}\n\tif (isSymbol(value)) {\n\t\treturn 'Symbol';\n\t}\n\tif (isBigInt(value)) {\n\t\treturn 'BigInt';\n\t}\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/which-boxed-primitive/index.js?");

	/***/ }),

	/***/ "./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js":
	/*!****************************************************************************!*\
	  !*** ./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js ***!
	  \****************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar toStr = Object.prototype.toString;\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\n\nif (hasSymbols) {\n\tvar symToStr = Symbol.prototype.toString;\n\tvar symStringRegex = /^Symbol\\(.*\\)$/;\n\tvar isSymbolObject = function isRealSymbolObject(value) {\n\t\tif (typeof value.valueOf() !== 'symbol') {\n\t\t\treturn false;\n\t\t}\n\t\treturn symStringRegex.test(symToStr.call(value));\n\t};\n\n\tmodule.exports = function isSymbol(value) {\n\t\tif (typeof value === 'symbol') {\n\t\t\treturn true;\n\t\t}\n\t\tif (toStr.call(value) !== '[object Symbol]') {\n\t\t\treturn false;\n\t\t}\n\t\ttry {\n\t\t\treturn isSymbolObject(value);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n} else {\n\n\tmodule.exports = function isSymbol(value) {\n\t\t// this environment does not support Symbols.\n\t\treturn  false && false;\n\t};\n}\n\n\n//# sourceURL=webpack://Quill/./node_modules/which-boxed-primitive/node_modules/is-symbol/index.js?");

	/***/ }),

	/***/ "./node_modules/which-collection/index.js":
	/*!************************************************!*\
	  !*** ./node_modules/which-collection/index.js ***!
	  \************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar isMap = __webpack_require__(/*! is-map */ \"./node_modules/is-map/index.js\");\nvar isSet = __webpack_require__(/*! is-set */ \"./node_modules/is-set/index.js\");\nvar isWeakMap = __webpack_require__(/*! is-weakmap */ \"./node_modules/is-weakmap/index.js\");\nvar isWeakSet = __webpack_require__(/*! is-weakset */ \"./node_modules/is-weakset/index.js\");\n\nmodule.exports = function whichCollection(value) {\n\tif (value && typeof value === 'object') {\n\t\tif (isMap(value)) {\n\t\t\treturn 'Map';\n\t\t}\n\t\tif (isSet(value)) {\n\t\t\treturn 'Set';\n\t\t}\n\t\tif (isWeakMap(value)) {\n\t\t\treturn 'WeakMap';\n\t\t}\n\t\tif (isWeakSet(value)) {\n\t\t\treturn 'WeakSet';\n\t\t}\n\t}\n\treturn false;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/which-collection/index.js?");

	/***/ }),

	/***/ "./node_modules/which-typed-array/index.js":
	/*!*************************************************!*\
	  !*** ./node_modules/which-typed-array/index.js ***!
	  \*************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("/* WEBPACK VAR INJECTION */(function(global) {\n\nvar forEach = __webpack_require__(/*! foreach */ \"./node_modules/foreach/index.js\");\nvar availableTypedArrays = __webpack_require__(/*! available-typed-arrays */ \"./node_modules/available-typed-arrays/index.js\");\nvar callBound = __webpack_require__(/*! es-abstract/helpers/callBound */ \"./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js\");\n\nvar $toString = callBound('Object.prototype.toString');\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\nvar hasToStringTag = hasSymbols && typeof Symbol.toStringTag === 'symbol';\n\nvar typedArrays = availableTypedArrays();\n\nvar $slice = callBound('String.prototype.slice');\nvar toStrTags = {};\nvar gOPD = __webpack_require__(/*! es-abstract/helpers/getOwnPropertyDescriptor */ \"./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js\");\nvar getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');\nif (hasToStringTag && gOPD && getPrototypeOf) {\n\tforEach(typedArrays, function (typedArray) {\n\t\tif (typeof global[typedArray] === 'function') {\n\t\t\tvar arr = new global[typedArray]();\n\t\t\tif (!(Symbol.toStringTag in arr)) {\n\t\t\t\tthrow new EvalError('this engine has support for Symbol.toStringTag, but ' + typedArray + ' does not have the property! Please report this.');\n\t\t\t}\n\t\t\tvar proto = getPrototypeOf(arr);\n\t\t\tvar descriptor = gOPD(proto, Symbol.toStringTag);\n\t\t\tif (!descriptor) {\n\t\t\t\tvar superProto = getPrototypeOf(proto);\n\t\t\t\tdescriptor = gOPD(superProto, Symbol.toStringTag);\n\t\t\t}\n\t\t\ttoStrTags[typedArray] = descriptor.get;\n\t\t}\n\t});\n}\n\nvar tryTypedArrays = function tryAllTypedArrays(value) {\n\tvar foundName = false;\n\tforEach(toStrTags, function (getter, typedArray) {\n\t\tif (!foundName) {\n\t\t\ttry {\n\t\t\t\tvar name = getter.call(value);\n\t\t\t\tif (name === typedArray) {\n\t\t\t\t\tfoundName = name;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t});\n\treturn foundName;\n};\n\nvar isTypedArray = __webpack_require__(/*! is-typed-array */ \"./node_modules/is-typed-array/index.js\");\n\nmodule.exports = function whichTypedArray(value) {\n\tif (!isTypedArray(value)) { return false; }\n\tif (!hasToStringTag) { return $slice($toString(value), 8, -1); }\n\treturn tryTypedArrays(value);\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://Quill/./node_modules/which-typed-array/index.js?");

	/***/ }),

	/***/ "./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js":
	/*!*********************************************************************************!*\
	  !*** ./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js ***!
	  \*********************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\n/* globals\n\tAtomics,\n\tSharedArrayBuffer,\n*/\n\nvar undefined;\n\nvar $TypeError = TypeError;\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () { throw new $TypeError(); };\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = __webpack_require__(/*! has-symbols */ \"./node_modules/has-symbols/index.js\")();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar generator; // = function * () {};\nvar generatorFunction = generator ? getProto(generator) : undefined;\nvar asyncFn; // async function() {};\nvar asyncFunction = asyncFn ? asyncFn.constructor : undefined;\nvar asyncGen; // async function * () {};\nvar asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;\nvar asyncGenIterator = asyncGen ? asyncGen() : undefined;\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%ArrayPrototype%': Array.prototype,\n\t'%ArrayProto_entries%': Array.prototype.entries,\n\t'%ArrayProto_forEach%': Array.prototype.forEach,\n\t'%ArrayProto_keys%': Array.prototype.keys,\n\t'%ArrayProto_values%': Array.prototype.values,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': asyncFunction,\n\t'%AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,\n\t'%AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,\n\t'%AsyncGeneratorFunction%': asyncGenFunction,\n\t'%AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,\n\t'%AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%Boolean%': Boolean,\n\t'%BooleanPrototype%': Boolean.prototype,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,\n\t'%Date%': Date,\n\t'%DatePrototype%': Date.prototype,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%ErrorPrototype%': Error.prototype,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%EvalErrorPrototype%': EvalError.prototype,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,\n\t'%Function%': Function,\n\t'%FunctionPrototype%': Function.prototype,\n\t'%Generator%': generator ? getProto(generator()) : undefined,\n\t'%GeneratorFunction%': generatorFunction,\n\t'%GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%JSONParse%': typeof JSON === 'object' ? JSON.parse : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%NumberPrototype%': Number.prototype,\n\t'%Object%': Object,\n\t'%ObjectPrototype%': Object.prototype,\n\t'%ObjProto_toString%': Object.prototype.toString,\n\t'%ObjProto_valueOf%': Object.prototype.valueOf,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,\n\t'%PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,\n\t'%Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,\n\t'%Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,\n\t'%Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%RangeErrorPrototype%': RangeError.prototype,\n\t'%ReferenceError%': ReferenceError,\n\t'%ReferenceErrorPrototype%': ReferenceError.prototype,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%RegExpPrototype%': RegExp.prototype,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%StringPrototype%': String.prototype,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,\n\t'%SyntaxError%': SyntaxError,\n\t'%SyntaxErrorPrototype%': SyntaxError.prototype,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,\n\t'%TypeError%': $TypeError,\n\t'%TypeErrorPrototype%': $TypeError.prototype,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,\n\t'%URIError%': URIError,\n\t'%URIErrorPrototype%': URIError.prototype,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,\n\t'%WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype\n};\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\nvar $replace = bind.call(Function.call, String.prototype.replace);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : (number || match);\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tif (!(name in INTRINSICS)) {\n\t\tthrow new SyntaxError('intrinsic ' + name + ' does not exist!');\n\t}\n\n\t// istanbul ignore if // hopefully this is impossible to test :-)\n\tif (typeof INTRINSICS[name] === 'undefined' && !allowMissing) {\n\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t}\n\n\treturn INTRINSICS[name];\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tvar parts = stringToPath(name);\n\n\tvar value = getBaseIntrinsic('%' + (parts.length > 0 ? parts[0] : '') + '%', allowMissing);\n\tfor (var i = 1; i < parts.length; i += 1) {\n\t\tif (value != null) {\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, parts[i]);\n\t\t\t\tif (!allowMissing && !(parts[i] in value)) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\tvalue = desc ? (desc.get || desc.value) : value[parts[i]];\n\t\t\t} else {\n\t\t\t\tvalue = value[parts[i]];\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js?");

	/***/ }),

	/***/ "./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js":
	/*!*************************************************************************************!*\
	  !*** ./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js ***!
	  \*************************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar bind = __webpack_require__(/*! function-bind */ \"./node_modules/function-bind/index.js\");\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $Function = GetIntrinsic('%Function%');\nvar $apply = $Function.apply;\nvar $call = $Function.call;\n\nmodule.exports = function callBind() {\n\treturn bind.apply($call, arguments);\n};\n\nmodule.exports.apply = function applyBind() {\n\treturn bind.apply($apply, arguments);\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js?");

	/***/ }),

	/***/ "./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js":
	/*!**************************************************************************************!*\
	  !*** ./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js ***!
	  \**************************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar callBind = __webpack_require__(/*! ./callBind */ \"./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBind.js\");\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.')) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n\n\n//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/callBound.js?");

	/***/ }),

	/***/ "./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js":
	/*!*****************************************************************************************************!*\
	  !*** ./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js ***!
	  \*****************************************************************************************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {
	eval("\n\nvar GetIntrinsic = __webpack_require__(/*! ../GetIntrinsic */ \"./node_modules/which-typed-array/node_modules/es-abstract/GetIntrinsic.js\");\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%');\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n\n\n//# sourceURL=webpack://Quill/./node_modules/which-typed-array/node_modules/es-abstract/helpers/getOwnPropertyDescriptor.js?");

	/***/ }),

	/***/ "./quill.js":
	/*!******************!*\
	  !*** ./quill.js ***!
	  \******************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core */ \"./core.js\");\n/* harmony import */ var _formats_align__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./formats/align */ \"./formats/align.js\");\n/* harmony import */ var _formats_direction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./formats/direction */ \"./formats/direction.js\");\n/* harmony import */ var _formats_indent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./formats/indent */ \"./formats/indent.js\");\n/* harmony import */ var _formats_blockquote__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formats/blockquote */ \"./formats/blockquote.js\");\n/* harmony import */ var _formats_header__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./formats/header */ \"./formats/header.js\");\n/* harmony import */ var _formats_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./formats/list */ \"./formats/list.js\");\n/* harmony import */ var _formats_background__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./formats/background */ \"./formats/background.js\");\n/* harmony import */ var _formats_color__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./formats/color */ \"./formats/color.js\");\n/* harmony import */ var _formats_font__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./formats/font */ \"./formats/font.js\");\n/* harmony import */ var _formats_size__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./formats/size */ \"./formats/size.js\");\n/* harmony import */ var _formats_bold__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./formats/bold */ \"./formats/bold.js\");\n/* harmony import */ var _formats_italic__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./formats/italic */ \"./formats/italic.js\");\n/* harmony import */ var _formats_link__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./formats/link */ \"./formats/link.js\");\n/* harmony import */ var _formats_script__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./formats/script */ \"./formats/script.js\");\n/* harmony import */ var _formats_strike__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./formats/strike */ \"./formats/strike.js\");\n/* harmony import */ var _formats_underline__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./formats/underline */ \"./formats/underline.js\");\n/* harmony import */ var _formats_formula__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./formats/formula */ \"./formats/formula.js\");\n/* harmony import */ var _formats_image__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./formats/image */ \"./formats/image.js\");\n/* harmony import */ var _formats_video__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./formats/video */ \"./formats/video.js\");\n/* harmony import */ var _formats_code__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./formats/code */ \"./formats/code.js\");\n/* harmony import */ var _modules_syntax__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./modules/syntax */ \"./modules/syntax.js\");\n/* harmony import */ var _modules_table__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./modules/table */ \"./modules/table.js\");\n/* harmony import */ var _modules_toolbar__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./modules/toolbar */ \"./modules/toolbar.js\");\n/* harmony import */ var _ui_icons__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ui/icons */ \"./ui/icons.js\");\n/* harmony import */ var _ui_picker__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ui/picker */ \"./ui/picker.js\");\n/* harmony import */ var _ui_color_picker__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ui/color-picker */ \"./ui/color-picker.js\");\n/* harmony import */ var _ui_icon_picker__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ui/icon-picker */ \"./ui/icon-picker.js\");\n/* harmony import */ var _ui_tooltip__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ui/tooltip */ \"./ui/tooltip.js\");\n/* harmony import */ var _themes_bubble__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./themes/bubble */ \"./themes/bubble.js\");\n/* harmony import */ var _themes_snow__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./themes/snow */ \"./themes/snow.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n_core__WEBPACK_IMPORTED_MODULE_0__[\"default\"].register({\n  'attributors/attribute/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__[\"DirectionAttribute\"],\n  'attributors/class/align': _formats_align__WEBPACK_IMPORTED_MODULE_1__[\"AlignClass\"],\n  'attributors/class/background': _formats_background__WEBPACK_IMPORTED_MODULE_7__[\"BackgroundClass\"],\n  'attributors/class/color': _formats_color__WEBPACK_IMPORTED_MODULE_8__[\"ColorClass\"],\n  'attributors/class/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__[\"DirectionClass\"],\n  'attributors/class/font': _formats_font__WEBPACK_IMPORTED_MODULE_9__[\"FontClass\"],\n  'attributors/class/size': _formats_size__WEBPACK_IMPORTED_MODULE_10__[\"SizeClass\"],\n  'attributors/style/align': _formats_align__WEBPACK_IMPORTED_MODULE_1__[\"AlignStyle\"],\n  'attributors/style/background': _formats_background__WEBPACK_IMPORTED_MODULE_7__[\"BackgroundStyle\"],\n  'attributors/style/color': _formats_color__WEBPACK_IMPORTED_MODULE_8__[\"ColorStyle\"],\n  'attributors/style/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__[\"DirectionStyle\"],\n  'attributors/style/font': _formats_font__WEBPACK_IMPORTED_MODULE_9__[\"FontStyle\"],\n  'attributors/style/size': _formats_size__WEBPACK_IMPORTED_MODULE_10__[\"SizeStyle\"]\n}, true);\n_core__WEBPACK_IMPORTED_MODULE_0__[\"default\"].register({\n  'formats/align': _formats_align__WEBPACK_IMPORTED_MODULE_1__[\"AlignClass\"],\n  'formats/direction': _formats_direction__WEBPACK_IMPORTED_MODULE_2__[\"DirectionClass\"],\n  'formats/indent': _formats_indent__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  'formats/background': _formats_background__WEBPACK_IMPORTED_MODULE_7__[\"BackgroundStyle\"],\n  'formats/color': _formats_color__WEBPACK_IMPORTED_MODULE_8__[\"ColorStyle\"],\n  'formats/font': _formats_font__WEBPACK_IMPORTED_MODULE_9__[\"FontClass\"],\n  'formats/size': _formats_size__WEBPACK_IMPORTED_MODULE_10__[\"SizeClass\"],\n  'formats/blockquote': _formats_blockquote__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  'formats/code-block': _formats_code__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n  'formats/header': _formats_header__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  'formats/list': _formats_list__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  'formats/bold': _formats_bold__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n  'formats/code': _formats_code__WEBPACK_IMPORTED_MODULE_20__[\"Code\"],\n  'formats/italic': _formats_italic__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  'formats/link': _formats_link__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n  'formats/script': _formats_script__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n  'formats/strike': _formats_strike__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n  'formats/underline': _formats_underline__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n  'formats/formula': _formats_formula__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n  'formats/image': _formats_image__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n  'formats/video': _formats_video__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n  'modules/syntax': _modules_syntax__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\n  'modules/table': _modules_table__WEBPACK_IMPORTED_MODULE_22__[\"default\"],\n  'modules/toolbar': _modules_toolbar__WEBPACK_IMPORTED_MODULE_23__[\"default\"],\n  'themes/bubble': _themes_bubble__WEBPACK_IMPORTED_MODULE_29__[\"default\"],\n  'themes/snow': _themes_snow__WEBPACK_IMPORTED_MODULE_30__[\"default\"],\n  'ui/icons': _ui_icons__WEBPACK_IMPORTED_MODULE_24__[\"default\"],\n  'ui/picker': _ui_picker__WEBPACK_IMPORTED_MODULE_25__[\"default\"],\n  'ui/icon-picker': _ui_icon_picker__WEBPACK_IMPORTED_MODULE_27__[\"default\"],\n  'ui/color-picker': _ui_color_picker__WEBPACK_IMPORTED_MODULE_26__[\"default\"],\n  'ui/tooltip': _ui_tooltip__WEBPACK_IMPORTED_MODULE_28__[\"default\"]\n}, true);\n/* harmony default export */ __webpack_exports__[\"default\"] = (_core__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Quill/./quill.js?");

	/***/ }),

	/***/ "./themes/base.js":
	/*!************************!*\
	  !*** ./themes/base.js ***!
	  \************************/
	/*! exports provided: BaseTooltip, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseTooltip\", function() { return BaseTooltip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BaseTheme; });\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ \"./core/emitter.js\");\n/* harmony import */ var _core_theme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/theme */ \"./core/theme.js\");\n/* harmony import */ var _ui_color_picker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/color-picker */ \"./ui/color-picker.js\");\n/* harmony import */ var _ui_icon_picker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/icon-picker */ \"./ui/icon-picker.js\");\n/* harmony import */ var _ui_picker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/picker */ \"./ui/picker.js\");\n/* harmony import */ var _ui_tooltip__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/tooltip */ \"./ui/tooltip.js\");\n\n\n\n\n\n\n\nconst ALIGNS = [false, 'center', 'right', 'justify'];\nconst COLORS = ['#000000', '#e60000', '#ff9900', '#ffff00', '#008a00', '#0066cc', '#9933ff', '#ffffff', '#facccc', '#ffebcc', '#ffffcc', '#cce8cc', '#cce0f5', '#ebd6ff', '#bbbbbb', '#f06666', '#ffc266', '#ffff66', '#66b966', '#66a3e0', '#c285ff', '#888888', '#a10000', '#b26b00', '#b2b200', '#006100', '#0047b2', '#6b24b2', '#444444', '#5c0000', '#663d00', '#666600', '#003700', '#002966', '#3d1466'];\nconst FONTS = [false, 'serif', 'monospace'];\nconst HEADERS = ['1', '2', '3', false];\nconst SIZES = ['small', false, 'large', 'huge'];\n\nclass BaseTheme extends _core_theme__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(quill, options) {\n    super(quill, options);\n\n    const listener = e => {\n      if (!document.body.contains(quill.root)) {\n        document.body.removeEventListener('click', listener);\n        return;\n      }\n\n      if (this.tooltip != null && !this.tooltip.root.contains(e.target) && document.activeElement !== this.tooltip.textbox && !this.quill.hasFocus()) {\n        this.tooltip.hide();\n      }\n\n      if (this.pickers != null) {\n        this.pickers.forEach(picker => {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n\n    quill.emitter.listenDOM('click', document.body, listener);\n  }\n\n  addModule(name) {\n    const module = super.addModule(name);\n\n    if (name === 'toolbar') {\n      this.extendToolbar(module);\n    }\n\n    return module;\n  }\n\n  buildButtons(buttons, icons) {\n    Array.from(buttons).forEach(button => {\n      const className = button.getAttribute('class') || '';\n      className.split(/\\s+/).forEach(name => {\n        if (!name.startsWith('ql-')) return;\n        name = name.slice('ql-'.length);\n        if (icons[name] == null) return;\n\n        if (name === 'direction') {\n          button.innerHTML = icons[name][''] + icons[name].rtl;\n        } else if (typeof icons[name] === 'string') {\n          button.innerHTML = icons[name];\n        } else {\n          const value = button.value || '';\n\n          if (value != null && icons[name][value]) {\n            button.innerHTML = icons[name][value];\n          }\n        }\n      });\n    });\n  }\n\n  buildPickers(selects, icons) {\n    this.pickers = Array.from(selects).map(select => {\n      if (select.classList.contains('ql-align')) {\n        if (select.querySelector('option') == null) {\n          fillSelect(select, ALIGNS);\n        }\n\n        return new _ui_icon_picker__WEBPACK_IMPORTED_MODULE_4__[\"default\"](select, icons.align);\n      }\n\n      if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n        const format = select.classList.contains('ql-background') ? 'background' : 'color';\n\n        if (select.querySelector('option') == null) {\n          fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n        }\n\n        return new _ui_color_picker__WEBPACK_IMPORTED_MODULE_3__[\"default\"](select, icons[format]);\n      }\n\n      if (select.querySelector('option') == null) {\n        if (select.classList.contains('ql-font')) {\n          fillSelect(select, FONTS);\n        } else if (select.classList.contains('ql-header')) {\n          fillSelect(select, HEADERS);\n        } else if (select.classList.contains('ql-size')) {\n          fillSelect(select, SIZES);\n        }\n      }\n\n      return new _ui_picker__WEBPACK_IMPORTED_MODULE_5__[\"default\"](select);\n    });\n\n    const update = () => {\n      this.pickers.forEach(picker => {\n        picker.update();\n      });\n    };\n\n    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.EDITOR_CHANGE, update);\n  }\n\n}\n\nBaseTheme.DEFAULTS = extend__WEBPACK_IMPORTED_MODULE_0___default()(true, {}, _core_theme__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n\n        image() {\n          let fileInput = this.container.querySelector('input.ql-image[type=file]');\n\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', this.quill.uploader.options.mimetypes.join(', '));\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', () => {\n              const range = this.quill.getSelection(true);\n              this.quill.uploader.upload(range, fileInput.files);\n              fileInput.value = '';\n            });\n            this.container.appendChild(fileInput);\n          }\n\n          fileInput.click();\n        },\n\n        video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n\n      }\n    }\n  }\n});\n\nclass BaseTooltip extends _ui_tooltip__WEBPACK_IMPORTED_MODULE_6__[\"default\"] {\n  constructor(quill, boundsContainer) {\n    super(quill, boundsContainer);\n    this.textbox = this.root.querySelector('input[type=\"text\"]');\n    this.listen();\n  }\n\n  listen() {\n    this.textbox.addEventListener('keydown', event => {\n      if (event.key === 'Enter') {\n        this.save();\n        event.preventDefault();\n      } else if (event.key === 'Escape') {\n        this.cancel();\n        event.preventDefault();\n      }\n    });\n  }\n\n  cancel() {\n    this.hide();\n  }\n\n  edit(mode = 'link', preview = null) {\n    this.root.classList.remove('ql-hidden');\n    this.root.classList.add('ql-editing');\n\n    if (preview != null) {\n      this.textbox.value = preview;\n    } else if (mode !== this.root.getAttribute('data-mode')) {\n      this.textbox.value = '';\n    }\n\n    this.position(this.quill.getBounds(this.quill.selection.savedRange));\n    this.textbox.select();\n    this.textbox.setAttribute('placeholder', this.textbox.getAttribute(\"data-\".concat(mode)) || '');\n    this.root.setAttribute('data-mode', mode);\n  }\n\n  restoreFocus() {\n    const {\n      scrollTop\n    } = this.quill.scrollingContainer;\n    this.quill.focus();\n    this.quill.scrollingContainer.scrollTop = scrollTop;\n  }\n\n  save() {\n    let {\n      value\n    } = this.textbox;\n\n    switch (this.root.getAttribute('data-mode')) {\n      case 'link':\n        {\n          const {\n            scrollTop\n          } = this.quill.root;\n\n          if (this.linkRange) {\n            this.quill.formatText(this.linkRange, 'link', value, _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n            delete this.linkRange;\n          } else {\n            this.restoreFocus();\n            this.quill.format('link', value, _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n          }\n\n          this.quill.root.scrollTop = scrollTop;\n          break;\n        }\n\n      case 'video':\n        {\n          value = extractVideoUrl(value);\n        }\n      // eslint-disable-next-line no-fallthrough\n\n      case 'formula':\n        {\n          if (!value) break;\n          const range = this.quill.getSelection(true);\n\n          if (range != null) {\n            const index = range.index + range.length;\n            this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n\n            if (this.root.getAttribute('data-mode') === 'formula') {\n              this.quill.insertText(index + 1, ' ', _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n            }\n\n            this.quill.setSelection(index + 2, _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n          }\n\n          break;\n        }\n\n      default:\n    }\n\n    this.textbox.value = '';\n    this.hide();\n  }\n\n}\n\nfunction extractVideoUrl(url) {\n  let match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n\n  if (match) {\n    return \"\".concat(match[1] || 'https', \"://www.youtube.com/embed/\").concat(match[2], \"?showinfo=0\");\n  } // eslint-disable-next-line no-cond-assign\n\n\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    return \"\".concat(match[1] || 'https', \"://player.vimeo.com/video/\").concat(match[2], \"/\");\n  }\n\n  return url;\n}\n\nfunction fillSelect(select, values, defaultValue = false) {\n  values.forEach(value => {\n    const option = document.createElement('option');\n\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n\n    select.appendChild(option);\n  });\n}\n\n\n\n//# sourceURL=webpack://Quill/./themes/base.js?");

	/***/ }),

	/***/ "./themes/bubble.js":
	/*!**************************!*\
	  !*** ./themes/bubble.js ***!
	  \**************************/
	/*! exports provided: BubbleTooltip, default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BubbleTooltip\", function() { return BubbleTooltip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return BubbleTheme; });\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ \"./core/emitter.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base */ \"./themes/base.js\");\n/* harmony import */ var _core_selection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/selection */ \"./core/selection.js\");\n/* harmony import */ var _ui_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/icons */ \"./ui/icons.js\");\n\n\n\n\n\nconst TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{\n  header: 1\n}, {\n  header: 2\n}, 'blockquote']];\n\nclass BubbleTooltip extends _base__WEBPACK_IMPORTED_MODULE_2__[\"BaseTooltip\"] {\n  constructor(quill, bounds) {\n    super(quill, bounds);\n    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.EDITOR_CHANGE, (type, range, oldRange, source) => {\n      if (type !== _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SELECTION_CHANGE) return;\n\n      if (range != null && range.length > 0 && source === _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER) {\n        this.show(); // Lock our width so we will expand beyond our offsetParent boundaries\n\n        this.root.style.left = '0px';\n        this.root.style.width = '';\n        this.root.style.width = \"\".concat(this.root.offsetWidth, \"px\");\n        const lines = this.quill.getLines(range.index, range.length);\n\n        if (lines.length === 1) {\n          this.position(this.quill.getBounds(range));\n        } else {\n          const lastLine = lines[lines.length - 1];\n          const index = this.quill.getIndex(lastLine);\n          const length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          const indexBounds = this.quill.getBounds(new _core_selection__WEBPACK_IMPORTED_MODULE_3__[\"Range\"](index, length));\n          this.position(indexBounds);\n        }\n      } else if (document.activeElement !== this.textbox && this.quill.hasFocus()) {\n        this.hide();\n      }\n    });\n  }\n\n  listen() {\n    super.listen();\n    this.root.querySelector('.ql-close').addEventListener('click', () => {\n      this.root.classList.remove('ql-editing');\n    });\n    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SCROLL_OPTIMIZE, () => {\n      // Let selection be restored by toolbar handlers before repositioning\n      setTimeout(() => {\n        if (this.root.classList.contains('ql-hidden')) return;\n        const range = this.quill.getSelection();\n\n        if (range != null) {\n          this.position(this.quill.getBounds(range));\n        }\n      }, 1);\n    });\n  }\n\n  cancel() {\n    this.show();\n  }\n\n  position(reference) {\n    const shift = super.position(reference);\n    const arrow = this.root.querySelector('.ql-tooltip-arrow');\n    arrow.style.marginLeft = '';\n\n    if (shift !== 0) {\n      arrow.style.marginLeft = \"\".concat(-1 * shift - arrow.offsetWidth / 2, \"px\");\n    }\n\n    return shift;\n  }\n\n}\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nclass BubbleTheme extends _base__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(quill, options) {\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    super(quill, options);\n    this.quill.container.classList.add('ql-bubble');\n  }\n\n  extendToolbar(toolbar) {\n    this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n    this.tooltip.root.appendChild(toolbar.container);\n    this.buildButtons(toolbar.container.querySelectorAll('button'), _ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    this.buildPickers(toolbar.container.querySelectorAll('select'), _ui_icons__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n  }\n\n}\n\nBubbleTheme.DEFAULTS = extend__WEBPACK_IMPORTED_MODULE_0___default()(true, {}, _base__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n\n      }\n    }\n  }\n});\n\n\n//# sourceURL=webpack://Quill/./themes/bubble.js?");

	/***/ }),

	/***/ "./themes/snow.js":
	/*!************************!*\
	  !*** ./themes/snow.js ***!
	  \************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ \"./node_modules/extend/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(extend__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _core_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/emitter */ \"./core/emitter.js\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base */ \"./themes/base.js\");\n/* harmony import */ var _formats_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../formats/link */ \"./formats/link.js\");\n/* harmony import */ var _core_selection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/selection */ \"./core/selection.js\");\n/* harmony import */ var _ui_icons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/icons */ \"./ui/icons.js\");\n\n\n\n\n\n\nconst TOOLBAR_CONFIG = [[{\n  header: ['1', '2', '3', false]\n}], ['bold', 'italic', 'underline', 'link'], [{\n  list: 'ordered'\n}, {\n  list: 'bullet'\n}], ['clean']];\n\nclass SnowTooltip extends _base__WEBPACK_IMPORTED_MODULE_2__[\"BaseTooltip\"] {\n  constructor(quill, bounds) {\n    super(quill, bounds);\n    this.preview = this.root.querySelector('a.ql-preview');\n  }\n\n  listen() {\n    super.listen();\n    this.root.querySelector('a.ql-action').addEventListener('click', event => {\n      if (this.root.classList.contains('ql-editing')) {\n        this.save();\n      } else {\n        this.edit('link', this.preview.textContent);\n      }\n\n      event.preventDefault();\n    });\n    this.root.querySelector('a.ql-remove').addEventListener('click', event => {\n      if (this.linkRange != null) {\n        const range = this.linkRange;\n        this.restoreFocus();\n        this.quill.formatText(range, 'link', false, _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER);\n        delete this.linkRange;\n      }\n\n      event.preventDefault();\n      this.hide();\n    });\n    this.quill.on(_core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].events.SELECTION_CHANGE, (range, oldRange, source) => {\n      if (range == null) return;\n\n      if (range.length === 0 && source === _core_emitter__WEBPACK_IMPORTED_MODULE_1__[\"default\"].sources.USER) {\n        const [link, offset] = this.quill.scroll.descendant(_formats_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], range.index);\n\n        if (link != null) {\n          this.linkRange = new _core_selection__WEBPACK_IMPORTED_MODULE_4__[\"Range\"](range.index - offset, link.length());\n          const preview = _formats_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"].formats(link.domNode);\n          this.preview.textContent = preview;\n          this.preview.setAttribute('href', preview);\n          this.show();\n          this.position(this.quill.getBounds(this.linkRange));\n          return;\n        }\n      } else {\n        delete this.linkRange;\n      }\n\n      this.hide();\n    });\n  }\n\n  show() {\n    super.show();\n    this.root.removeAttribute('data-mode');\n  }\n\n}\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nclass SnowTheme extends _base__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n  constructor(quill, options) {\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    super(quill, options);\n    this.quill.container.classList.add('ql-snow');\n  }\n\n  extendToolbar(toolbar) {\n    toolbar.container.classList.add('ql-snow');\n    this.buildButtons(toolbar.container.querySelectorAll('button'), _ui_icons__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.buildPickers(toolbar.container.querySelectorAll('select'), _ui_icons__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n    this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n\n    if (toolbar.container.querySelector('.ql-link')) {\n      this.quill.keyboard.addBinding({\n        key: 'k',\n        shortKey: true\n      }, (range, context) => {\n        toolbar.handlers.link.call(toolbar, !context.format.link);\n      });\n    }\n  }\n\n}\n\nSnowTheme.DEFAULTS = extend__WEBPACK_IMPORTED_MODULE_0___default()(true, {}, _base__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link(value) {\n          if (value) {\n            const range = this.quill.getSelection();\n            if (range == null || range.length === 0) return;\n            let preview = this.quill.getText(range);\n\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = \"mailto:\".concat(preview);\n            }\n\n            const {\n              tooltip\n            } = this.quill.theme;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n\n      }\n    }\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (SnowTheme);\n\n//# sourceURL=webpack://Quill/./themes/snow.js?");

	/***/ }),

	/***/ "./ui/color-picker.js":
	/*!****************************!*\
	  !*** ./ui/color-picker.js ***!
	  \****************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./picker */ \"./ui/picker.js\");\n\n\nclass ColorPicker extends _picker__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(select, label) {\n    super(select);\n    this.label.innerHTML = label;\n    this.container.classList.add('ql-color-picker');\n    Array.from(this.container.querySelectorAll('.ql-picker-item')).slice(0, 7).forEach(item => {\n      item.classList.add('ql-primary');\n    });\n  }\n\n  buildItem(option) {\n    const item = super.buildItem(option);\n    item.style.backgroundColor = option.getAttribute('value') || '';\n    return item;\n  }\n\n  selectItem(item, trigger) {\n    super.selectItem(item, trigger);\n    const colorLabel = this.label.querySelector('.ql-color-label');\n    const value = item ? item.getAttribute('data-value') || '' : '';\n\n    if (colorLabel) {\n      if (colorLabel.tagName === 'line') {\n        colorLabel.style.stroke = value;\n      } else {\n        colorLabel.style.fill = value;\n      }\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColorPicker);\n\n//# sourceURL=webpack://Quill/./ui/color-picker.js?");

	/***/ }),

	/***/ "./ui/icon-picker.js":
	/*!***************************!*\
	  !*** ./ui/icon-picker.js ***!
	  \***************************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _picker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./picker */ \"./ui/picker.js\");\n\n\nclass IconPicker extends _picker__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(select, icons) {\n    super(select);\n    this.container.classList.add('ql-icon-picker');\n    Array.from(this.container.querySelectorAll('.ql-picker-item')).forEach(item => {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    this.defaultItem = this.container.querySelector('.ql-selected');\n    this.selectItem(this.defaultItem);\n  }\n\n  selectItem(target, trigger) {\n    super.selectItem(target, trigger);\n    const item = target || this.defaultItem;\n    if (this.label.innerHTML === item.innerHTML) return;\n    this.label.innerHTML = item.innerHTML;\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (IconPicker);\n\n//# sourceURL=webpack://Quill/./ui/icon-picker.js?");

	/***/ }),

	/***/ "./ui/icons.js":
	/*!*********************!*\
	  !*** ./ui/icons.js ***!
	  \*********************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets/icons/align-left.svg */ \"./assets/icons/align-left.svg\");\n/* harmony import */ var _assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../assets/icons/align-center.svg */ \"./assets/icons/align-center.svg\");\n/* harmony import */ var _assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../assets/icons/align-right.svg */ \"./assets/icons/align-right.svg\");\n/* harmony import */ var _assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../assets/icons/align-justify.svg */ \"./assets/icons/align-justify.svg\");\n/* harmony import */ var _assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../assets/icons/background.svg */ \"./assets/icons/background.svg\");\n/* harmony import */ var _assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../assets/icons/blockquote.svg */ \"./assets/icons/blockquote.svg\");\n/* harmony import */ var _assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../assets/icons/bold.svg */ \"./assets/icons/bold.svg\");\n/* harmony import */ var _assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../assets/icons/clean.svg */ \"./assets/icons/clean.svg\");\n/* harmony import */ var _assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../assets/icons/code.svg */ \"./assets/icons/code.svg\");\n/* harmony import */ var _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../assets/icons/color.svg */ \"./assets/icons/color.svg\");\n/* harmony import */ var _assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../assets/icons/direction-ltr.svg */ \"./assets/icons/direction-ltr.svg\");\n/* harmony import */ var _assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../assets/icons/direction-rtl.svg */ \"./assets/icons/direction-rtl.svg\");\n/* harmony import */ var _assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../assets/icons/formula.svg */ \"./assets/icons/formula.svg\");\n/* harmony import */ var _assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../assets/icons/header.svg */ \"./assets/icons/header.svg\");\n/* harmony import */ var _assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../assets/icons/header-2.svg */ \"./assets/icons/header-2.svg\");\n/* harmony import */ var _assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../assets/icons/italic.svg */ \"./assets/icons/italic.svg\");\n/* harmony import */ var _assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../assets/icons/image.svg */ \"./assets/icons/image.svg\");\n/* harmony import */ var _assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../assets/icons/indent.svg */ \"./assets/icons/indent.svg\");\n/* harmony import */ var _assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../assets/icons/outdent.svg */ \"./assets/icons/outdent.svg\");\n/* harmony import */ var _assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../assets/icons/link.svg */ \"./assets/icons/link.svg\");\n/* harmony import */ var _assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../assets/icons/list-bullet.svg */ \"./assets/icons/list-bullet.svg\");\n/* harmony import */ var _assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony import */ var _assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../assets/icons/list-check.svg */ \"./assets/icons/list-check.svg\");\n/* harmony import */ var _assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21__);\n/* harmony import */ var _assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../assets/icons/list-ordered.svg */ \"./assets/icons/list-ordered.svg\");\n/* harmony import */ var _assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22__);\n/* harmony import */ var _assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../assets/icons/subscript.svg */ \"./assets/icons/subscript.svg\");\n/* harmony import */ var _assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23__);\n/* harmony import */ var _assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../assets/icons/superscript.svg */ \"./assets/icons/superscript.svg\");\n/* harmony import */ var _assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var _assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../assets/icons/strike.svg */ \"./assets/icons/strike.svg\");\n/* harmony import */ var _assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../assets/icons/table.svg */ \"./assets/icons/table.svg\");\n/* harmony import */ var _assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var _assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../assets/icons/underline.svg */ \"./assets/icons/underline.svg\");\n/* harmony import */ var _assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../assets/icons/video.svg */ \"./assets/icons/video.svg\");\n/* harmony import */ var _assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  align: {\n    '': _assets_icons_align_left_svg__WEBPACK_IMPORTED_MODULE_0___default.a,\n    center: _assets_icons_align_center_svg__WEBPACK_IMPORTED_MODULE_1___default.a,\n    right: _assets_icons_align_right_svg__WEBPACK_IMPORTED_MODULE_2___default.a,\n    justify: _assets_icons_align_justify_svg__WEBPACK_IMPORTED_MODULE_3___default.a\n  },\n  background: _assets_icons_background_svg__WEBPACK_IMPORTED_MODULE_4___default.a,\n  blockquote: _assets_icons_blockquote_svg__WEBPACK_IMPORTED_MODULE_5___default.a,\n  bold: _assets_icons_bold_svg__WEBPACK_IMPORTED_MODULE_6___default.a,\n  clean: _assets_icons_clean_svg__WEBPACK_IMPORTED_MODULE_7___default.a,\n  code: _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8___default.a,\n  'code-block': _assets_icons_code_svg__WEBPACK_IMPORTED_MODULE_8___default.a,\n  color: _assets_icons_color_svg__WEBPACK_IMPORTED_MODULE_9___default.a,\n  direction: {\n    '': _assets_icons_direction_ltr_svg__WEBPACK_IMPORTED_MODULE_10___default.a,\n    rtl: _assets_icons_direction_rtl_svg__WEBPACK_IMPORTED_MODULE_11___default.a\n  },\n  formula: _assets_icons_formula_svg__WEBPACK_IMPORTED_MODULE_12___default.a,\n  header: {\n    '1': _assets_icons_header_svg__WEBPACK_IMPORTED_MODULE_13___default.a,\n    '2': _assets_icons_header_2_svg__WEBPACK_IMPORTED_MODULE_14___default.a\n  },\n  italic: _assets_icons_italic_svg__WEBPACK_IMPORTED_MODULE_15___default.a,\n  image: _assets_icons_image_svg__WEBPACK_IMPORTED_MODULE_16___default.a,\n  indent: {\n    '+1': _assets_icons_indent_svg__WEBPACK_IMPORTED_MODULE_17___default.a,\n    '-1': _assets_icons_outdent_svg__WEBPACK_IMPORTED_MODULE_18___default.a\n  },\n  link: _assets_icons_link_svg__WEBPACK_IMPORTED_MODULE_19___default.a,\n  list: {\n    bullet: _assets_icons_list_bullet_svg__WEBPACK_IMPORTED_MODULE_20___default.a,\n    check: _assets_icons_list_check_svg__WEBPACK_IMPORTED_MODULE_21___default.a,\n    ordered: _assets_icons_list_ordered_svg__WEBPACK_IMPORTED_MODULE_22___default.a\n  },\n  script: {\n    sub: _assets_icons_subscript_svg__WEBPACK_IMPORTED_MODULE_23___default.a,\n    super: _assets_icons_superscript_svg__WEBPACK_IMPORTED_MODULE_24___default.a\n  },\n  strike: _assets_icons_strike_svg__WEBPACK_IMPORTED_MODULE_25___default.a,\n  table: _assets_icons_table_svg__WEBPACK_IMPORTED_MODULE_26___default.a,\n  underline: _assets_icons_underline_svg__WEBPACK_IMPORTED_MODULE_27___default.a,\n  video: _assets_icons_video_svg__WEBPACK_IMPORTED_MODULE_28___default.a\n});\n\n//# sourceURL=webpack://Quill/./ui/icons.js?");

	/***/ }),

	/***/ "./ui/picker.js":
	/*!**********************!*\
	  !*** ./ui/picker.js ***!
	  \**********************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets/icons/dropdown.svg */ \"./assets/icons/dropdown.svg\");\n/* harmony import */ var _assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0__);\n\nlet optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nclass Picker {\n  constructor(select) {\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n    this.label.addEventListener('mousedown', () => {\n      this.togglePicker();\n    });\n    this.label.addEventListener('keydown', event => {\n      switch (event.key) {\n        case 'Enter':\n          this.togglePicker();\n          break;\n\n        case 'Escape':\n          this.escape();\n          event.preventDefault();\n          break;\n\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  togglePicker() {\n    this.container.classList.toggle('ql-expanded'); // Toggle aria-expanded and aria-hidden to make the picker accessible\n\n    toggleAriaAttribute(this.label, 'aria-expanded');\n    toggleAriaAttribute(this.options, 'aria-hidden');\n  }\n\n  buildItem(option) {\n    const item = document.createElement('span');\n    item.tabIndex = '0';\n    item.setAttribute('role', 'button');\n    item.classList.add('ql-picker-item');\n\n    if (option.hasAttribute('value')) {\n      item.setAttribute('data-value', option.getAttribute('value'));\n    }\n\n    if (option.textContent) {\n      item.setAttribute('data-label', option.textContent);\n    }\n\n    item.addEventListener('click', () => {\n      this.selectItem(item, true);\n    });\n    item.addEventListener('keydown', event => {\n      switch (event.key) {\n        case 'Enter':\n          this.selectItem(item, true);\n          event.preventDefault();\n          break;\n\n        case 'Escape':\n          this.escape();\n          event.preventDefault();\n          break;\n\n        default:\n      }\n    });\n    return item;\n  }\n\n  buildLabel() {\n    const label = document.createElement('span');\n    label.classList.add('ql-picker-label');\n    label.innerHTML = _assets_icons_dropdown_svg__WEBPACK_IMPORTED_MODULE_0___default.a;\n    label.tabIndex = '0';\n    label.setAttribute('role', 'button');\n    label.setAttribute('aria-expanded', 'false');\n    this.container.appendChild(label);\n    return label;\n  }\n\n  buildOptions() {\n    const options = document.createElement('span');\n    options.classList.add('ql-picker-options'); // Don't want screen readers to read this until options are visible\n\n    options.setAttribute('aria-hidden', 'true');\n    options.tabIndex = '-1'; // Need a unique id for aria-controls\n\n    options.id = \"ql-picker-options-\".concat(optionsCounter);\n    optionsCounter += 1;\n    this.label.setAttribute('aria-controls', options.id);\n    this.options = options;\n    Array.from(this.select.options).forEach(option => {\n      const item = this.buildItem(option);\n      options.appendChild(item);\n\n      if (option.selected === true) {\n        this.selectItem(item);\n      }\n    });\n    this.container.appendChild(options);\n  }\n\n  buildPicker() {\n    Array.from(this.select.attributes).forEach(item => {\n      this.container.setAttribute(item.name, item.value);\n    });\n    this.container.classList.add('ql-picker');\n    this.label = this.buildLabel();\n    this.buildOptions();\n  }\n\n  escape() {\n    // Close menu and return focus to trigger label\n    this.close(); // Need setTimeout for accessibility to ensure that the browser executes\n    // focus on the next process thread and after any DOM content changes\n\n    setTimeout(() => this.label.focus(), 1);\n  }\n\n  close() {\n    this.container.classList.remove('ql-expanded');\n    this.label.setAttribute('aria-expanded', 'false');\n    this.options.setAttribute('aria-hidden', 'true');\n  }\n\n  selectItem(item, trigger = false) {\n    const selected = this.container.querySelector('.ql-selected');\n    if (item === selected) return;\n\n    if (selected != null) {\n      selected.classList.remove('ql-selected');\n    }\n\n    if (item == null) return;\n    item.classList.add('ql-selected');\n    this.select.selectedIndex = Array.from(item.parentNode.children).indexOf(item);\n\n    if (item.hasAttribute('data-value')) {\n      this.label.setAttribute('data-value', item.getAttribute('data-value'));\n    } else {\n      this.label.removeAttribute('data-value');\n    }\n\n    if (item.hasAttribute('data-label')) {\n      this.label.setAttribute('data-label', item.getAttribute('data-label'));\n    } else {\n      this.label.removeAttribute('data-label');\n    }\n\n    if (trigger) {\n      this.select.dispatchEvent(new Event('change'));\n      this.close();\n    }\n  }\n\n  update() {\n    let option;\n\n    if (this.select.selectedIndex > -1) {\n      const item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n      option = this.select.options[this.select.selectedIndex];\n      this.selectItem(item);\n    } else {\n      this.selectItem(null);\n    }\n\n    const isActive = option != null && option !== this.select.querySelector('option[selected]');\n    this.label.classList.toggle('ql-active', isActive);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Picker);\n\n//# sourceURL=webpack://Quill/./ui/picker.js?");

	/***/ }),

	/***/ "./ui/tooltip.js":
	/*!***********************!*\
	  !*** ./ui/tooltip.js ***!
	  \***********************/
	/*! exports provided: default */
	/***/ (function(module, __webpack_exports__, __webpack_require__) {
	eval("__webpack_require__.r(__webpack_exports__);\nclass Tooltip {\n  constructor(quill, boundsContainer) {\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', () => {\n        this.root.style.marginTop = \"\".concat(-1 * this.quill.root.scrollTop, \"px\");\n      });\n    }\n\n    this.hide();\n  }\n\n  hide() {\n    this.root.classList.add('ql-hidden');\n  }\n\n  position(reference) {\n    const left = reference.left + reference.width / 2 - this.root.offsetWidth / 2; // root.scrollTop should be 0 if scrollContainer !== root\n\n    const top = reference.bottom + this.quill.root.scrollTop;\n    this.root.style.left = \"\".concat(left, \"px\");\n    this.root.style.top = \"\".concat(top, \"px\");\n    this.root.classList.remove('ql-flip');\n    const containerBounds = this.boundsContainer.getBoundingClientRect();\n    const rootBounds = this.root.getBoundingClientRect();\n    let shift = 0;\n\n    if (rootBounds.right > containerBounds.right) {\n      shift = containerBounds.right - rootBounds.right;\n      this.root.style.left = \"\".concat(left + shift, \"px\");\n    }\n\n    if (rootBounds.left < containerBounds.left) {\n      shift = containerBounds.left - rootBounds.left;\n      this.root.style.left = \"\".concat(left + shift, \"px\");\n    }\n\n    if (rootBounds.bottom > containerBounds.bottom) {\n      const height = rootBounds.bottom - rootBounds.top;\n      const verticalShift = reference.bottom - reference.top + height;\n      this.root.style.top = \"\".concat(top - verticalShift, \"px\");\n      this.root.classList.add('ql-flip');\n    }\n\n    return shift;\n  }\n\n  show() {\n    this.root.classList.remove('ql-editing');\n    this.root.classList.remove('ql-hidden');\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Tooltip);\n\n//# sourceURL=webpack://Quill/./ui/tooltip.js?");

	/***/ }),

	/***/ 0:
	/*!************************!*\
	  !*** multi ./quill.js ***!
	  \************************/
	/*! no static exports found */
	/***/ (function(module, exports, __webpack_require__) {

	eval("module.exports = __webpack_require__(/*! ./quill.js */\"./quill.js\");\n\n\n//# sourceURL=webpack://Quill/multi_./quill.js?");

	/***/ }),

	/***/ 1:
	/*!********************************!*\
	  !*** ./util.inspect (ignored) ***!
	  \********************************/
	/*! no static exports found */
	/***/ (function(module, exports) {

	eval("/* (ignored) */\n\n//# sourceURL=webpack://Quill/./util.inspect_(ignored)?");

	/***/ })

	/******/ })["default"];
	});
	});

	var Quill = unwrapExports(quill);

	var imageResize_min = createCommonjsModule(function (module, exports) {
	!function(t,e){module.exports=e();}(commonjsGlobal,function(){return function(t){function e(r){if(n[r]){ return n[r].exports; }var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r});},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=41)}([function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n;},function(t,e,n){var r=n(23),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i;},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n;},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1]);}}var o=n(82),i=n(83),l=n(84),a=n(85),s=n(86);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=l,r.prototype.has=a,r.prototype.set=s,t.exports=r;},function(t,e,n){function r(t,e){for(var n=t.length;n--;){ if(o(t[n][0],e)){ return n; } }return -1}var o=n(8);t.exports=r;},function(t,e,n){function r(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):l(t)}var o=n(17),i=n(71),l=n(94),a="[object Null]",s="[object Undefined]",u=o?o.toStringTag:void 0;t.exports=r;},function(t,e,n){function r(t,e){var n=t.__data__;return o(e)?n["string"==typeof e?"string":"hash"]:n.map}var o=n(80);t.exports=r;},function(t,e,n){var r=n(11),o=r(Object,"create");t.exports=o;},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}n.d(e,"a",function(){return o});var o=function t(e){r(this,t),this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=e.overlay,this.img=e.img,this.options=e.options,this.requestUpdate=e.onUpdate;};},function(t,e,n){function r(t,e,n){"__proto__"==e&&o?o(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n;}var o=n(22);t.exports=r;},function(t,e,n){function r(t,e){var n=i(t,e);return o(n)?n:void 0}var o=n(55),i=n(72);t.exports=r;},function(t,e,n){function r(t){return null!=t&&i(t.length)&&!o(t)}var o=n(13),i=n(32);t.exports=r;},function(t,e,n){function r(t){if(!i(t)){ return !1; }var e=o(t);return e==a||e==s||e==l||e==u}var o=n(5),i=n(0),l="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=r;},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t};},function(t,e,n){(function(e){/*!
	 * Quill Editor v1.3.6
	 * https://quilljs.com/
	 * Copyright (c) 2014, Jason Chen
	 * Copyright (c) 2013, salesforce.com
	 */
	!function(e,n){t.exports=n();}("undefined"!=typeof self&&self,function(){return function(t){function e(r){if(n[r]){ return n[r].exports; }var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r});},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=109)}([function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),l=n(45),a=n(46),s=n(47),u=n(48),c=n(49),f=n(12),h=n(32),p=n(33),d=n(31),y=n(1),v={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:l.default,Block:s.default,Inline:a.default,Text:c.default,Attributor:{Attribute:f.default,Class:h.default,Style:p.default,Store:d.default}};e.default=v;},function(t,e,n){function r(t,e){var n=i(t);if(null==n){ throw new s("Unable to create "+t+" blot"); }var r=n;return new r(t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e),e)}function o(t,n){return void 0===n&&(n=!1),null==t?null:null!=t[e.DATA_KEY]?t[e.DATA_KEY].blot:n?o(t.parentNode,n):null}function i(t,e){void 0===e&&(e=p.ANY);var n;if("string"==typeof t){ n=h[t]||u[t]; }else if(t instanceof Text||t.nodeType===Node.TEXT_NODE){ n=h.text; }else if("number"==typeof t){ t&p.LEVEL&p.BLOCK?n=h.block:t&p.LEVEL&p.INLINE&&(n=h.inline); }else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var o in r){ if(n=c[r[o]]){ break; } }n=n||f[t.tagName];}return null==n?null:e&p.LEVEL&n.scope&&e&p.TYPE&n.scope?n:null}function l(){
	var arguments$1 = arguments;
	for(var t=[],e=0;e<arguments.length;e++){ t[e]=arguments$1[e]; }if(t.length>1){ return t.map(function(t){return l(t)}); }var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName){ throw new s("Invalid definition"); }if("abstract"===n.blotName){ throw new s("Cannot register abstract class"); }if(h[n.blotName||n.attrName]=n,"string"==typeof n.keyName){ u[n.keyName]=n; }else if(null!=n.className&&(c[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map(function(t){return t.toUpperCase()}):n.tagName=n.tagName.toUpperCase();var r=Array.isArray(n.tagName)?n.tagName:[n.tagName];r.forEach(function(t){null!=f[t]&&null!=n.className||(f[t]=n);});}return n}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){var n=this;return e="[Parchment] "+e,n=t.call(this,e)||this,n.message=e,n.name=n.constructor.name,n}return a(e,t),e}(Error);e.ParchmentError=s;var u={},c={},f={},h={};e.DATA_KEY="__blot";var p;!function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY";}(p=e.Scope||(e.Scope={})),e.create=r,e.find=o,e.query=i,e.register=l;},function(t,e,n){var r=n(51),o=n(11),i=n(3),l=n(20),a=String.fromCharCode(0),s=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[];};s.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},s.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},s.prototype.retain=function(t,e){if(t<=0){ return this; }var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},s.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete){ return this.ops[e-1]={delete:n.delete+t.delete},this; }if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1]))){ return this.ops.unshift(t),this; }if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert){ return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this; }if("number"==typeof t.retain&&"number"==typeof n.retain){ return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this }}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},s.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},s.prototype.filter=function(t){return this.ops.filter(t)},s.prototype.forEach=function(t){this.ops.forEach(t);},s.prototype.map=function(t){return this.ops.map(t)},s.prototype.partition=function(t){var e=[],n=[];return this.forEach(function(r){(t(r)?e:n).push(r);}),[e,n]},s.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},s.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+l.length(e):e.delete?t-e.delete:t},0)},s.prototype.length=function(){return this.reduce(function(t,e){return t+l.length(e)},0)},s.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],r=l.iterator(this.ops),o=0;o<e&&r.hasNext();){var i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=l.length(i);}return new s(n)},s.prototype.compose=function(t){for(var e=l.iterator(this.ops),n=l.iterator(t.ops),r=new s;e.hasNext()||n.hasNext();){ if("insert"===n.peekType()){ r.push(n.next()); }else if("delete"===e.peekType()){ r.push(e.next()); }else{var o=Math.min(e.peekLength(),n.peekLength()),i=e.next(o),a=n.next(o);if("number"==typeof a.retain){var u={};"number"==typeof i.retain?u.retain=o:u.insert=i.insert;var c=l.attributes.compose(i.attributes,a.attributes,"number"==typeof i.retain);c&&(u.attributes=c),r.push(u);}else{ "number"==typeof a.delete&&"number"==typeof i.retain&&r.push(a); }} }return r.chop()},s.prototype.concat=function(t){var e=new s(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},s.prototype.diff=function(t,e){if(this.ops===t.ops){ return new s; }var n=[this,t].map(function(e){return e.map(function(n){if(null!=n.insert){ return "string"==typeof n.insert?n.insert:a; }var r=e===t?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),i=new s,u=r(n[0],n[1],e),c=l.iterator(this.ops),f=l.iterator(t.ops);return u.forEach(function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),i.push(f.next(n));break;case r.DELETE:n=Math.min(e,c.peekLength()),c.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),e);var a=c.next(n),s=f.next(n);o(a.insert,s.insert)?i.retain(n,l.attributes.diff(a.attributes,s.attributes)):i.push(s).delete(n);}e-=n;}}),i.chop()},s.prototype.eachLine=function(t,e){e=e||"\n";for(var n=l.iterator(this.ops),r=new s,o=0;n.hasNext();){if("insert"!==n.peekType()){ return; }var i=n.peek(),a=l.length(i)-n.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(e,a)-a:-1;if(u<0){ r.push(n.next()); }else if(u>0){ r.push(n.next(u)); }else{if(!1===t(r,n.next(1).attributes||{},o)){ return; }o+=1,r=new s;}}r.length()>0&&t(r,{},o);},s.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t){ return this.transformPosition(t,e); }for(var n=l.iterator(this.ops),r=l.iterator(t.ops),o=new s;n.hasNext()||r.hasNext();){ if("insert"!==n.peekType()||!e&&"insert"===r.peekType()){ if("insert"===r.peekType()){ o.push(r.next()); }else{var i=Math.min(n.peekLength(),r.peekLength()),a=n.next(i),u=r.next(i);if(a.delete){ continue; }u.delete?o.push(u):o.retain(i,l.attributes.transform(a.attributes,u.attributes,e));} }else { o.retain(l.length(n.next())); } }return o.chop()},s.prototype.transformPosition=function(t,e){e=!!e;for(var n=l.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r);}return t},t.exports=s;},function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(t){return "function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},i=function(t){if(!t||"[object Object]"!==r.call(t)){ return !1; }var e=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o){ return !1; }var i;for(i in t){ }return void 0===i||n.call(t,i)};t.exports=function t(){
	var arguments$1 = arguments;
	var e,n,r,l,a,s,u=arguments[0],c=1,f=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[1]||{},c=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});c<f;++c){ if(null!=(e=arguments$1[c])){ for(n in e){ r=u[n],l=e[n],u!==l&&(h&&l&&(i(l)||(a=o(l)))?(a?(a=!1,s=r&&o(r)?r:[]):s=r&&i(r)?r:{},u[n]=t(h,s,l)):void 0!==l&&(u[n]=l)); } } }return u};},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0, f.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:a(t.parent,e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},c=n(3),f=r(c),h=n(2),p=r(h),d=n(0),y=r(d),v=n(16),b=r(v),g=n(6),m=r(g),_=n(7),O=r(_),w=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),s(e,[{key:"attach",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new y.default.Attributor.Store(this.domNode);}},{key:"delta",value:function(){return (new p.default).insert(this.value(),(0, f.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=y.default.query(t,y.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e);}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r);}},{key:"insertAt",value:function(t,n,r){if("string"==typeof n&&n.endsWith("\n")){var o=y.default.create(x.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,n.slice(0,-1));}else { u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r); }}}]),e}(y.default.Embed);w.scope=y.default.Scope.BLOCK_BLOT;var x=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return l(e,t),s(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(y.default.Leaf).reduce(function(t,e){return 0===e.length()?t:t.insert(e.value(),a(e))},new p.default).insert("\n",a(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={};}},{key:"formatAt",value:function(t,n,r,o){n<=0||(y.default.query(r,y.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,o):u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,o),this.cache={});}},{key:"insertAt",value:function(t,n,r){if(null!=r){ return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r); }if(0!==n.length){var o=n.split("\n"),i=o.shift();i.length>0&&(t<this.length()-1||null==this.children.tail?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});var l=this;o.reduce(function(t,e){return l=l.split(t,!0),l.insertAt(0,e),e.length},t+i.length);}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof b.default&&r.remove(),this.cache={};}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={};}},{key:"optimize",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={};}},{key:"path",value:function(t){return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={};}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var o=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},o}}]),e}(y.default.Block);x.blotName="block",x.tagName="P",x.defaultChild="break",x.allowedChildren=[m.default,y.default.Embed,O.default],e.bubbleFormats=a,e.BlockEmbed=w,e.default=x;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function l(t,e){if(e=(0, A.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==q.DEFAULTS.theme){if(e.theme=q.import("themes/"+e.theme),null==e.theme){ throw new Error("Invalid theme "+e.theme+". Did you register it?") }}else { e.theme=S.default; }var n=(0, A.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach(function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach(function(e){!0===t.modules[e]&&(t.modules[e]={});});});var r=Object.keys(n.modules).concat(Object.keys(e.modules)),o=r.reduce(function(t,e){var n=q.import("modules/"+e);return null==n?P.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t},{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0, A.default)(!0,{},q.DEFAULTS,{modules:o},n,e),["bounds","container","scrollingContainer"].forEach(function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]));}),e.modules=Object.keys(e.modules).reduce(function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t},{}),e}function a(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===g.default.sources.USER){ return new d.default; }var o=null==n?null:this.getSelection(),i=this.editor.delta,l=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=u(o,l,e):0!==r&&(o=u(o,n,r,e)),this.setSelection(o,g.default.sources.SILENT)),l.length()>0){var a,s=[g.default.events.TEXT_CHANGE,l,i,e];if((a=this.emitter).emit.apply(a,[g.default.events.EDITOR_CHANGE].concat(s)),e!==g.default.sources.SILENT){var c;(c=this.emitter).emit.apply(c,s);}}return l}function s(t,e,n,r,o){var i={};return "number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(o=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(o=r,r=n,n=e,e=0),"object"===(void 0===n?"undefined":c(n))?(i=n,o=r):"string"==typeof n&&(null!=r?i[n]=r:o=n),o=o||g.default.sources.API,[t,e,i,o]}function u(t,e,n,r){if(null==t){ return null; }var o=void 0,i=void 0;if(e instanceof d.default){var l=[t.index,t.index+t.length].map(function(t){return e.transformPosition(t,r!==g.default.sources.USER)}),a=f(l,2);o=a[0],i=a[1];}else{var s=[t.index,t.index+t.length].map(function(t){return t<e||t===e&&r===g.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)}),u=f(s,2);o=u[0],i=u[1];}return new x.Range(o,i-o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var p=n(2),d=r(p),y=n(14),v=r(y),b=n(8),g=r(b),m=n(9),_=r(m),O=n(0),w=r(O),x=n(15),E=r(x),k=n(3),A=r(k),j=n(10),N=r(j),T=n(34),S=r(T),P=(0, N.default)("quill"),q=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),this.options=l(e,r),this.container=this.options.container,null==this.container){ return P.error("Invalid Quill container",e); }this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new g.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new v.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(g.default.events.EDITOR_CHANGE,function(t){t===g.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank());}),this.emitter.on(g.default.events.SCROLL_UPDATE,function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;a.call(n,function(){return n.editor.update(null,e,o)},t);});var s=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(s),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable();}return h(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),N.default.level(t);}},{key:"find",value:function(t){return t.__quill||w.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&P.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach(function(r){n.register(r,t[r],e);});}else { null==this.imports[t]||r||P.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?w.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register(); }}}]),h(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;t=document.createElement("div"),t.classList.add(n);}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null);}},{key:"deleteText",value:function(t,e,n){var r=this,o=s(t,e,n),i=f(o,4);return t=i[0],e=i[1],n=i[3],a.call(this,function(){return r.editor.deleteText(t,e)},n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1);}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t);}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView();}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.default.sources.API;return a.call(this,function(){var r=n.getSelection(!0),i=new d.default;if(null==r){ return i; }if(w.default.query(t,w.default.Scope.BLOCK)){ i=n.editor.formatLine(r.index,r.length,o({},t,e)); }else{if(0===r.length){ return n.selection.format(t,e),i; }i=n.editor.formatText(r.index,r.length,o({},t,e));}return n.setSelection(r,g.default.sources.SILENT),i},r)}},{key:"formatLine",value:function(t,e,n,r,o){var i=this,l=void 0,u=s(t,e,n,r,o),c=f(u,4);return t=c[0],e=c[1],l=c[2],o=c[3],a.call(this,function(){return i.editor.formatLine(t,e,l)},o,t,0)}},{key:"formatText",value:function(t,e,n,r,o){var i=this,l=void 0,u=s(t,e,n,r,o),c=f(u,4);return t=c[0],e=c[1],l=c[2],o=c[3],a.call(this,function(){return i.editor.formatText(t,e,l)},o,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return {bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=s(t,e),r=f(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return "number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return "number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=s(t,e),r=f(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return a.call(this,function(){return o.editor.insertEmbed(e,n,r)},i,e)}},{key:"insertText",value:function(t,e,n,r,o){var i=this,l=void 0,u=s(t,0,n,r,o),c=f(u,4);return t=c[0],l=c[2],o=c[3],a.call(this,function(){return i.editor.insertText(t,e,l)},o,t,e.length)}},{key:"isEnabled",value:function(){return !this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n);}},{key:"removeFormat",value:function(t,e,n){var r=this,o=s(t,e,n),i=f(o,4);return t=i[0],e=i[1],n=i[3],a.call(this,function(){return r.editor.removeFormat(t,e)},n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer);}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.default.sources.API;return a.call(this,function(){t=new d.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),r.compose(o)},n)}},{key:"setSelection",value:function(e,n,r){if(null==e){ this.selection.setRange(null,n||t.sources.API); }else{var o=s(e,n,r),i=f(o,4);e=i[0],n=i[1],r=i[3],this.selection.setRange(new x.Range(e,n),r),r!==g.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer);}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.default.sources.API,n=(new d.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.default.sources.API;return a.call(this,function(){return t=new d.default(t),e.editor.applyDelta(t,n)},n,!0)}}]),t}();q.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},q.events=g.default.events,q.sources=g.default.sources,q.version="1.3.6",q.imports={delta:d.default,parchment:w.default,"core/module":_.default,"core/theme":S.default},e.expandConfig=l,e.overload=s,e.default=q;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=n(7),c=r(u),f=n(0),h=r(f),p=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"formatAt",value:function(t,n,r,o){if(e.compare(this.statics.blotName,r)<0&&h.default.query(r,h.default.Scope.BLOT)){var i=this.isolate(t,n);o&&i.wrap(r,o);}else { s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o); }}},{key:"optimize",value:function(t){if(s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this);}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}]),e}(h.default.Inline);p.allowedChildren=[p,h.default.Embed,c.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=p;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(a.default.Text);e.default=s;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=n(54),c=r(u),f=n(10),h=r(f),p=(0, h.default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){
	var arguments$1 = arguments;
	for(var t=arguments.length,e=Array(t),n=0;n<t;n++){ e[n]=arguments$1[n]; }[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(t){if(t.__quill&&t.__quill.emitter){var n;(n=t.__quill.emitter).handleDOM.apply(n,e);}});});});var d=function(t){function e(){o(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",p.error),t}return l(e,t),a(e,[{key:"emit",value:function(){p.log.apply(p,arguments),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments);}},{key:"handleDOM",value:function(t){
	var arguments$1 = arguments;
	for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++){ n[r-1]=arguments$1[r]; }(this.listeners[t.type]||[]).forEach(function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n));});}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n});}}]),e}(c.default);d.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},d.sources={API:"api",SILENT:"silent",USER:"user"},e.default=d;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.quill=e,this.options=n;};o.DEFAULTS={},e.default=o;},function(t,e,n){function r(t){
	var arguments$1 = arguments;
	if(i.indexOf(t)<=i.indexOf(l)){for(var e,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++){ r[o-1]=arguments$1[o]; }(e=console)[t].apply(e,r);}}function o(t){return i.reduce(function(e,n){return e[n]=r.bind(console,n,t),e},{})}Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],l="warn";r.level=o.level=function(t){l=t;},e.default=o;},function(t,e,n){function r(t){return null===t||void 0===t}function o(t){return !(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}function i(t,e,n){var i,c;if(r(t)||r(e)){ return !1; }if(t.prototype!==e.prototype){ return !1; }if(s(t)){ return !!s(e)&&(t=l.call(t),e=l.call(e),u(t,e,n)); }if(o(t)){if(!o(e)){ return !1; }if(t.length!==e.length){ return !1; }for(i=0;i<t.length;i++){ if(t[i]!==e[i]){ return !1; } }return !0}try{var f=a(t),h=a(e);}catch(t){return !1}if(f.length!=h.length){ return !1; }for(f.sort(),h.sort(),i=f.length-1;i>=0;i--){ if(f[i]!=h[i]){ return !1; } }for(i=f.length-1;i>=0;i--){ if(c=f[i],!u(t[c],e[c],n)){ return !1; } }return typeof t==typeof e}var l=Array.prototype.slice,a=n(52),s=n(53),u=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:i(t,e,n))};},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist);}return t.keys=function(t){return [].map.call(t.attributes,function(t){return t.name})},t.prototype.add=function(t,e){return !!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName);},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},c=n(2),f=r(c),h=n(0),p=r(h),d=n(4),y=r(d),v=n(6),b=r(v),g=n(7),m=r(g),_=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(b.default);_.blotName="code",_.tagName="CODE";var O=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),s(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce(function(e,n){return e.insert(n).insert("\n",t.formats())},new f.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var r=this.descendant(m.default,this.length()-1),o=a(r,1),i=o[0];null!=i&&i.deleteAt(i.length()-1,1),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);}}},{key:"formatAt",value:function(t,n,r,o){if(0!==n&&null!=p.default.query(r,p.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var l=this.newlineIndex(t,!0)+1,a=i-l+1,s=this.isolate(l,a),u=s.next;s.format(r,o),u instanceof e&&u.formatAt(0,t-l+n-a,r,o);}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var r=this.descendant(m.default,t),o=a(r,2),i=o[0],l=o[1];i.insertAt(l,e);}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){ return this.domNode.textContent.slice(0,t).lastIndexOf("\n"); }var e=this.domNode.textContent.slice(t).indexOf("\n");return e>-1?t+e:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(p.default.create("text","\n")),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove());}},{key:"replace",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(t){var e=p.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof p.default.Embed?e.remove():e.unwrap();});}}],[{key:"create",value:function(t){var n=u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return !0}}]),e}(y.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",e.Code=_,e.default=O;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function l(t,e){return Object.keys(e).reduce(function(n,r){return null==t[r]?n:(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]],n)},{})}function a(t){return t.reduce(function(t,e){if(1===e.insert){var n=(0, A.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||(e=(0, A.default)(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)},new h.default)}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(2),h=r(f),p=n(20),d=r(p),y=n(0),v=r(y),b=n(13),g=r(b),m=n(24),_=r(m),O=n(4),w=r(O),x=n(16),E=r(x),k=n(21),A=r(k),j=n(11),N=r(j),T=n(3),S=r(T),P=/^[ -~]*$/,q=function(){function t(e){i(this,t),this.scroll=e,this.delta=this.getDelta();}return c(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var r=this.scroll.length();return this.scroll.batchStart(),t=a(t),t.reduce(function(t,o){var i=o.retain||o.delete||o.insert.length||1,l=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var a=o.insert;a.endsWith("\n")&&n&&(n=!1,a=a.slice(0,-1)),t>=r&&!a.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,a);var c=e.scroll.line(t),f=u(c,2),h=f[0],p=f[1],y=(0, S.default)({},(0, O.bubbleFormats)(h));if(h instanceof w.default){var b=h.descendant(v.default.Leaf,p),g=u(b,1),m=g[0];y=(0, S.default)(y,(0, O.bubbleFormats)(m));}l=d.default.attributes.diff(y,l)||{};}else if("object"===s(o.insert)){var _=Object.keys(o.insert)[0];if(null==_){ return t; }e.scroll.insertAt(t,_,o.insert[_]);}r+=i;}return Object.keys(l).forEach(function(n){e.scroll.formatAt(t,i,n,l[n]);}),t+i},0),t.reduce(function(t,n){return "number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new h.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(t,Math.max(e,1)),l=e;i.forEach(function(e){var i=e.length();if(e instanceof g.default){var a=t-e.offset(n.scroll),s=e.newlineIndex(a+l)-a+1;e.formatAt(a,s,o,r[o]);}else { e.format(o,r[o]); }l-=i;});}}),this.scroll.optimize(),this.update((new h.default).retain(t).retain(e,(0, A.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(o){n.scroll.formatAt(t,e,o,r[o]);}),this.update((new h.default).retain(t).retain(e,(0, A.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(t,e){return t.concat(e.delta())},new h.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach(function(t){var e=u(t,1),o=e[0];o instanceof w.default?n.push(o):o instanceof v.default.Leaf&&r.push(o);}):(n=this.scroll.lines(t,e),r=this.scroll.descendants(v.default.Leaf,t,e));var o=[n,r].map(function(t){if(0===t.length){ return {}; }for(var e=(0, O.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n){ return e; }e=l((0, O.bubbleFormats)(n),e);}return e});return S.default.apply(S.default,o)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter(function(t){return "string"==typeof t.insert}).map(function(t){return t.insert}).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new h.default).retain(t).insert(o({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach(function(o){n.scroll.formatAt(t,e.length,o,r[o]);}),this.update((new h.default).retain(t).insert(e,(0, A.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length){ return !0; }if(this.scroll.children.length>1){ return !1; }var t=this.scroll.children.head;return t.statics.blotName===w.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof E.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),o=u(r,2),i=o[0],l=o[1],a=0,s=new h.default;null!=i&&(a=i instanceof g.default?i.newlineIndex(l)-l+1:i.length()-l,s=i.delta().slice(l,l+a-1).insert("\n"));var c=this.getContents(t,e+a),f=c.diff((new h.default).insert(n).concat(s)),p=(new h.default).retain(t).concat(f);return this.applyDelta(p)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(P)&&v.default.find(e[0].target)){var o=v.default.find(e[0].target),i=(0, O.bubbleFormats)(o),l=o.offset(this.scroll),a=e[0].oldValue.replace(_.default.CONTENTS,""),s=(new h.default).insert(a),u=(new h.default).insert(o.value());t=(new h.default).retain(l).concat(s.diff(u,n)).reduce(function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)},new h.default),this.delta=r.compose(t);}else { this.delta=this.getDelta(),t&&(0, N.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n)); }return t}}]),t}();e.default=q;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){ n[e]=t[e]; }return n}return Array.from(t)}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function l(t,e){try{e.parentNode;}catch(t){return !1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=r(u),f=n(21),h=r(f),p=n(11),d=r(p),y=n(8),v=r(y),b=n(10),g=r(b),m=(0, g.default)("quill:selection"),_=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t),this.index=e,this.length=n;},O=function(){function t(e,n){var r=this;i(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,v.default.sources.USER),1);}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(t,e){t===v.default.events.TEXT_CHANGE&&e.length()>0&&r.update(v.default.sources.SILENT);}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset);}catch(t){}});}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,l=n.endNode,a=n.endOffset;r.setNativeRange(o,i,l,a);}}),this.update(v.default.sources.SILENT);}return s(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",function(){t.composing=!0;}),this.root.addEventListener("compositionend",function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e){ return; }setTimeout(function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset);},1);}});}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,function(){t.mouseDown=!0;}),this.emitter.listenDOM("mouseup",document.body,function(){t.mouseDown=!1,t.update(v.default.sources.USER);});}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange));}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!c.default.query(t,c.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=c.default.find(n.start.node,!1);if(null==r){ return; }if(r instanceof c.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o);}else { r.insertBefore(this.cursor,n.start.node); }this.cursor.attach();}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update();}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var r=void 0,o=this.scroll.leaf(t),i=a(o,2),l=i[0],s=i[1];if(null==l){ return null; }var u=l.position(s,!0),c=a(u,2);r=c[0],s=c[1];var f=document.createRange();if(e>0){f.setStart(r,s);var h=this.scroll.leaf(t+e),p=a(h,2);if(l=p[0],s=p[1],null==l){ return null; }var d=l.position(s,!0),y=a(d,2);return r=y[0],s=y[1],f.setEnd(r,s),f.getBoundingClientRect()}var v="left",b=void 0;return r instanceof Text?(s<r.data.length?(f.setStart(r,s),f.setEnd(r,s+1)):(f.setStart(r,s-1),f.setEnd(r,s),v="right"),b=f.getBoundingClientRect()):(b=l.domNode.getBoundingClientRect(),s>0&&(v="right")),{bottom:b.top+b.height,height:b.height,left:b[v],right:b[v],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0){ return null; }var e=t.getRangeAt(0);if(null==e){ return null; }var n=this.normalizeNative(e);return m.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map(function(t){var n=a(t,2),r=n[0],o=n[1],i=c.default.find(r,!0),l=i.offset(e.scroll);return 0===o?l:i instanceof c.default.Container?l+i.length():l+i.index(r,o)}),i=Math.min(Math.max.apply(Math,o(r)),this.scroll.length()-1),l=Math.min.apply(Math,[i].concat(o(r)));return new _(l,i-l)}},{key:"normalizeNative",value:function(t){if(!l(this.root,t.startContainer)||!t.collapsed&&!l(this.root,t.endContainer)){ return null; }var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return [e.start,e.end].forEach(function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;){ if(e.childNodes.length>n){ e=e.childNodes[n],n=0; }else{if(e.childNodes.length!==n){ break; }e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1;} }t.node=e,t.offset=n;}),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],o=this.scroll.length();return n.forEach(function(t,n){t=Math.min(o-1,t);var i=void 0,l=e.scroll.leaf(t),s=a(l,2),u=s[0],c=s[1],f=u.position(c,0!==n),h=a(f,2);i=h[0],c=h[1],r.push(i,c);}),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(e.index,r)),i=a(o,1),l=i[0],s=l;if(e.length>0){var u=this.scroll.line(Math.min(e.index+e.length,r));s=a(u,1)[0];}if(null!=l&&null!=s){var c=t.getBoundingClientRect();n.top<c.top?t.scrollTop-=c.top-n.top:n.bottom>c.bottom&&(t.scrollTop+=n.bottom-c.bottom);}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i){ if(null!=t){this.hasFocus()||this.root.focus();var l=(this.getNativeRange()||{}).native;if(null==l||o||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||r!==l.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var a=document.createRange();a.setStart(t,e),a.setEnd(n,r),i.removeAllRanges(),i.addRange(a);}}else { i.removeAllRanges(),this.root.blur(),document.body.focus(); } }}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.default.sources.API;if("string"==typeof e&&(n=e,e=!1),m.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,o(r).concat([e]));}else { this.setNativeRange(null); }this.update(n);}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.default.sources.USER,e=this.lastRange,n=this.getRange(),r=a(n,2),o=r[0],i=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0, d.default)(e,this.lastRange)){var l;!this.composing&&null!=i&&i.native.collapsed&&i.start.node!==this.cursor.textNode&&this.cursor.restore();var s=[v.default.events.SELECTION_CHANGE,(0, h.default)(this.lastRange),(0, h.default)(e),t];if((l=this.emitter).emit.apply(l,[v.default.events.EDITOR_CHANGE].concat(s)),t!==v.default.sources.SILENT){var u;(u=this.emitter).emit.apply(u,s);}}}}]),t}();e.Range=_,e.default=O;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"insertInto",value:function(t,n){0===t.children.length?a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove();}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return ""}}],[{key:"value",value:function(){}}]),e}(u.default.Embed);c.blotName="break",c.tagName="BR",e.default=c;},function(t,e,n){function r(t){var e=a.find(t);if(null==e){ try{e=a.create(t);}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach(function(t){e.domNode.appendChild(t);}),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach();} }return e}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),l=n(30),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t);},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach(function(t){t.attach();});},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(e){try{var n=r(e);t.insertBefore(n,t.children.head||void 0);}catch(t){if(t instanceof a.ParchmentError){ return; }throw t}});},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length()){ return this.remove(); }this.children.forEachAt(t,e,function(t,e,n){t.deleteAt(e,n);});},e.prototype.descendant=function(t,n){var r=this.children.find(n),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,function(n,r,l){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,r,i))),i-=l;}),o},e.prototype.detach=function(){this.children.forEach(function(t){t.detach();}),t.prototype.detach.call(this);},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,function(t,e,o){t.formatAt(e,o,n,r);});},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),o=r[0],i=r[1];if(o){ o.insertAt(i,e,n); }else{var l=null==n?a.create("text",e):a.create(e,n);this.appendChild(l);}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(e){return t instanceof e})){ throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName); }t.insertInto(this,e);},e.prototype.length=function(){return this.children.reduce(function(t,e){return t+e.length()},0)},e.prototype.moveChildren=function(t,e){this.children.forEach(function(n){t.insertBefore(n,e);});},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length){ if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e);}else { this.remove(); } }},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),o=r[0],i=r[1],l=[[this,t]];return o instanceof e?l.concat(o.path(i,n)):(null!=o&&l.push([o,i]),l)},e.prototype.removeChild=function(t){this.children.remove(t);},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n);},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t){ return this; }if(t===this.length()){ return this.next }}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),function(t,r,o){t=t.split(r,e),n.appendChild(t);}),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove();},e.prototype.update=function(t,e){var n=this,o=[],i=[];t.forEach(function(t){t.target===n.domNode&&"childList"===t.type&&(o.push.apply(o,t.addedNodes),i.push.apply(i,t.removedNodes));}),i.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach());}}),o.filter(function(t){return t.parentNode==n.domNode}).sort(function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var o=r(t);o.next==e&&null!=o.next||(null!=o.parent&&o.parent.removeChild(n),n.insertBefore(o,e||void 0));});},e}(l.default);e.default=s;},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),i=n(31),l=n(17),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new i.default(n.domNode),n}return r(e,t),e.formats=function(t){return "string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=a.query(t);n instanceof o.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e));},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some(function(t){return t.target===r.domNode&&"attributes"===t.type})&&this.attributes.build();},e.prototype.wrap=function(n,r){var o=t.prototype.wrap.call(this,n,r);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(l.default);e.default=s;},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(30),i=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return !0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||!0,t;var t;},e.scope=i.Scope.INLINE_BLOT,e}(o.default);e.default=l;},function(t,e,n){function r(t){this.ops=t,this.index=0,this.offset=0;}var o=n(11),i=n(3),l={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=i(!0,{},e);n||(r=Object.keys(r).reduce(function(t,e){return null!=r[e]&&(t[e]=r[e]),t},{}));for(var o in t){ void 0!==t[o]&&void 0===e[o]&&(r[o]=t[o]); }return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce(function(n,r){return o(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t){ return e; }if("object"==typeof e){if(!n){ return e; }var r=Object.keys(e).reduce(function(n,r){return void 0===t[r]&&(n[r]=e[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new r(t)},length:function(t){return "number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=l.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete){ return {delete:t}; }var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return {retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},t.exports=l;},function(t,n){var r=function(){function t(t,e){return null!=e&&t instanceof e}function n(r,o,i,l,f){function h(r,i){if(null===r){ return null; }if(0===i){ return r; }var v,b;if("object"!=typeof r){ return r; }if(t(r,s)){ v=new s; }else if(t(r,u)){ v=new u; }else if(t(r,c)){ v=new c(function(t,e){r.then(function(e){t(h(e,i-1));},function(t){e(h(t,i-1));});}); }else if(n.__isArray(r)){ v=[]; }else if(n.__isRegExp(r)){ v=new RegExp(r.source,a(r)),r.lastIndex&&(v.lastIndex=r.lastIndex); }else if(n.__isDate(r)){ v=new Date(r.getTime()); }else{if(y&&e.isBuffer(r)){ return v=new e(r.length),r.copy(v),v; }t(r,Error)?v=Object.create(r):void 0===l?(b=Object.getPrototypeOf(r),v=Object.create(b)):(v=Object.create(l),b=l);}if(o){var g=p.indexOf(r);if(-1!=g){ return d[g]; }p.push(r),d.push(v);}t(r,s)&&r.forEach(function(t,e){var n=h(e,i-1),r=h(t,i-1);v.set(n,r);}),t(r,u)&&r.forEach(function(t){var e=h(t,i-1);v.add(e);});for(var m in r){var _;b&&(_=Object.getOwnPropertyDescriptor(b,m)),_&&null==_.set||(v[m]=h(r[m],i-1));}if(Object.getOwnPropertySymbols){ for(var O=Object.getOwnPropertySymbols(r),m=0;m<O.length;m++){var w=O[m],x=Object.getOwnPropertyDescriptor(r,w);(!x||x.enumerable||f)&&(v[w]=h(r[w],i-1),x.enumerable||Object.defineProperty(v,w,{enumerable:!1}));} }if(f){ for(var E=Object.getOwnPropertyNames(r),m=0;m<E.length;m++){var k=E[m],x=Object.getOwnPropertyDescriptor(r,k);x&&x.enumerable||(v[k]=h(r[k],i-1),Object.defineProperty(v,k,{enumerable:!1}));} }return v}"object"==typeof o&&(i=o.depth,l=o.prototype,f=o.includeNonEnumerable,o=o.circular);var p=[],d=[],y=void 0!==e;return void 0===o&&(o=!0),void 0===i&&(i=1/0),h(r,i)}function r(t){return Object.prototype.toString.call(t)}function o(t){return "object"==typeof t&&"[object Date]"===r(t)}function i(t){return "object"==typeof t&&"[object Array]"===r(t)}function l(t){return "object"==typeof t&&"[object RegExp]"===r(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}var s;try{s=Map;}catch(t){s=function(){};}var u;try{u=Set;}catch(t){u=function(){};}var c;try{c=Promise;}catch(t){c=function(){};}return n.clonePrototype=function(t){if(null===t){ return null; }var e=function(){};return e.prototype=t,new e},n.__objToStr=r,n.__isDate=o,n.__isArray=i,n.__isRegExp=l,n.__getRegExpFlags=a,n}();"object"==typeof t&&t.exports&&(t.exports=r);},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function a(t){return t instanceof v.default||t instanceof y.BlockEmbed}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},f=n(0),h=r(f),p=n(8),d=r(p),y=n(4),v=r(y),b=n(16),g=r(b),m=n(13),_=r(m),O=n(25),w=r(O),x=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(t,e){return t[e]=!0,t},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return l(e,t),u(e,[{key:"batchStart",value:function(){this.batch=!0;}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize();}},{key:"deleteAt",value:function(t,n){var r=this.line(t),o=s(r,2),i=o[0],l=o[1],a=this.line(t+n),u=s(a,1),f=u[0];if(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=f&&i!==f&&l>0){if(i instanceof y.BlockEmbed||f instanceof y.BlockEmbed){ return void this.optimize(); }if(i instanceof _.default){var h=i.newlineIndex(i.length(),!0);if(h>-1&&(i=i.split(h+1))===f){ return void this.optimize() }}else if(f instanceof _.default){var p=f.newlineIndex(0);p>-1&&f.split(p+1);}var d=f.children.head instanceof g.default?null:f.children.head;i.moveChildren(f,d),i.remove();}this.optimize();}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t);}},{key:"formatAt",value:function(t,n,r,o){(null==this.whitelist||this.whitelist[r])&&(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o),this.optimize());}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length()){ if(null==r||null==h.default.query(n,h.default.Scope.BLOCK)){var o=h.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r);}else{var i=h.default.create(n,r);this.appendChild(i);} }else { c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r); }this.optimize();}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===h.default.Scope.INLINE_BLOT){var r=h.default.create(this.statics.defaultChild);r.appendChild(t),t=r;}c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(a,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,function(e,n,r){a(e)?o.push(e):e instanceof h.default.Container&&(o=o.concat(t(e,n,i))),i-=r;}),o}(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(d.default.events.SCROLL_OPTIMIZE,t,n));}},{key:"path",value:function(t){return c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=d.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(d.default.events.SCROLL_BEFORE_UPDATE,n,t),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(d.default.events.SCROLL_UPDATE,n,t);}}}]),e}(h.default.Scroll);x.blotName="scroll",x.className="ql-editor",x.tagName="DIV",x.defaultChild="block",x.allowedChildren=[v.default,y.BlockEmbed,w.default],e.default=x;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function l(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function s(t,e){var n,r=t===D.keys.LEFT?"prefix":"suffix";return n={key:t,shiftKey:e,altKey:null},o(n,r,/^$/),o(n,"handler",function(n){var r=n.index;t===D.keys.RIGHT&&(r+=n.length+1);var o=this.quill.getLeaf(r);return !(b(o,1)[0]instanceof S.default.Embed)||(t===D.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,q.default.sources.USER):this.quill.setSelection(n.index-1,q.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,q.default.sources.USER):this.quill.setSelection(n.index+n.length+1,q.default.sources.USER),!1)}),n}function u(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=b(n,1),o=r[0],i={};if(0===e.offset){var l=this.quill.getLine(t.index-1),a=b(l,1),s=a[0];if(null!=s&&s.length()>1){var u=o.formats(),c=this.quill.getFormat(t.index-1,1);i=N.default.attributes.diff(u,c)||{};}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,q.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-f,f,i,q.default.sources.USER),this.quill.focus();}}function c(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},o=0,i=this.quill.getLine(t.index),l=b(i,1),a=l[0];if(e.offset>=a.length()-1){var s=this.quill.getLine(t.index+1),u=b(s,1),c=u[0];if(c){var f=a.formats(),h=this.quill.getFormat(t.index,1);r=N.default.attributes.diff(f,h)||{},o=c.length();}}this.quill.deleteText(t.index,n,q.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+o-1,n,r,q.default.sources.USER);}}function f(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=N.default.attributes.diff(o,r)||{};}this.quill.deleteText(t,q.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,q.default.sources.USER),this.quill.setSelection(t.index,q.default.sources.SILENT),this.quill.focus();}function h(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce(function(t,n){return S.default.query(n,S.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t},{});this.quill.insertText(t.index,"\n",r,q.default.sources.USER),this.quill.setSelection(t.index+1,q.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach(function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],q.default.sources.USER));});}function p(t){return {key:D.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=S.default.query("code-block"),r=e.index,o=e.length,i=this.quill.scroll.descendant(n,r),l=b(i,2),a=l[0],s=l[1];if(null!=a){var u=this.quill.getIndex(a),c=a.newlineIndex(s,!0)+1,f=a.newlineIndex(u+s+o),h=a.domNode.textContent.slice(c,f).split("\n");s=0,h.forEach(function(e,i){t?(a.insertAt(c+s,n.TAB),s+=n.TAB.length,0===i?r+=n.TAB.length:o+=n.TAB.length):e.startsWith(n.TAB)&&(a.deleteAt(c+s,n.TAB.length),s-=n.TAB.length,0===i?r-=n.TAB.length:o-=n.TAB.length),s+=e.length+1;}),this.quill.update(q.default.sources.USER),this.quill.setSelection(r,o,q.default.sources.SILENT);}}}}function d(t){return {key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],q.default.sources.USER);}}}function y(t){if("string"==typeof t||"number"==typeof t){ return y({key:t}); }if("object"===(void 0===t?"undefined":v(t))&&(t=(0, _.default)(t,!1)),"string"==typeof t.key){ if(null!=D.keys[t.key.toUpperCase()]){ t.key=D.keys[t.key.toUpperCase()]; }else{if(1!==t.key.length){ return null; }t.key=t.key.toUpperCase().charCodeAt(0);} }return t.shortKey&&(t[I]=t.shortKey,delete t.shortKey),t}Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=n(21),_=r(m),O=n(11),w=r(O),x=n(3),E=r(x),k=n(2),A=r(k),j=n(20),N=r(j),T=n(0),S=r(T),P=n(5),q=r(P),C=n(10),L=r(C),R=n(9),M=r(R),B=(0, L.default)("quill:keyboard"),I=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(t){function e(t,n){i(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e]);}),r.addBinding({key:e.keys.ENTER,shiftKey:null},h),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},u),r.addBinding({key:e.keys.DELETE},{collapsed:!0},c)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},u),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},c)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},f),r.addBinding({key:e.keys.DELETE},{collapsed:!1},f),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},u),r.listen(),r}return a(e,t),g(e,null,[{key:"match",value:function(t,e){return e=y(e),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return !!e[n]!==t[n]&&null!==e[n]})&&e.key===(t.which||t.keyCode)}}]),g(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=y(t);if(null==r||null==r.key){ return B.warn("Attempted to add invalid keyboard binding",r); }"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=(0, E.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r);}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var r=n.which||n.keyCode,o=(t.bindings[r]||[]).filter(function(t){return e.match(n,t)});if(0!==o.length){var i=t.quill.getSelection();if(null!=i&&t.quill.hasFocus()){var l=t.quill.getLine(i.index),a=b(l,2),s=a[0],u=a[1],c=t.quill.getLeaf(i.index),f=b(c,2),h=f[0],p=f[1],d=0===i.length?[h,p]:t.quill.getLeaf(i.index+i.length),y=b(d,2),g=y[0],m=y[1],_=h instanceof S.default.Text?h.value().slice(0,p):"",O=g instanceof S.default.Text?g.value().slice(m):"",x={collapsed:0===i.length,empty:0===i.length&&s.length()<=1,format:t.quill.getFormat(i),offset:u,prefix:_,suffix:O};o.some(function(e){if(null!=e.collapsed&&e.collapsed!==x.collapsed){ return !1; }if(null!=e.empty&&e.empty!==x.empty){ return !1; }if(null!=e.offset&&e.offset!==x.offset){ return !1; }if(Array.isArray(e.format)){if(e.format.every(function(t){return null==x.format[t]})){ return !1 }}else if("object"===v(e.format)&&!Object.keys(e.format).every(function(t){return !0===e.format[t]?null!=x.format[t]:!1===e.format[t]?null==x.format[t]:(0, w.default)(e.format[t],x.format[t])})){ return !1; }return !(null!=e.prefix&&!e.prefix.test(x.prefix))&&(!(null!=e.suffix&&!e.suffix.test(x.suffix))&&!0!==e.handler.call(t,i,x))})&&n.preventDefault();}}}});}}]),e}(M.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:d("bold"),italic:d("italic"),underline:d("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset){ return !0; }this.quill.format("indent","+1",q.default.sources.USER);}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset){ return !0; }this.quill.format("indent","-1",q.default.sources.USER);}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",q.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,q.default.sources.USER);}},"indent code-block":p(!0),"outdent code-block":p(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,q.default.sources.USER);}},tab:{key:D.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new A.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,q.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,q.default.sources.SILENT);}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,q.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,q.default.sources.USER);}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=b(e,2),r=n[0],o=n[1],i=(0, E.default)({},r.formats(),{list:"checked"}),l=(new A.default).retain(t.index).insert("\n",i).retain(r.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,q.default.sources.USER),this.quill.setSelection(t.index+1,q.default.sources.SILENT),this.quill.scrollIntoView();}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=b(n,2),o=r[0],i=r[1],l=(new A.default).retain(t.index).insert("\n",e.format).retain(o.length()-i-1).retain(1,{header:null});this.quill.updateContents(l,q.default.sources.USER),this.quill.setSelection(t.index+1,q.default.sources.SILENT),this.quill.scrollIntoView();}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),o=b(r,2),i=o[0],l=o[1];if(l>n){ return !0; }var a=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered";}this.quill.insertText(t.index," ",q.default.sources.USER),this.quill.history.cutoff();var s=(new A.default).retain(t.index-l).delete(n+1).retain(i.length()-2-l).retain(1,{list:a});this.quill.updateContents(s,q.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,q.default.sources.SILENT);}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=b(e,2),r=n[0],o=n[1],i=(new A.default).retain(t.index+r.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(i,q.default.sources.USER);}},"embed left":s(D.keys.LEFT,!1),"embed left shift":s(D.keys.LEFT,!0),"embed right":s(D.keys.RIGHT,!1),"embed right shift":s(D.keys.RIGHT,!0)}},e.default=D,e.SHORTKEY=I;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),f=r(c),h=n(7),p=r(h),d=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return l(e,t),u(e,null,[{key:"value",value:function(){}}]),u(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this);}},{key:"format",value:function(t,n){if(0!==this._length){ return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n); }for(var r=this,o=0;null!=r&&r.statics.scope!==f.default.Scope.BLOCK_BLOT;){ o+=r.offset(r.parent),r=r.parent; }null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(o,e.CONTENTS.length,t,n),this._length=0);}},{key:"index",value:function(t,n){return t===this.textNode?0:s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return [this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null;}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,i=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var l=[t,n.start.offset,n.end.offset];r=l[0],o=l[1],i=l[2];}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;){ this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode); }if(this.textNode.data!==e.CONTENTS){var s=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof p.default?(r=this.next.domNode,this.next.insertAt(0,s),this.textNode.data=e.CONTENTS):(this.textNode.data=s,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode));}if(this.remove(),null!=o){var u=[o,i].map(function(t){return Math.max(0,Math.min(r.data.length,t-1))}),c=a(u,2);return o=c[0],i=c[1],{startNode:r,startOffset:o,endNode:r,endOffset:i}}}}},{key:"update",value:function(t,e){var n=this;if(t.some(function(t){return "characterData"===t.type&&t.target===n.textNode})){var r=this.restore();r&&(e.range=r);}}},{key:"value",value:function(){return ""}}]),e}(f.default.Embed);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\ufeff",e.default=d;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),s=r(a),u=n(4),c=r(u),f=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(s.default.Container);f.allowedChildren=[c.default,u.BlockEmbed,f],e.default=f;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"value",value:function(t){var n=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(t){return ("00"+parseInt(t).toString(16)).slice(-2)}).join("")):n}}]),e}(u.default.Attributor.Style),f=new u.default.Attributor.Class("color","ql-color",{scope:u.default.Scope.INLINE}),h=new c("color","color",{scope:u.default.Scope.INLINE});e.ColorAttributor=c,e.ColorClass=f,e.ColorStyle=h;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function l(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=n(6),c=function(t){return t&&t.__esModule?t:{default:t}}(u),f=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),a(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){ return s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n); }n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n);}}],[{key:"create",value:function(t){var n=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return l(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(c.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=f,e.sanitize=l;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)));}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(23),u=r(s),c=n(107),f=r(c),h=0,p=function(){function t(e){var n=this;o(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker();}),this.label.addEventListener("keydown",function(t){switch(t.keyCode){case u.default.keys.ENTER:n.togglePicker();break;case u.default.keys.ESCAPE:n.escape(),t.preventDefault();}}),this.select.addEventListener("change",this.update.bind(this));}return a(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),i(this.label,"aria-expanded"),i(this.options,"aria-hidden");}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){e.selectItem(n,!0);}),n.addEventListener("keydown",function(t){switch(t.keyCode){case u.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case u.default.keys.ESCAPE:e.escape(),t.preventDefault();}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=f.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach(function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r);}),this.container.appendChild(e);}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(e){t.container.setAttribute(e.name,e.value);}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions();}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1);}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true");}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event){ this.select.dispatchEvent(new Event("change")); }else if("object"===("undefined"==typeof Event?"undefined":l(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r);}this.close();}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e);}else { this.selectItem(null); }var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n);}}]),t}();e.default=p;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),i=r(o),l=n(5),a=r(l),s=n(4),u=r(s),c=n(16),f=r(c),h=n(25),p=r(h),d=n(24),y=r(d),v=n(35),b=r(v),g=n(6),m=r(g),_=n(22),O=r(_),w=n(7),x=r(w),E=n(55),k=r(E),A=n(42),j=r(A),N=n(23),T=r(N);a.default.register({"blots/block":u.default,"blots/block/embed":s.BlockEmbed,"blots/break":f.default,"blots/container":p.default,"blots/cursor":y.default,"blots/embed":b.default,"blots/inline":m.default,"blots/scroll":O.default,"blots/text":x.default,"modules/clipboard":k.default,"modules/history":j.default,"modules/keyboard":T.default}),i.default.register(u.default,f.default,y.default,m.default,O.default,x.default),e.default=a.default;},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this};}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName){ throw new r.ParchmentError("Blot definition missing tagName"); }var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll);},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY];},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove();},t.prototype.formatAt=function(t,e,n,o){var i=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&o){ i.wrap(n,o); }else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var l=r.create(this.statics.scope);i.wrap(l),l.format(n,o);}},t.prototype.insertAt=function(t,e,n){var o=null==n?r.create("text",e):r.create(e,n),i=this.split(t);this.parent.insertBefore(o,i);},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach();},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations;},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach();},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove());},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o;},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),l=n(1),a=function(){function t(t){this.attributes={},this.domNode=t,this.build();}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName]);},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=o.default.keys(this.domNode),a=i.default.keys(this.domNode);e.concat(n).concat(a).forEach(function(e){var n=l.query(e,l.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n);});},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach(function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r);});},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode);}),this.attributes={};},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce(function(e,n){return e[n]=t.attributes[n].value(t.domNode),e},{})},t}();e.default=a;},function(t,e,n){function r(t,e){return (t.getAttribute("class")||"").split(/\s+/).filter(function(t){return 0===t.indexOf(e+"-")})}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return (t.getAttribute("class")||"").split(/\s+/).map(function(t){return t.split("-").slice(0,-1).join("-")})},e.prototype.add=function(t,e){return !!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){r(t,this.keyName).forEach(function(e){t.classList.remove(e);}),0===t.classList.length&&t.removeAttribute("class");},e.prototype.value=function(t){var e=r(t,this.keyName)[0]||"",n=e.slice(this.keyName.length+1);return this.canAdd(t,n)?n:""},e}(i.default);e.default=l;},function(t,e,n){function r(t){var e=t.split("-"),n=e.slice(1).map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("");return e[0]+n}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return (t.getAttribute("style")||"").split(";").map(function(t){return t.split(":")[0].trim()})},e.prototype.add=function(t,e){return !!this.canAdd(t,e)&&(t.style[r(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[r(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style");},e.prototype.value=function(t){var e=t.style[r(this.keyName)];return this.canAdd(t,e)?e:""},e}(i.default);e.default=l;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){r(this,t),this.quill=e,this.options=n,this.modules={};}return o(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach(function(e){null==t.modules[e]&&t.addModule(e);});}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();i.DEFAULTS={modules:{}},i.themes={default:i},e.default=i;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=n(0),c=r(u),f=n(7),h=r(f),p="\ufeff",d=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(t){n.contentNode.appendChild(t);}),n.leftGuard=document.createTextNode(p),n.rightGuard=document.createTextNode(p),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return l(e,t),a(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split(p).join("");if(t===this.leftGuard){ if(this.prev instanceof h.default){var o=this.prev.length();this.prev.insertAt(o,r),e={startNode:this.prev.domNode,startOffset:o+r.length};}else { n=document.createTextNode(r),this.parent.insertBefore(c.default.create(n),this),e={startNode:n,startOffset:r.length}; } }else { t===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(c.default.create(n),this.next),e={startNode:n,startOffset:r.length})); }return t.data=p,e}},{key:"update",value:function(t,e){var n=this;t.forEach(function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r);}});}}]),e}(c.default.Embed);e.default=d;},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new o.default.Attributor.Attribute("align","align",i),a=new o.default.Attributor.Class("align","ql-align",i),s=new o.default.Attributor.Style("align","text-align",i);e.AlignAttribute=l,e.AlignClass=a,e.AlignStyle=s;},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=n(26),l=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),a=new i.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});e.BackgroundClass=l,e.BackgroundStyle=a;},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},l=new o.default.Attributor.Attribute("direction","dir",i),a=new o.default.Attributor.Class("direction","ql-direction",i),s=new o.default.Attributor.Style("direction","direction",i);e.DirectionAttribute=l,e.DirectionClass=a,e.DirectionStyle=s;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c={scope:u.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new u.default.Attributor.Class("font","ql-font",c),h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"value",value:function(t){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(u.default.Attributor.Style),p=new h("font","font-family",c);e.FontStyle=p,e.FontClass=f;},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=i,e.SizeStyle=l;},function(t,e,n){t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)};},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function a(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some(function(t){return null!=f.default.query(t,f.default.Scope.BLOCK)}))}function s(t){var e=t.reduce(function(t,e){return t+=e.delete||0},0),n=t.length()-e;return a(t)&&(n-=1),n}Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(0),f=r(c),h=n(5),p=r(h),d=n(9),y=r(d),v=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(p.default.events.EDITOR_CHANGE,function(t,e,n,o){t!==p.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==p.default.sources.USER?r.transform(e):r.record(e,n));}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return l(e,t),u(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],p.default.sources.USER),this.ignoreChange=!1;var r=s(n[t]);this.quill.setSelection(r);}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]};}},{key:"cutoff",value:function(){this.lastRecorded=0;}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t);}else { this.lastRecorded=r; }this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift();}}},{key:"redo",value:function(){this.change("redo","undo");}},{key:"transform",value:function(t){this.stack.undo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0);}),this.stack.redo.forEach(function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0);});}},{key:"undo",value:function(){this.change("undo","redo");}}]),e}(y.default);v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=v,e.getLastChangeIndex=s;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function a(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach(function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r);});}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},f=n(3),h=r(f),p=n(2),d=r(p),y=n(8),v=r(y),b=n(23),g=r(b),m=n(34),_=r(m),O=n(59),w=r(O),x=n(60),E=r(x),k=n(28),A=r(k),j=n(61),N=r(j),T=[!1,"center","right","justify"],S=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],P=[!1,"serif","monospace"],q=["1","2","3",!1],C=["small",!1,"large","huge"],L=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),l=function e(n){if(!document.body.contains(t.root)){ return document.body.removeEventListener("click",e); }null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(t){t.container.contains(n.target)||t.close();});};return t.emitter.listenDOM("click",document.body,l),r}return l(e,t),u(e,[{key:"addModule",value:function(t){var n=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return "toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach(function(t){(t.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n])){ if("direction"===n){ t.innerHTML=e[n][""]+e[n].rtl; }else if("string"==typeof e[n]){ t.innerHTML=e[n]; }else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r]);} }});});}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map(function(t){if(t.classList.contains("ql-align")){ return null==t.querySelector("option")&&s(t,T),new E.default(t,e.align); }if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&s(t,S,"background"===n?"#ffffff":"#000000"),new w.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?s(t,P):t.classList.contains("ql-header")?s(t,q):t.classList.contains("ql-size")&&s(t,C)),new A.default(t)});var r=function(){n.pickers.forEach(function(t){t.update();});};this.quill.on(v.default.events.EDITOR_CHANGE,r);}}]),e}(_.default);L.DEFAULTS=(0, h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula");},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new d.default).retain(r.index).delete(r.length).insert({image:n.target.result}),v.default.sources.USER),t.quill.setSelection(r.index+1,v.default.sources.SILENT),e.value="";},n.readAsDataURL(e.files[0]);}}),this.container.appendChild(e)),e.click();},video:function(){this.quill.theme.tooltip.edit("video");}}}}});var R=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return l(e,t),u(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",function(e){g.default.match(e,"enter")?(t.save(),e.preventDefault()):g.default.match(e,"escape")&&(t.cancel(),e.preventDefault());});}},{key:"cancel",value:function(){this.hide();}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t);}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t;}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,v.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,v.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=a(t);case"formula":if(!t){ break; }var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),t,v.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",v.default.sources.USER),this.quill.setSelection(r+2,v.default.sources.USER);}}this.textbox.value="",this.hide();}}]),e}(N.default);e.BaseTooltip=R,e.default=L;},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0;}return t.prototype.append=function(){
	var arguments$1 = arguments;
	for(var t=[],e=0;e<arguments.length;e++){ t[e]=arguments$1[e]; }this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1));},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();){ if(e===t){ return !0; } }return !1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1);},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t){ return e; }e+=n.length(),n=n.next;}return -1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1);},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length())){ return [n,t]; }t-=o;}return [null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();){ t(e); }},t.prototype.forEachAt=function(t,e,n){if(!(e<=0)){ for(var r,o=this.find(t),i=o[0],l=o[1],a=t-l,s=this.iterator(i);(r=s())&&a<t+e;){var u=r.length();t>a?n(r,t-a,Math.min(e,a+u-t)):n(r,0,Math.min(u,t+e-a)),a+=u;} }},t.prototype.map=function(t){return this.reduce(function(e,n){return e.push(t(n)),e},[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();){ e=t(e,n); }return e},t}();e.default=r;},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),i=n(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver(function(t){n.update(t);}),n.observer.observe(n.domNode,l),n.attach(),n}return r(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect();},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach(function(t){t.remove();}):t.prototype.deleteAt.call(this,e,n);},e.prototype.formatAt=function(e,n,r,o){this.update(),t.prototype.formatAt.call(this,e,n,r,o);},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r);},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;){ e.push(l.pop()); }for(var a=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[i.DATA_KEY].mutations&&(t.domNode[i.DATA_KEY].mutations=[]),e&&a(t.parent));},s=function(t){null!=t.domNode[i.DATA_KEY]&&null!=t.domNode[i.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(s),t.optimize(n));},u=e,c=0;u.length>0;c+=1){if(c>=100){ throw new Error("[Parchment] Maximum optimize iterations reached"); }for(u.forEach(function(t){var e=i.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(a(i.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,function(t){var e=i.find(t,!1);a(e,!1),e instanceof o.default&&e.children.forEach(function(t){a(t,!1);});})):"attributes"===t.type&&a(e.prev)),a(e));}),this.children.forEach(s),u=[].slice.call(this.observer.takeRecords()),l=u.slice();l.length>0;){ e.push(l.pop()); }}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),e=e||this.observer.takeRecords(),e.map(function(t){var e=i.find(t.target,!0);return null==e?null:null==e.domNode[i.DATA_KEY].mutations?(e.domNode[i.DATA_KEY].mutations=[t],e):(e.domNode[i.DATA_KEY].mutations.push(t),null)}).forEach(function(t){null!=t&&t!==r&&null!=t.domNode[i.DATA_KEY]&&t.update(t.domNode[i.DATA_KEY].mutations||[],n);}),null!=this.domNode[i.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,n),this.optimize(e,n);},e.blotName="scroll",e.defaultChild="block",e.scope=i.Scope.BLOCK_BLOT,e.tagName="DIV",e}(o.default);e.default=a;},function(t,e,n){function r(t,e){if(Object.keys(t).length!==Object.keys(e).length){ return !1; }for(var n in t){ if(t[n]!==e[n]){ return !1; } }return !0}var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),l=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName){ return t.formats.call(this,n) }},e.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach(function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t);}),this.unwrap());},e.prototype.formatAt=function(e,n,r,o){if(null!=this.formats()[r]||l.query(r,l.Scope.ATTRIBUTE)){this.isolate(e,n).format(r,o);}else { t.prototype.formatAt.call(this,e,n,r,o); }},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var o=this.formats();if(0===Object.keys(o).length){ return this.unwrap(); }var i=this.next;i instanceof e&&i.prev===this&&r(o,i.formats())&&(i.moveChildren(this),i.remove());},e.blotName="inline",e.scope=l.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=a;},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(18),i=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(n){var r=i.query(e.blotName).tagName;if(n.tagName!==r){ return t.formats.call(this,n) }},e.prototype.format=function(n,r){null!=i.query(n,i.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName));},e.prototype.formatAt=function(e,n,r,o){null!=i.query(r,i.Scope.BLOCK)?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o);},e.prototype.insertAt=function(e,n,r){if(null==r||null!=i.query(n,i.Scope.INLINE)){ t.prototype.insertAt.call(this,e,n,r); }else{var o=this.split(e),l=i.create(n,r);o.parent.insertBefore(l,o);}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n);},e.blotName="block",e.scope=i.Scope.BLOCK_BLOT,e.tagName="P",e}(o.default);e.default=l;},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n);},e.prototype.formatAt=function(e,n,r,o){0===e&&n===this.length()?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o);},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(o.default);e.default=i;},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var n in e){ e.hasOwnProperty(n)&&(t[n]=e[n]); }};return function(e,n){function r(){this.constructor=e;}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r);}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),i=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e);},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r);},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove());},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t){ return this; }if(t===this.length()){ return this.next }}var n=i.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some(function(t){return "characterData"===t.type&&t.target===n.domNode})&&(this.text=this.statics.value(this.domNode));},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=i.Scope.INLINE_BLOT,e}(o.default);e.default=l;},function(t,e,n){var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)};}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return -1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this){ throw new TypeError("Array.prototype.find called on null or undefined"); }if("function"!=typeof t){ throw new TypeError("predicate must be a function"); }for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++){ if(e=n[i],t.call(o,e,i,n)){ return e } }}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1);});},function(t,e){function n(t,e,n){if(t==e){ return t?[[v,t]]:[]; }(n<0||t.length<n)&&(n=null);var o=l(t,e),i=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=a(t,e);var s=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var c=r(t,e);return i&&c.unshift([v,i]),s&&c.push([v,s]),u(c),null!=n&&(c=f(c,n)),c=h(c)}function r(t,e){var r;if(!t){ return [[y,e]]; }if(!e){ return [[d,t]]; }var i=t.length>e.length?t:e,l=t.length>e.length?e:t,a=i.indexOf(l);if(-1!=a){ return r=[[y,i.substring(0,a)],[v,l],[y,i.substring(a+l.length)]],t.length>e.length&&(r[0][0]=r[2][0]=d),r; }if(1==l.length){ return [[d,t],[y,e]]; }var u=s(t,e);if(u){var c=u[0],f=u[1],h=u[2],p=u[3],b=u[4],g=n(c,h),m=n(f,p);return g.concat([[v,b]],m)}return o(t,e)}function o(t,e){for(var n=t.length,r=e.length,o=Math.ceil((n+r)/2),l=o,a=2*o,s=new Array(a),u=new Array(a),c=0;c<a;c++){ s[c]=-1,u[c]=-1; }s[l+1]=0,u[l+1]=0;for(var f=n-r,h=f%2!=0,p=0,v=0,b=0,g=0,m=0;m<o;m++){for(var _=-m+p;_<=m-v;_+=2){var O,w=l+_;O=_==-m||_!=m&&s[w-1]<s[w+1]?s[w+1]:s[w-1]+1;for(var x=O-_;O<n&&x<r&&t.charAt(O)==e.charAt(x);){ O++,x++; }if(s[w]=O,O>n){ v+=2; }else if(x>r){ p+=2; }else if(h){var E=l+f-_;if(E>=0&&E<a&&-1!=u[E]){var k=n-u[E];if(O>=k){ return i(t,e,O,x) }}}}for(var A=-m+b;A<=m-g;A+=2){var k,E=l+A;k=A==-m||A!=m&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1;for(var j=k-A;k<n&&j<r&&t.charAt(n-k-1)==e.charAt(r-j-1);){ k++,j++; }if(u[E]=k,k>n){ g+=2; }else if(j>r){ b+=2; }else if(!h){var w=l+f-A;if(w>=0&&w<a&&-1!=s[w]){var O=s[w],x=l+O-w;if(k=n-k,O>=k){ return i(t,e,O,x) }}}}}return [[d,t],[y,e]]}function i(t,e,r,o){var i=t.substring(0,r),l=e.substring(0,o),a=t.substring(r),s=e.substring(o),u=n(i,l),c=n(a,s);return u.concat(c)}function l(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0)){ return 0; }for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;){ t.substring(i,o)==e.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n); }return o}function a(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1)){ return 0; }for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;){ t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n); }return o}function s(t,e){function n(t,e,n){for(var r,o,i,s,u=t.substring(n,n+Math.floor(t.length/4)),c=-1,f="";-1!=(c=e.indexOf(u,c+1));){var h=l(t.substring(n),e.substring(c)),p=a(t.substring(0,n),e.substring(0,c));f.length<p+h&&(f=e.substring(c-p,c)+e.substring(c,c+h),r=t.substring(0,n-p),o=t.substring(n+h),i=e.substring(0,c-p),s=e.substring(c+h));}return 2*f.length>=t.length?[r,o,i,s,f]:null}var r=t.length>e.length?t:e,o=t.length>e.length?e:t;if(r.length<4||2*o.length<r.length){ return null; }var i,s=n(r,o,Math.ceil(r.length/4)),u=n(r,o,Math.ceil(r.length/2));if(!s&&!u){ return null; }i=u?s&&s[4].length>u[4].length?s:u:s;var c,f,h,p;return t.length>e.length?(c=i[0],f=i[1],h=i[2],p=i[3]):(h=i[0],p=i[1],c=i[2],f=i[3]),[c,f,h,p,i[4]]}function u(t){t.push([v,""]);for(var e,n=0,r=0,o=0,i="",s="";n<t.length;){ switch(t[n][0]){case y:o++,s+=t[n][1],n++;break;case d:r++,i+=t[n][1],n++;break;case v:r+o>1?(0!==r&&0!==o&&(e=l(s,i),0!==e&&(n-r-o>0&&t[n-r-o-1][0]==v?t[n-r-o-1][1]+=s.substring(0,e):(t.splice(0,0,[v,s.substring(0,e)]),n++),s=s.substring(e),i=i.substring(e)),0!==(e=a(s,i))&&(t[n][1]=s.substring(s.length-e)+t[n][1],s=s.substring(0,s.length-e),i=i.substring(0,i.length-e))),0===r?t.splice(n-o,r+o,[y,s]):0===o?t.splice(n-r,r+o,[d,i]):t.splice(n-r-o,r+o,[d,i],[y,s]),n=n-r-o+(r?1:0)+(o?1:0)+1):0!==n&&t[n-1][0]==v?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";} }""===t[t.length-1][1]&&t.pop();var c=!1;for(n=1;n<t.length-1;){ t[n-1][0]==v&&t[n+1][0]==v&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++; }c&&u(t);}function c(t,e){if(0===e){ return [v,t]; }for(var n=0,r=0;r<t.length;r++){var o=t[r];if(o[0]===d||o[0]===v){var i=n+o[1].length;if(e===i){ return [r+1,t]; }if(e<i){t=t.slice();var l=e-n,a=[o[0],o[1].slice(0,l)],s=[o[0],o[1].slice(l)];return t.splice(r,1,a,s),[r+1,t]}n=i;}}throw new Error("cursor_pos is out of bounds!")}function f(t,e){var n=c(t,e),r=n[1],o=n[0],i=r[o],l=r[o+1];if(null==i){ return t; }if(i[0]!==v){ return t; }if(null!=l&&i[1]+l[1]===l[1]+i[1]){ return r.splice(o,2,l,i),p(r,o,2); }if(null!=l&&0===l[1].indexOf(i[1])){r.splice(o,2,[l[0],i[1]],[0,i[1]]);var a=l[1].slice(i[1].length);return a.length>0&&r.splice(o+2,0,[l[0],a]),p(r,o,3)}return t}function h(t){for(var e=!1,n=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},r=2;r<t.length;r+=1){ t[r-2][0]===v&&function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319}(t[r-2][1])&&t[r-1][0]===d&&n(t[r-1][1])&&t[r][0]===y&&n(t[r][1])&&(e=!0,t[r-1][1]=t[r-2][1].slice(-1)+t[r-1][1],t[r][1]=t[r-2][1].slice(-1)+t[r][1],t[r-2][1]=t[r-2][1].slice(0,-1)); }if(!e){ return t; }for(var o=[],r=0;r<t.length;r+=1){ t[r][1].length>0&&o.push(t[r]); }return o}function p(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--){ if(r+1<t.length){var o=t[r],i=t[r+1];o[0]===i[1]&&t.splice(r,2,[o[0],o[1]+i[1]]);} }return t}var d=-1,y=1,v=0,b=n;b.INSERT=y,b.DELETE=d,b.EQUAL=v,t.exports=b;},function(t,e){function n(t){var e=[];for(var n in t){ e.push(n); }return e}e=t.exports="function"==typeof Object.keys?Object.keys:n,e.shim=n;},function(t,e){function n(t){return "[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=t.exports=o?n:r,e.supported=n,e.unsupported=r;},function(t,e){function n(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1;}function o(){this._events=new n,this._eventsCount=0;}var i=Object.prototype.hasOwnProperty,l="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(l=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount){ return n; }for(e in t=this._events){ i.call(t,e)&&n.push(l?e.slice(1):e); }return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n=l?l+t:t,r=this._events[n];if(e){ return !!r; }if(!r){ return []; }if(r.fn){ return [r.fn]; }for(var o=0,i=r.length,a=new Array(i);o<i;o++){ a[o]=r[o].fn; }return a},o.prototype.emit=function(t,e,n,r,o,i){
	var arguments$1 = arguments;
	var a=l?l+t:t;if(!this._events[a]){ return !1; }var s,u,c=this._events[a],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,i),!0}for(u=1,s=new Array(f-1);u<f;u++){ s[u-1]=arguments$1[u]; }c.fn.apply(c.context,s);}else{var h,p=c.length;for(u=0;u<p;u++){ switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,r);break;default:if(!s){ for(h=1,s=new Array(f-1);h<f;h++){ s[h-1]=arguments$1[h]; } }c[u].fn.apply(c[u].context,s);} }}return !0},o.prototype.on=function(t,e,n){var o=new r(e,n||this),i=l?l+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.once=function(t,e,n){var o=new r(e,n||this,!0),i=l?l+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},o.prototype.removeListener=function(t,e,r,o){var i=l?l+t:t;if(!this._events[i]){ return this; }if(!e){ return 0==--this._eventsCount?this._events=new n:delete this._events[i],this; }var a=this._events[i];if(a.fn){ a.fn!==e||o&&!a.once||r&&a.context!==r||(0==--this._eventsCount?this._events=new n:delete this._events[i]); }else{for(var s=0,u=[],c=a.length;s<c;s++){ (a[s].fn!==e||o&&!a[s].once||r&&a[s].context!==r)&&u.push(a[s]); }u.length?this._events[i]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new n:delete this._events[i];}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=l?l+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=l,o.EventEmitter=o,void 0!==t&&(t.exports=o);},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function l(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function s(t,e,n){return "object"===(void 0===e?"undefined":x(e))?Object.keys(e).reduce(function(t,n){return s(t,n,e[n])},t):t.reduce(function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0, j.default)({},o({},e,n),r.attributes))},new T.default)}function u(t){if(t.nodeType!==Node.ELEMENT_NODE){ return {}; }return t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function c(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!=typeof o.insert){ break; }n=o.insert+n;}return n.slice(-1*e.length)===e}function f(t){return 0!==t.childNodes.length&&["block","list-item"].indexOf(u(t).display)>-1}function h(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce(function(e,n){return n(t,e)},new T.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(r,o){var i=h(o,e,n);return o.nodeType===t.ELEMENT_NODE&&(i=e.reduce(function(t,e){return e(o,t)},i),i=(o[W]||[]).reduce(function(t,e){return e(o,t)},i)),r.concat(i)},new T.default):new T.default}function p(t,e,n){return s(n,t,!0)}function d(t,e){var n=P.default.Attributor.Attribute.keys(t),r=P.default.Attributor.Class.keys(t),o=P.default.Attributor.Style.keys(t),i={};return n.concat(r).concat(o).forEach(function(e){var n=P.default.query(e,P.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(n=G[e],null==n||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),null==(n=X[e])||n.attrName!==e&&n.keyName!==e||(n=X[e],i[n.attrName]=n.value(t)||void 0));}),Object.keys(i).length>0&&(e=s(e,i)),e}function y(t,e){var n=P.default.query(t);if(null==n){ return e; }if(n.prototype instanceof P.default.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new T.default).insert(r,n.formats(t)));}else{ "function"==typeof n.formats&&(e=s(e,n.blotName,n.formats(t))); }return e}function v(t,e){return c(e,"\n")||e.insert("\n"),e}function b(){return new T.default}function g(t,e){var n=P.default.query(t);if(null==n||"list-item"!==n.blotName||!c(e,"\n")){ return e; }for(var r=-1,o=t.parentNode;!o.classList.contains("ql-clipboard");){ "list"===(P.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode; }return r<=0?e:e.compose((new T.default).retain(e.length()-1).retain(1,{indent:r}))}function m(t,e){return c(e,"\n")||(f(t)||e.length()>0&&t.nextSibling&&f(t.nextSibling))&&e.insert("\n"),e}function _(t,e){if(f(t)&&null!=t.nextElementSibling&&!c(e,"\n\n")){var n=t.offsetHeight+parseFloat(u(t).marginTop)+parseFloat(u(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n");}return e}function O(t,e){var n={},r=t.style||{};return r.fontStyle&&"italic"===u(t).fontStyle&&(n.italic=!0),r.fontWeight&&(u(t).fontWeight.startsWith("bold")||parseInt(u(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=s(e,n)),parseFloat(r.textIndent||0)>0&&(e=(new T.default).insert("\t").concat(e)),e}function w(t,e){var n=t.data;if("O:P"===t.parentNode.tagName){ return e.insert(n.trim()); }if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard")){ return e; }if(!u(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return e=e.replace(/[^\u00a0]/g,""),e.length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&f(t.parentNode)||null!=t.previousSibling&&f(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&f(t.parentNode)||null!=t.nextSibling&&f(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)));}return e.insert(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),A=n(3),j=r(A),N=n(2),T=r(N),S=n(0),P=r(S),q=n(5),C=r(q),L=n(10),R=r(L),M=n(9),B=r(M),I=n(36),D=n(37),U=n(13),F=r(U),z=n(26),H=n(38),K=n(39),Y=n(40),V=(0, R.default)("quill:clipboard"),W="__ql-matcher",Z=[[Node.TEXT_NODE,w],[Node.TEXT_NODE,m],["br",v],[Node.ELEMENT_NODE,m],[Node.ELEMENT_NODE,y],[Node.ELEMENT_NODE,_],[Node.ELEMENT_NODE,d],[Node.ELEMENT_NODE,O],["li",g],["b",p.bind(p,"bold")],["i",p.bind(p,"italic")],["style",b]],G=[I.AlignAttribute,H.DirectionAttribute].reduce(function(t,e){return t[e.keyName]=e,t},{}),X=[I.AlignStyle,D.BackgroundStyle,z.ColorStyle,H.DirectionStyle,K.FontStyle,Y.SizeStyle].reduce(function(t,e){return t[e.keyName]=e,t},{}),$=function(t){function e(t,n){i(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],Z.concat(r.options.matchers).forEach(function(t){var e=E(t,2),o=e[0],i=e[1];(n.matchVisual||i!==_)&&r.addMatcher(o,i);}),r}return a(e,t),k(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e]);}},{key:"convert",value:function(t){if("string"==typeof t){ return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert(); }var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[F.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new T.default).insert(n,o({},F.default.blotName,e[F.default.blotName]))}var r=this.prepareMatching(),i=E(r,2),l=i[0],a=i[1],s=h(this.container,l,a);return c(s,"\n")&&null==s.ops[s.ops.length-1].attributes&&(s=s.compose((new T.default).retain(s.length()-1).delete(1))),V.log("convert",this.container.innerHTML,s),this.container.innerHTML="",s}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C.default.sources.API;if("string"==typeof t){ this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,C.default.sources.SILENT); }else{var r=this.convert(e);this.quill.updateContents((new T.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),C.default.sources.SILENT);}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new T.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(C.default.sources.SILENT),setTimeout(function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,C.default.sources.USER),e.quill.setSelection(r.length()-n.length,C.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus();},1);}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach(function(r){var o=E(r,2),i=o[0],l=o[1];switch(i){case Node.TEXT_NODE:n.push(l);break;case Node.ELEMENT_NODE:e.push(l);break;default:[].forEach.call(t.container.querySelectorAll(i),function(t){t[W]=t[W]||[],t[W].push(l);});}}),[e,n]}}]),e}(B.default);$.DEFAULTS={matchers:[],matchVisual:!0},e.default=$,e.matchAttributor=d,e.matchBlot=y,e.matchNewline=m,e.matchSpacing=_,e.matchText=w;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(6),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"optimize",value:function(t){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName);}}],[{key:"create",value:function(){return a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return !0}}]),e}(u.default);c.blotName="bold",c.tagName=["STRONG","B"],e.default=c;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function l(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function s(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r);}function u(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(function(t){if("string"==typeof t){ s(n,t); }else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?c(n,e,r):s(n,e,r);}}),t.appendChild(n);});}function c(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach(function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e);}),t.appendChild(r);}Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var f=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(2),d=r(p),y=n(0),v=r(y),b=n(5),g=r(b),m=n(10),_=r(m),O=n(9),w=r(O),x=(0, _.default)("quill:toolbar"),E=function(t){function e(t,n){i(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(r.options.container)){var o=document.createElement("div");u(o,r.options.container),t.container.parentNode.insertBefore(o,t.container),r.container=o;}else{ "string"==typeof r.options.container?r.container=document.querySelector(r.options.container):r.container=r.options.container; }if(!(r.container instanceof HTMLElement)){var a;return a=x.error("Container required for toolbar",r.options),l(r,a)}return r.container.classList.add("ql-toolbar"),r.controls=[],r.handlers={},Object.keys(r.options.handlers).forEach(function(t){r.addHandler(t,r.options.handlers[t]);}),[].forEach.call(r.container.querySelectorAll("button, select"),function(t){r.attach(t);}),r.quill.on(g.default.events.EDITOR_CHANGE,function(t,e){t===g.default.events.SELECTION_CHANGE&&r.update(e);}),r.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){var t=r.quill.selection.getRange(),e=f(t,1),n=e[0];r.update(n);}),r}return a(e,t),h(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e;}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,function(t){return 0===t.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n]){ return void x.warn("ignoring attaching to disabled format",n,t); }if(null==v.default.query(n)){ return void x.warn("ignoring attaching to nonexistent format",n,t) }}var r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,function(r){var i=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0){ return; }var l=t.options[t.selectedIndex];i=!l.hasAttribute("selected")&&(l.value||!1);}else { i=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault(); }e.quill.focus();var a=e.quill.selection.getRange(),s=f(a,1),u=s[0];if(null!=e.handlers[n]){ e.handlers[n].call(e,i); }else if(v.default.query(n).prototype instanceof v.default.Embed){if(!(i=prompt("Enter "+n))){ return; }e.quill.updateContents((new d.default).retain(u.index).delete(u.length).insert(o({},n,i)),g.default.sources.USER);}else { e.quill.format(n,i,g.default.sources.USER); }e.update(u);}),this.controls.push([n,t]);}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach(function(n){var r=f(n,2),o=r[0],i=r[1];if("SELECT"===i.tagName){var l=void 0;if(null==t){ l=null; }else if(null==e[o]){ l=i.querySelector("option[selected]"); }else if(!Array.isArray(e[o])){var a=e[o];"string"==typeof a&&(a=a.replace(/\"/g,'\\"')),l=i.querySelector('option[value="'+a+'"]');}null==l?(i.value="",i.selectedIndex=-1):l.selected=!0;}else if(null==t){ i.classList.remove("ql-active"); }else if(i.hasAttribute("value")){var s=e[o]===i.getAttribute("value")||null!=e[o]&&e[o].toString()===i.getAttribute("value")||null==e[o]&&!i.getAttribute("value");i.classList.toggle("ql-active",s);}else { i.classList.toggle("ql-active",null!=e[o]); }});}}]),e}(w.default);E.DEFAULTS={},E.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e){ if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(e){null!=v.default.query(e,v.default.Scope.INLINE)&&t.quill.format(e,!1);});}else { this.quill.removeFormat(e,g.default.sources.USER); } }},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",g.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,g.default.sources.USER),this.quill.format("direction",t,g.default.sources.USER);},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,g.default.sources.USER);}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,g.default.sources.USER);},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,g.default.sources.USER):this.quill.format("list","unchecked",g.default.sources.USER):this.quill.format("list",t,g.default.sources.USER);}}},e.default=E,e.addControls=u;},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>';},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(28),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary");}),i}return i(e,t),l(e,[{key:"buildItem",value:function(t){var n=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),o=t?t.getAttribute("data-value")||"":"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o);}}]),e}(u.default);e.default=c;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(28),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""];}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return i(e,t),l(e,[{key:"selectItem",value:function(t,n){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML;}}]),e}(u.default);e.default=c;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){var o=this;r(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px";}),this.hide();}return o(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden");}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=e+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=e+i+"px"),o.bottom>r.bottom){var l=o.bottom-o.top,a=t.bottom-t.top+l;this.root.style.top=n-a+"px",this.root.classList.add("ql-flip");}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden");}}]),t}();e.default=i;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var l,a=t[Symbol.iterator]();!(r=(l=a.next()).done)&&(n.push(l.value),!e||n.length!==e);r=!0){ }}catch(t){o=!0,i=t;}finally{try{!r&&a.return&&a.return();}finally{if(o){ throw i }}}return n}return function(e,n){if(Array.isArray(e)){ return e; }if(Symbol.iterator in Object(e)){ return t(e,n); }throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(3),f=r(c),h=n(8),p=r(h),d=n(43),y=r(d),v=n(27),b=r(v),g=n(15),m=n(41),_=r(m),O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(t){function e(t,n){o(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=O);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return l(e,t),u(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),_.default),this.tooltip=new x(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(e,n){t.handlers.link.call(t,!n.format.link);});}}]),e}(y.default);w.DEFAULTS=(0, f.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length){ return; }var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);this.quill.theme.tooltip.edit("link",n);}else { this.quill.format("link",!1); }}}}}});var x=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return l(e,t),u(e,[{key:"listen",value:function(){var t=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault();}),this.root.querySelector("a.ql-remove").addEventListener("click",function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,p.default.sources.USER),delete t.linkRange;}e.preventDefault(),t.hide();}),this.quill.on(p.default.events.SELECTION_CHANGE,function(e,n,r){if(null!=e){if(0===e.length&&r===p.default.sources.USER){var o=t.quill.scroll.descendant(b.default,e.index),i=a(o,2),l=i[0],s=i[1];if(null!=l){t.linkRange=new g.Range(e.index-s,l.length());var u=b.default.formats(l.domNode);return t.preview.textContent=u,t.preview.setAttribute("href",u),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else { delete t.linkRange; }t.hide();}});}},{key:"show",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode");}}]),e}(d.BaseTooltip);x.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=w;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(29),i=r(o),l=n(36),a=n(38),s=n(64),u=n(65),c=r(u),f=n(66),h=r(f),p=n(67),d=r(p),y=n(37),v=n(26),b=n(39),g=n(40),m=n(56),_=r(m),O=n(68),w=r(O),x=n(27),E=r(x),k=n(69),A=r(k),j=n(70),N=r(j),T=n(71),S=r(T),P=n(72),q=r(P),C=n(73),L=r(C),R=n(13),M=r(R),B=n(74),I=r(B),D=n(75),U=r(D),F=n(57),z=r(F),H=n(41),K=r(H),Y=n(28),V=r(Y),W=n(59),Z=r(W),G=n(60),X=r(G),$=n(61),Q=r($),J=n(108),tt=r(J),et=n(62),nt=r(et);i.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":y.BackgroundClass,"attributors/class/color":v.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":g.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":y.BackgroundStyle,"attributors/style/color":v.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":g.SizeStyle},!0),i.default.register({"formats/align":l.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":s.IndentClass,"formats/background":y.BackgroundStyle,"formats/color":v.ColorStyle,"formats/font":b.FontClass,"formats/size":g.SizeClass,"formats/blockquote":c.default,"formats/code-block":M.default,"formats/header":h.default,"formats/list":d.default,"formats/bold":_.default,"formats/code":R.Code,"formats/italic":w.default,"formats/link":E.default,"formats/script":A.default,"formats/strike":N.default,"formats/underline":S.default,"formats/image":q.default,"formats/video":L.default,"formats/list/item":p.ListItem,"modules/formula":I.default,"modules/syntax":U.default,"modules/toolbar":z.default,"themes/bubble":tt.default,"themes/snow":nt.default,"ui/icons":K.default,"ui/picker":V.default,"ui/icon-picker":X.default,"ui/color-picker":Z.default,"ui/tooltip":Q.default},!0),e.default=i.default;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1;}return 0===n?(this.remove(t),!0):a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(u.default.Attributor.Class),f=new c("indent","ql-indent",{scope:u.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=f;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=n(4),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(a.default);s.blotName="blockquote",s.tagName="blockquote",e.default=s;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),s=function(t){return t&&t.__esModule?t:{default:t}}(a),u=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(s.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],e.default=u;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function l(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},c=n(0),f=r(c),h=n(4),p=r(h),d=n(25),y=r(d),v=function(t){function e(){return i(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),s(e,[{key:"format",value:function(t,n){t!==b.blotName||n?u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(f.default.create(this.statics.scope));}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this);}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:u(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(p.default);v.blotName="list-item",v.tagName="LI";var b=function(t){function e(t){i(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),o=f.default.find(e.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked");}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return a(e,t),s(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=u(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return "checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return "OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),s(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e);}},{key:"formats",value:function(){return o({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof v){ u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n); }else{var r=null==n?this.length():n.offset(this),o=this.split(r);o.parent.insertBefore(t,o);}}},{key:"optimize",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove());}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=f.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n);}u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t);}}]),e}(y.default);b.blotName="list",b.scope=f.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[v],e.ListItem=v,e.default=b;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=n(56),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(a.default);s.blotName="italic",s.tagName=["EM","I"],e.default=s;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(6),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,null,[{key:"create",value:function(t){return "super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return "SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(u.default);c.blotName="script",c.tagName=["SUB","SUP"],e.default=c;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(a.default);s.blotName="strike",s.tagName="S",e.default=s;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=n(6),a=function(t){return t&&t.__esModule?t:{default:t}}(l),s=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),e}(a.default);s.blotName="underline",s.tagName="U",e.default=s;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(0),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=n(27),f=["alt","height","width"],h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);}}],[{key:"create",value:function(t){var n=a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return "string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"match",value:function(t){return /\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return (0, c.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(u.default.Embed);h.blotName="image",h.tagName="IMG",e.default=h;},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=n(4),u=n(27),c=function(t){return t&&t.__esModule?t:{default:t}}(u),f=["height","width"],h=function(t){function e(){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),l(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);}}],[{key:"create",value:function(t){var n=a(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}},{key:"sanitize",value:function(t){return c.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",e.default=h;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=n(35),c=r(u),f=n(5),h=r(f),p=n(9),d=r(p),y=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,null,[{key:"create",value:function(t){var n=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return "string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(c.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var v=function(t){function e(){o(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex){ throw new Error("Formula module requires KaTeX."); }return t}return l(e,t),a(e,null,[{key:"register",value:function(){h.default.register(y,!0);}}]),e}(d.default);e.FormulaBlot=y,e.default=v;},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},u=n(0),c=r(u),f=n(5),h=r(f),p=n(9),d=r(p),y=n(13),v=r(y),b=function(t){function e(){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t);}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e);}}]),e}(v.default);b.className="ql-syntax";var g=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),m=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof r.options.highlight){ throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill."); }var l=null;return r.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(l),l=setTimeout(function(){r.highlight(),l=null;},r.options.interval);}),r.highlight(),r}return l(e,t),a(e,null,[{key:"register",value:function(){h.default.register(g,!0),h.default.register(b,!0);}}]),a(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(e){e.highlight(t.options.highlight);}),this.quill.update(h.default.sources.SILENT),null!=e&&this.quill.setSelection(e,h.default.sources.SILENT);}}}]),e}(d.default);m.DEFAULTS={highlight:function(){return null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value}}(),interval:1e3},e.CodeBlock=b,e.CodeToken=g,e.default=m;},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>';},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>';},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>';},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>';},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>';},function(t,e,n){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function i(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var a=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(3),c=r(u),f=n(8),h=r(f),p=n(43),d=r(p),y=n(15),v=n(41),b=r(v),g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(t){function e(t,n){o(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return l(e,t),s(e,[{key:"extendToolbar",value:function(t){this.tooltip=new _(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),b.default);}}]),e}(d.default);m.DEFAULTS=(0, c.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1);}}}}});var _=function(t){function e(t,n){o(this,e);var r=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(h.default.events.EDITOR_CHANGE,function(t,e,n,o){if(t===h.default.events.SELECTION_CHANGE){ if(null!=e&&e.length>0&&o===h.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(e.index,e.length);if(1===i.length){ r.position(r.quill.getBounds(e)); }else{var l=i[i.length-1],a=r.quill.getIndex(l),s=Math.min(l.length()-1,e.index+e.length-a),u=r.quill.getBounds(new y.Range(a,s));r.position(u);}}else { document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide(); } }}),r}return l(e,t),s(e,[{key:"listen",value:function(){var t=this;a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){t.root.classList.remove("ql-editing");}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e));}},1);});}},{key:"cancel",value:function(){this.show();}},{key:"position",value:function(t){var n=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n){ return n; }r.style.marginLeft=-1*n-r.offsetWidth/2+"px";}}]),e}(p.BaseTooltip);_.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=_,e.default=m;},function(t,e,n){t.exports=n(63);}]).default});}).call(e,n(43).Buffer);},function(t,e,n){var r=n(11),o=n(1),i=r(o,"Map");t.exports=i;},function(t,e,n){var r=n(1),o=r.Symbol;t.exports=o;},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n;},function(t,e,n){function r(t,e,n){(void 0===n||i(t[e],n))&&(void 0!==n||e in t)||o(t,e,n);}var o=n(10),i=n(8);t.exports=r;},function(t,e,n){function r(t,e,n,f,h){t!==e&&l(e,function(l,u){if(s(l)){ h||(h=new o),a(t,e,u,n,r,f,h); }else{var p=f?f(c(t,u),l,u+"",t,e,h):void 0;void 0===p&&(p=l),i(t,u,p);}},u);}var o=n(48),i=n(19),l=n(53),a=n(58),s=n(0),u=n(34),c=n(27);t.exports=r;},function(t,e,n){function r(t,e){return l(i(t,e,o),t+"")}var o=n(28),i=n(96),l=n(97);t.exports=r;},function(t,e,n){var r=n(11),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o;},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n;}).call(e,n(35));},function(t,e,n){var r=n(95),o=r(Object.getPrototypeOf,Object);t.exports=o;},function(t,e){function n(t,e){var n=typeof t;return !!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n;},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n;},function(t,e){function n(t,e){return "__proto__"==e?void 0:t[e]}t.exports=n;},function(t,e){function n(t){return t}t.exports=n;},function(t,e,n){var r=n(54),o=n(2),i=Object.prototype,l=i.hasOwnProperty,a=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&l.call(t,"callee")&&!a.call(t,"callee")};t.exports=s;},function(t,e){var n=Array.isArray;t.exports=n;},function(t,e,n){(function(t){var r=n(1),o=n(109),i="object"==typeof e&&e&&!e.nodeType&&e,l=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=l&&l.exports===i,s=a?r.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||o;t.exports=c;}).call(e,n(14)(t));},function(t,e){function n(t){return "number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n;},function(t,e,n){var r=n(56),o=n(61),i=n(93),l=i&&i.isTypedArray,a=l?o(l):r;t.exports=a;},function(t,e,n){function r(t){return l(t)?o(t,!0):i(t)}var o=n(50),i=n(57),l=n(12);t.exports=r;},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0, eval)("this");}catch(t){"object"==typeof window&&(n=window);}t.exports=n;},function(t,e,n){e.a={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}};},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}n.d(e,"a",function(){return a});var l=n(9),a=function(t){function e(){
	var arguments$1 = arguments;
	var t,n,i,l;r(this,e);for(var a=arguments.length,s=Array(a),u=0;u<a;u++){ s[u]=arguments$1[u]; }return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onCreate=function(){i.display=document.createElement("div"),Object.assign(i.display.style,i.options.displayStyles),i.overlay.appendChild(i.display);},i.onDestroy=function(){},i.onUpdate=function(){if(i.display&&i.img){var t=i.getCurrentSize();if(i.display.innerHTML=t.join(" &times; "),t[0]>120&&t[1]>30){ Object.assign(i.display.style,{right:"4px",bottom:"4px",left:"auto"}); }else if("right"==i.img.style.float){var e=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"auto",bottom:"-"+(e.height+4)+"px",left:"-"+(e.width+4)+"px"});}else{var n=i.display.getBoundingClientRect();Object.assign(i.display.style,{right:"-"+(n.width+4)+"px",bottom:"-"+(n.height+4)+"px",left:"auto"});}}},i.getCurrentSize=function(){return [i.img.width,Math.round(i.img.width/i.img.naturalWidth*i.img.naturalHeight)]},l=n,o(i,l)}return i(e,t),e}(l.a);},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}n.d(e,"a",function(){return a});var l=n(9),a=function(t){function e(){
	var arguments$1 = arguments;
	var t,n,i,l;r(this,e);for(var a=arguments.length,s=Array(a),u=0;u<a;u++){ s[u]=arguments$1[u]; }return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onCreate=function(){i.boxes=[],i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.addBox("nwse-resize"),i.addBox("nesw-resize"),i.positionBoxes();},i.onDestroy=function(){i.setCursor("");},i.positionBoxes=function(){var t=-parseFloat(i.options.handleStyles.width)/2+"px",e=-parseFloat(i.options.handleStyles.height)/2+"px";[{left:t,top:e},{right:t,top:e},{right:t,bottom:e},{left:t,bottom:e}].forEach(function(t,e){Object.assign(i.boxes[e].style,t);});},i.addBox=function(t){var e=document.createElement("div");Object.assign(e.style,i.options.handleStyles),e.style.cursor=t,e.style.width=i.options.handleStyles.width+"px",e.style.height=i.options.handleStyles.height+"px",e.addEventListener("mousedown",i.handleMousedown,!1),i.overlay.appendChild(e),i.boxes.push(e);},i.handleMousedown=function(t){i.dragBox=t.target,i.dragStartX=t.clientX,i.preDragWidth=i.img.width||i.img.naturalWidth,i.setCursor(i.dragBox.style.cursor),document.addEventListener("mousemove",i.handleDrag,!1),document.addEventListener("mouseup",i.handleMouseup,!1);},i.handleMouseup=function(){i.setCursor(""),document.removeEventListener("mousemove",i.handleDrag),document.removeEventListener("mouseup",i.handleMouseup);},i.handleDrag=function(t){if(i.img){var e=t.clientX-i.dragStartX;i.dragBox===i.boxes[0]||i.dragBox===i.boxes[3]?i.img.width=Math.round(i.preDragWidth-e):i.img.width=Math.round(i.preDragWidth+e),i.requestUpdate();}},i.setCursor=function(t){[document.body,i.img].forEach(function(e){e.style.cursor=t;});},l=n,o(i,l)}return i(e,t),e}(l.a);},function(t,e,n){function r(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}function o(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}n.d(e,"a",function(){return _});var l=n(15),a=n.n(l),s=n(112),u=n.n(s),c=n(111),f=n.n(c),h=n(113),p=n.n(h),d=n(9),y=a.a.imports.parchment,v=new y.Attributor.Style("float","float"),b=new y.Attributor.Style("margin","margin"),g=new y.Attributor.Style("display","display"),m=new y.Attributor.Attribute("nameClass","class",{scope:y.Scope.INLINE});a.a.register(m);var _=function(t){function e(){
	var arguments$1 = arguments;
	var t,n,i,l;r(this,e);for(var a=arguments.length,s=Array(a),c=0;c<a;c++){ s[c]=arguments$1[c]; }return n=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onCreate=function(){i.toolbar=document.createElement("div"),Object.assign(i.toolbar.style,i.options.toolbarStyles),i.overlay.appendChild(i.toolbar),i._defineAlignments(),i._addToolbarButtons();},i.onDestroy=function(){},i.onUpdate=function(){},i._defineAlignments=function(){i.alignments=[{icon:u.a,apply:function(){g.add(i.img,"inline"),v.add(i.img,"left"),b.add(i.img,"0 1em 1em 0"),i.img.align="left";},isApplied:function(){return "left"==v.value(i.img)}},{icon:f.a,apply:function(){g.add(i.img,"block"),v.remove(i.img),b.add(i.img,"auto"),i.img.align="center";},isApplied:function(){return "auto"==b.value(i.img)}},{icon:p.a,apply:function(){g.add(i.img,"inline"),v.add(i.img,"right"),b.add(i.img,"0 0 1em 1em"),i.img.align="right";},isApplied:function(){return "right"==v.value(i.img)}}];},i._addToolbarButtons=function(){var t=[];i.alignments.forEach(function(e,n){var r=document.createElement("span");t.push(r),r.innerHTML=e.icon,r.addEventListener("click",function(){t.forEach(function(t){return t.style.filter=""}),e.isApplied()?(v.remove(i.img),b.remove(i.img),g.remove(i.img)):(i._selectButton(r),e.apply()),i.requestUpdate();}),Object.assign(r.style,i.options.toolbarButtonStyles),n>0&&(r.style.borderLeftWidth="0"),Object.assign(r.children[0].style,i.options.toolbarButtonSvgStyles),e.isApplied()&&i._selectButton(r),i.toolbar.appendChild(r);});},i._selectButton=function(t){t.style.filter="invert(20%)";},l=n,o(i,l)}return i(e,t),e}(d.a);},function(t,e,n){var r=n(18),o=n(21),i=n(70),l=n(108),a=o(function(t){return t.push(void 0,i),r(l,void 0,t)});t.exports=a;},function(t,e,n){function r(t,e){if(!t){ throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); }return !e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e){ throw new TypeError("Super expression must either be null or a function, not "+typeof e); }t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);}function i(t,e){if(!(t instanceof e)){ throw new TypeError("Cannot call a class as a function") }}Object.defineProperty(e,"__esModule",{value:!0});var l=n(15),a=n.n(l),s=n(40),u=n.n(s),c=n(36),f=n(37),h=n(39),p=n(38),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r);}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o){ return o.value; }var l=o.get;if(void 0!==l){ return l.call(r) }},v={DisplaySize:f.a,Toolbar:h.a,Resize:p.a},b=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.initializeModules=function(){n.removeModules(),n.modules=n.moduleClasses.map(function(t){return new(v[t]||t)(n)}),n.modules.forEach(function(t){t.onCreate();}),n.onUpdate();},this.onUpdate=function(){n.repositionElements(),n.modules.forEach(function(t){t.onUpdate();});},this.removeModules=function(){n.modules.forEach(function(t){t.onDestroy();}),n.modules=[];},this.handleClick=function(t){if(t.target&&t.target.tagName&&"IMG"===t.target.tagName.toUpperCase()){if(n.img===t.target){ return; }n.img&&n.hide(),n.show(t.target),t.preventDefault();}else { n.img&&n.hide(); }},this.handleScroll=function(t){n.hide();},this.show=function(t){n.img=t,n.showOverlay(),n.initializeModules();},this.showOverlay=function(){n.overlay&&n.hideOverlay(),n.quill.setSelection(null),n.setUserSelect("none"),document.addEventListener("keyup",n.checkImage,!0),n.quill.root.addEventListener("input",n.checkImage,!0),n.overlay=document.createElement("div"),Object.assign(n.overlay.style,n.options.overlayStyles),n.quill.root.parentNode.appendChild(n.overlay),n.repositionElements();},this.hideOverlay=function(){n.overlay&&(n.quill.root.parentNode.removeChild(n.overlay),n.overlay=void 0,document.removeEventListener("keyup",n.checkImage),n.quill.root.removeEventListener("input",n.checkImage),n.setUserSelect(""));},this.repositionElements=function(){if(n.overlay&&n.img){var t=n.quill.root.parentNode,e=n.img.getBoundingClientRect(),r=t.getBoundingClientRect();Object.assign(n.overlay.style,{left:e.left-r.left-1+t.scrollLeft+"px",top:e.top-r.top+t.scrollTop+"px",width:e.width+"px",height:e.height+"px"});}},this.hide=function(){n.hideOverlay(),n.removeModules(),n.img=void 0;},this.setUserSelect=function(t){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function(e){n.quill.root.style[e]=t,document.documentElement.style[e]=t;});},this.checkImage=function(t){n.img&&(46!=t.keyCode&&8!=t.keyCode||(window.Quill||a.a).find(n.img).deleteAt(0),n.hide());},this.quill=e;var o=!1;r.modules&&(o=r.modules.slice()),this.options=u()({},r,c.a),!1!==o&&(this.options.modules=o),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.addEventListener("mscontrolselect",this.handleClick,!1),this.quill.root.addEventListener("scroll",this.handleScroll,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,this.modules=[];};if(e.default=b,window.Quill){var g=["alt","height","width","style"],m=window.Quill.import("formats/image"),_=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),d(e,[{key:"format",value:function(t,n){g.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);}}],[{key:"formats",value:function(t){return g.reduce(function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e},{})}}]),e}(m);window.Quill.register(_,!0),"function"!=typeof Object.assign&&(Object.assign=function(t){
	var arguments$1 = arguments;
	if(null==t){ throw new TypeError("Cannot convert undefined or null to object"); }t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments$1[e];if(null!=n){ for(var r in n){ Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]); } }}return t}),window.Quill.register("modules/imageResize",b);}},function(t,e,n){function r(t){var e=t.length;if(e%4>0){ throw new Error("Invalid string. Length must be a multiple of 4"); }var n=t.indexOf("=");return -1===n&&(n=e),[n,n===e?0:4-n%4]}function o(t){var e=r(t),n=e[0],o=e[1];return 3*(n+o)/4-o}function i(t,e,n){return 3*(e+n)/4-n}function l(t){for(var e,n=r(t),o=n[0],l=n[1],a=new h(i(t,o,l)),s=0,u=l>0?o-4:o,c=0;c<u;c+=4){ e=f[t.charCodeAt(c)]<<18|f[t.charCodeAt(c+1)]<<12|f[t.charCodeAt(c+2)]<<6|f[t.charCodeAt(c+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e; }return 2===l&&(e=f[t.charCodeAt(c)]<<2|f[t.charCodeAt(c+1)]>>4,a[s++]=255&e),1===l&&(e=f[t.charCodeAt(c)]<<10|f[t.charCodeAt(c+1)]<<4|f[t.charCodeAt(c+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e),a}function a(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,n){for(var r,o=[],i=e;i<n;i+=3){ r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(a(r)); }return o.join("")}function u(t){for(var e,n=t.length,r=n%3,o=[],i=0,l=n-r;i<l;i+=16383){ o.push(s(t,i,i+16383>l?l:i+16383)); }return 1===r?(e=t[n-1],o.push(c[e>>2]+c[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(c[e>>10]+c[e>>4&63]+c[e<<2&63]+"=")),o.join("")}e.byteLength=o,e.toByteArray=l,e.fromByteArray=u;for(var c=[],f=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,y=p.length;d<y;++d){ c[d]=p[d],f[p.charCodeAt(d)]=d; }f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63;},function(t,e,n){(function(t){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e){ throw new RangeError("Invalid typed array length"); }return i.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=i.prototype):(null===t&&(t=new i(e)),t.length=e),t}function i(t,e,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i)){ return new i(t,e,n); }if("number"==typeof t){if("string"==typeof e){ throw new Error("If encoding is specified then the first argument must be a string"); }return u(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e){ throw new TypeError('"value" argument must not be a number'); }return "undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?c(t,e,n):p(t,e)}function a(t){if("number"!=typeof t){ throw new TypeError('"size" argument must be a number'); }if(t<0){ throw new RangeError('"size" argument must not be negative') }}function s(t,e,n,r){return a(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function u(t,e){if(a(e),t=o(t,e<0?0:0|d(e)),!i.TYPED_ARRAY_SUPPORT){ for(var n=0;n<e;++n){ t[n]=0; } }return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n)){ throw new TypeError('"encoding" must be a valid string encoding'); }var r=0|v(e,n);t=o(t,r);var l=t.write(e,n);return l!==r&&(t=t.slice(0,l)),t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=o(t,n);for(var r=0;r<n;r+=1){ t[r]=255&e[r]; }return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n){ throw new RangeError("'offset' is out of bounds"); }if(e.byteLength<n+(r||0)){ throw new RangeError("'length' is out of bounds"); }return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),i.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=i.prototype):t=f(t,e),t}function p(t,e){if(i.isBuffer(e)){var n=0|d(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e){ return "number"!=typeof e.length||G(e.length)?o(t,0):f(t,e); }if("Buffer"===e.type&&Q(e.data)){ return f(t,e.data) }}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=r()){ throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes"); }return 0|t}function y(t){return +t!=t&&(t=0),i.alloc(+t)}function v(t,e){if(i.isBuffer(t)){ return t.length; }if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)){ return t.byteLength; }"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n){ return 0; }for(var r=!1;;){ switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r){ return K(t).length; }e=(""+e).toLowerCase(),r=!0;} }}function b(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length){ return ""; }if((void 0===n||n>this.length)&&(n=this.length),n<=0){ return ""; }if(n>>>=0,e>>>=0,n<=e){ return ""; }for(t||(t="utf8");;){ switch(t){case"hex":return q(this,e,n);case"utf8":case"utf-8":return N(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r){ throw new TypeError("Unknown encoding: "+t); }t=(t+"").toLowerCase(),r=!0;} }}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r;}function m(t,e,n,r,o){if(0===t.length){ return -1; }if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o){ return -1; }n=t.length-1;}else if(n<0){if(!o){ return -1; }n=0;}if("string"==typeof e&&(e=i.from(e,r)),i.isBuffer(e)){ return 0===e.length?-1:_(t,e,n,r,o); }if("number"==typeof e){ return e&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,o); }throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,o){function i(t,e){return 1===l?t[e]:t.readUInt16BE(e*l)}var l=1,a=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2){ return -1; }l=2,a/=2,s/=2,n/=2;}var u;if(o){var c=-1;for(u=n;u<a;u++){ if(i(t,u)===i(e,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===s){ return c*l }}else{ -1!==c&&(u-=u-c),c=-1; } }}else { for(n+s>a&&(n=a-s),u=n;u>=0;u--){for(var f=!0,h=0;h<s;h++){ if(i(t,u+h)!==i(e,h)){f=!1;break} }if(f){ return u }} }return -1}function O(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0){ throw new TypeError("Invalid hex string"); }r>i/2&&(r=i/2);for(var l=0;l<r;++l){var a=parseInt(e.substr(2*l,2),16);if(isNaN(a)){ return l; }t[n+l]=a;}return l}function w(t,e,n,r){return Z(K(e,t.length-n),t,n,r)}function x(t,e,n,r){return Z(Y(e),t,n,r)}function E(t,e,n,r){return x(t,e,n,r)}function k(t,e,n,r){return Z(W(e),t,n,r)}function A(t,e,n,r){return Z(V(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,n))}function N(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i=t[o],l=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=n){var s,u,c,f;switch(a){case 1:i<128&&(l=i);break;case 2:s=t[o+1],128==(192&s)&&(f=(31&i)<<6|63&s)>127&&(l=f);break;case 3:s=t[o+1],u=t[o+2],128==(192&s)&&128==(192&u)&&(f=(15&i)<<12|(63&s)<<6|63&u)>2047&&(f<55296||f>57343)&&(l=f);break;case 4:s=t[o+1],u=t[o+2],c=t[o+3],128==(192&s)&&128==(192&u)&&128==(192&c)&&(f=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&c)>65535&&f<1114112&&(l=f);}}null===l?(l=65533,a=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=a;}return T(r)}function T(t){var e=t.length;if(e<=J){ return String.fromCharCode.apply(String,t); }for(var n="",r=0;r<e;){ n+=String.fromCharCode.apply(String,t.slice(r,r+=J)); }return n}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o){ r+=String.fromCharCode(127&t[o]); }return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o){ r+=String.fromCharCode(t[o]); }return r}function q(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i){ o+=H(t[i]); }return o}function C(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2){ o+=String.fromCharCode(r[i]+256*r[i+1]); }return o}function L(t,e,n){if(t%1!=0||t<0){ throw new RangeError("offset is not uint"); }if(t+e>n){ throw new RangeError("Trying to access beyond buffer length") }}function R(t,e,n,r,o,l){if(!i.isBuffer(t)){ throw new TypeError('"buffer" argument must be a Buffer instance'); }if(e>o||e<l){ throw new RangeError('"value" argument is out of bounds'); }if(n+r>t.length){ throw new RangeError("Index out of range") }}function M(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o){ t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o); }}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o){ t[n+o]=e>>>8*(r?o:3-o)&255; }}function I(t,e,n,r,o,i){if(n+r>t.length){ throw new RangeError("Index out of range"); }if(n<0){ throw new RangeError("Index out of range") }}function D(t,e,n,r,o){return o||I(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,o){return o||I(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function F(t){if(t=z(t).replace(tt,""),t.length<2){ return ""; }for(;t.length%4!=0;){ t+="="; }return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function K(t,e){e=e||1/0;for(var n,r=t.length,o=null,i=[],l=0;l<r;++l){if((n=t.charCodeAt(l))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(l+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320);}else { o&&(e-=3)>-1&&i.push(239,191,189); }if(o=null,n<128){if((e-=1)<0){ break; }i.push(n);}else if(n<2048){if((e-=2)<0){ break; }i.push(n>>6|192,63&n|128);}else if(n<65536){if((e-=3)<0){ break; }i.push(n>>12|224,n>>6&63|128,63&n|128);}else{if(!(n<1114112)){ throw new Error("Invalid code point"); }if((e-=4)<0){ break; }i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128);}}return i}function Y(t){for(var e=[],n=0;n<t.length;++n){ e.push(255&t.charCodeAt(n)); }return e}function V(t,e){for(var n,r,o,i=[],l=0;l<t.length&&!((e-=2)<0);++l){ n=t.charCodeAt(l),r=n>>8,o=n%256,i.push(o),i.push(r); }return i}function W(t){return X.toByteArray(F(t))}function Z(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o){ e[o+n]=t[o]; }return o}function G(t){return t!==t}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
	var X=n(42),$=n(44),Q=n(45);e.Buffer=i,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return !1}}(),e.kMaxLength=r(),i.poolSize=8192,i._augment=function(t){return t.__proto__=i.prototype,t},i.from=function(t,e,n){return l(null,t,e,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(t,e,n){return s(null,t,e,n)},i.allocUnsafe=function(t){return u(null,t)},i.allocUnsafeSlow=function(t){return u(null,t)},i.isBuffer=function(t){return !(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e)){ throw new TypeError("Arguments must be Buffers"); }if(t===e){ return 0; }for(var n=t.length,r=e.length,o=0,l=Math.min(n,r);o<l;++o){ if(t[o]!==e[o]){n=t[o],r=e[o];break} }return n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return !0;default:return !1}},i.concat=function(t,e){if(!Q(t)){ throw new TypeError('"list" argument must be an Array of Buffers'); }if(0===t.length){ return i.alloc(0); }var n;if(void 0===e){ for(e=0,n=0;n<t.length;++n){ e+=t[n].length; } }var r=i.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var l=t[n];if(!i.isBuffer(l)){ throw new TypeError('"list" argument must be an Array of Buffers'); }l.copy(r,o),o+=l.length;}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0){ throw new RangeError("Buffer size must be a multiple of 16-bits"); }for(var e=0;e<t;e+=2){ g(this,e,e+1); }return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0){ throw new RangeError("Buffer size must be a multiple of 32-bits"); }for(var e=0;e<t;e+=4){ g(this,e,e+3),g(this,e+1,e+2); }return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0){ throw new RangeError("Buffer size must be a multiple of 64-bits"); }for(var e=0;e<t;e+=8){ g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4); }return this},i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?N(this,0,t):b.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t)){ throw new TypeError("Argument must be a Buffer"); }return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,n,r,o){if(!i.isBuffer(t)){ throw new TypeError("Argument must be a Buffer"); }if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length){ throw new RangeError("out of range index"); }if(r>=o&&e>=n){ return 0; }if(r>=o){ return -1; }if(e>=n){ return 1; }if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t){ return 0; }for(var l=o-r,a=n-e,s=Math.min(l,a),u=this.slice(r,o),c=t.slice(e,n),f=0;f<s;++f){ if(u[f]!==c[f]){l=u[f],a=c[f];break} }return l<a?-1:a<l?1:0},i.prototype.includes=function(t,e,n){return -1!==this.indexOf(t,e,n)},i.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},i.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},i.prototype.write=function(t,e,n,r){if(void 0===e){ r="utf8",n=this.length,e=0; }else if(void 0===n&&"string"==typeof e){ r=e,n=this.length,e=0; }else{if(!isFinite(e)){ throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported"); }e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length){ throw new RangeError("Attempt to write outside buffer bounds"); }r||(r="utf8");for(var i=!1;;){ switch(r){case"hex":return O(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(i){ throw new TypeError("Unknown encoding: "+r); }r=(""+r).toLowerCase(),i=!0;} }},i.prototype.toJSON=function(){return {type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(i.TYPED_ARRAY_SUPPORT){ r=this.subarray(t,e),r.__proto__=i.prototype; }else{var o=e-t;r=new i(o,void 0);for(var l=0;l<o;++l){ r[l]=this[l+t]; }}return r},i.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);){ r+=this[t+i]*o; }return r},i.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);){ r+=this[t+--e]*o; }return r},i.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);){ r+=this[t+i]*o; }return o*=128,r>=o&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);){ i+=this[t+--r]*o; }return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i},i.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),$.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),$.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),$.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),$.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0);}var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);){ this[e+i]=t/o&255; }return e+n},i.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){R(this,t,e,n,Math.pow(2,8*n)-1,0);}var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);){ this[e+o]=t/i&255; }return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);R(this,t,e,n,o-1,-o);}var i=0,l=1,a=0;for(this[e]=255&t;++i<n&&(l*=256);){ t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/l>>0)-a&255; }return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);R(this,t,e,n,o-1,-o);}var i=n-1,l=1,a=0;for(this[e+i]=255&t;--i>=0&&(l*=256);){ t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/l>>0)-a&255; }return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n){ return 0; }if(0===t.length||0===this.length){ return 0; }if(e<0){ throw new RangeError("targetStart out of bounds"); }if(n<0||n>=this.length){ throw new RangeError("sourceStart out of bounds"); }if(r<0){ throw new RangeError("sourceEnd out of bounds"); }r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,l=r-n;if(this===t&&n<e&&e<r){ for(o=l-1;o>=0;--o){ t[o+e]=this[o+n]; } }else if(l<1e3||!i.TYPED_ARRAY_SUPPORT){ for(o=0;o<l;++o){ t[o+e]=this[o+n]; } }else { Uint8Array.prototype.set.call(t,this.subarray(n,n+l),e); }return l},i.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o);}if(void 0!==r&&"string"!=typeof r){ throw new TypeError("encoding must be a string"); }if("string"==typeof r&&!i.isEncoding(r)){ throw new TypeError("Unknown encoding: "+r) }}else{ "number"==typeof t&&(t&=255); }if(e<0||this.length<e||this.length<n){ throw new RangeError("Out of range index"); }if(n<=e){ return this; }e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var l;if("number"==typeof t){ for(l=e;l<n;++l){ this[l]=t; } }else{var a=i.isBuffer(t)?t:K(new i(t,r).toString()),s=a.length;for(l=0;l<n-e;++l){ this[l+e]=a[l%s]; }}return this};var tt=/[^+\/0-9A-Za-z-_]/g;}).call(e,n(35));},function(t,e){e.read=function(t,e,n,r,o){var i,l,a=8*o-r-1,s=(1<<a)-1,u=s>>1,c=-7,f=n?o-1:0,h=n?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-c)-1,p>>=-c,c+=a;c>0;i=256*i+t[e+f],f+=h,c-=8){ }for(l=i&(1<<-c)-1,i>>=-c,c+=r;c>0;l=256*l+t[e+f],f+=h,c-=8){ }if(0===i){ i=1-u; }else{if(i===s){ return l?NaN:1/0*(p?-1:1); }l+=Math.pow(2,r),i-=u;}return (p?-1:1)*l*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var l,a,s,u=8*i-o-1,c=(1<<u)-1,f=c>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,l=c):(l=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-l))<1&&(l--,s*=2),e+=l+f>=1?h/s:h*Math.pow(2,1-f),e*s>=2&&(l++,s/=2),l+f>=c?(a=0,l=c):l+f>=1?(a=(e*s-1)*Math.pow(2,o),l+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,o),l=0));o>=8;t[n+p]=255&a,p+=d,a/=256,o-=8){ }for(l=l<<o|a,u+=o;u>0;t[n+p]=255&l,p+=d,l/=256,u-=8){ }t[n+p-d]|=128*y;};},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return "[object Array]"==n.call(t)};},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1]);}}var o=n(73),i=n(74),l=n(75),a=n(76),s=n(77);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=l,r.prototype.has=a,r.prototype.set=s,t.exports=r;},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1]);}}var o=n(87),i=n(88),l=n(89),a=n(90),s=n(91);r.prototype.clear=o,r.prototype.delete=i,r.prototype.get=l,r.prototype.has=a,r.prototype.set=s,t.exports=r;},function(t,e,n){function r(t){var e=this.__data__=new o(t);this.size=e.size;}var o=n(3),i=n(99),l=n(100),a=n(101),s=n(102),u=n(103);r.prototype.clear=i,r.prototype.delete=l,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r;},function(t,e,n){var r=n(1),o=r.Uint8Array;t.exports=o;},function(t,e,n){function r(t,e){var n=l(t),r=!n&&i(t),c=!n&&!r&&a(t),h=!n&&!r&&!c&&u(t),p=n||r||c||h,d=p?o(t.length,String):[],y=d.length;for(var v in t){ !e&&!f.call(t,v)||p&&("length"==v||c&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,y))||d.push(v); }return d}var o=n(60),i=n(29),l=n(30),a=n(31),s=n(25),u=n(33),c=Object.prototype,f=c.hasOwnProperty;t.exports=r;},function(t,e,n){function r(t,e,n){var r=t[e];a.call(t,e)&&i(r,n)&&(void 0!==n||e in t)||o(t,e,n);}var o=n(10),i=n(8),l=Object.prototype,a=l.hasOwnProperty;t.exports=r;},function(t,e,n){var r=n(0),o=Object.create,i=function(){function t(){}return function(e){if(!r(e)){ return {}; }if(o){ return o(e); }t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i;},function(t,e,n){var r=n(69),o=r();t.exports=o;},function(t,e,n){function r(t){return i(t)&&o(t)==l}var o=n(5),i=n(2),l="[object Arguments]";t.exports=r;},function(t,e,n){function r(t){return !(!l(t)||i(t))&&(o(t)?d:u).test(a(t))}var o=n(13),i=n(81),l=n(0),a=n(104),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,h=c.toString,p=f.hasOwnProperty,d=RegExp("^"+h.call(p).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r;},function(t,e,n){function r(t){return l(t)&&i(t.length)&&!!a[o(t)]}var o=n(5),i=n(32),l=n(2),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=r;},function(t,e,n){function r(t){if(!o(t)){ return l(t); }var e=i(t),n=[];for(var r in t){ ("constructor"!=r||!e&&s.call(t,r))&&n.push(r); }return n}var o=n(0),i=n(26),l=n(92),a=Object.prototype,s=a.hasOwnProperty;t.exports=r;},function(t,e,n){function r(t,e,n,r,m,_,O){var w=b(t,n),x=b(e,n),E=O.get(x);if(E){ return void o(t,n,E); }var k=_?_(w,x,n+"",t,e,O):void 0,A=void 0===k;if(A){var j=c(x),N=!j&&h(x),T=!j&&!N&&v(x);k=x,j||N||T?c(w)?k=w:f(w)?k=a(w):N?(A=!1,k=i(x,!0)):T?(A=!1,k=l(x,!0)):k=[]:y(x)||u(x)?(k=w,u(w)?k=g(w):(!d(w)||r&&p(w))&&(k=s(x))):A=!1;}A&&(O.set(x,k),m(k,x,r,_,O),O.delete(x)),o(t,n,k);}var o=n(19),i=n(63),l=n(64),a=n(65),s=n(78),u=n(29),c=n(30),f=n(106),h=n(31),p=n(13),d=n(0),y=n(107),v=n(33),b=n(27),g=n(110);t.exports=r;},function(t,e,n){var r=n(105),o=n(22),i=n(28),l=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=l;},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;){ r[n]=e(n); }return r}t.exports=n;},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n;},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new o(e).set(new o(t)),e}var o=n(49);t.exports=r;},function(t,e,n){(function(t){function r(t,e){if(e){ return t.slice(); }var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}var o=n(1),i="object"==typeof e&&e&&!e.nodeType&&e,l=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=l&&l.exports===i,s=a?o.Buffer:void 0,u=s?s.allocUnsafe:void 0;t.exports=r;}).call(e,n(14)(t));},function(t,e,n){function r(t,e){var n=e?o(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var o=n(62);t.exports=r;},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;){ e[n]=t[n]; }return e}t.exports=n;},function(t,e,n){function r(t,e,n,r){var l=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),l?i(n,u,c):o(n,u,c);}return n}var o=n(51),i=n(10);t.exports=r;},function(t,e,n){var r=n(1),o=r["__core-js_shared__"];t.exports=o;},function(t,e,n){function r(t){return o(function(e,n){var r=-1,o=n.length,l=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(l=t.length>3&&"function"==typeof l?(o--,l):void 0,a&&i(n[0],n[1],a)&&(l=o<3?void 0:l,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,l);}return e})}var o=n(21),i=n(79);t.exports=r;},function(t,e){function n(t){return function(e,n,r){for(var o=-1,i=Object(e),l=r(e),a=l.length;a--;){var s=l[t?a:++o];if(!1===n(i[s],s,i)){ break }}return e}}t.exports=n;},function(t,e,n){function r(t,e,n,l,a,s){return i(t)&&i(e)&&(s.set(e,t),o(t,e,void 0,r,s),s.delete(e)),t}var o=n(20),i=n(0);t.exports=r;},function(t,e,n){function r(t){var e=l.call(t,s),n=t[s];try{t[s]=void 0;var r=!0;}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}var o=n(17),i=Object.prototype,l=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;t.exports=r;},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n;},function(t,e,n){function r(){this.__data__=o?o(null):{},this.size=0;}var o=n(7);t.exports=r;},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n;},function(t,e,n){function r(t){var e=this.__data__;if(o){var n=e[t];return n===i?void 0:n}return a.call(e,t)?e[t]:void 0}var o=n(7),i="__lodash_hash_undefined__",l=Object.prototype,a=l.hasOwnProperty;t.exports=r;},function(t,e,n){function r(t){var e=this.__data__;return o?void 0!==e[t]:l.call(e,t)}var o=n(7),i=Object.prototype,l=i.hasOwnProperty;t.exports=r;},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=o&&void 0===e?i:e,this}var o=n(7),i="__lodash_hash_undefined__";t.exports=r;},function(t,e,n){function r(t){return "function"!=typeof t.constructor||l(t)?{}:o(i(t))}var o=n(52),i=n(24),l=n(26);t.exports=r;},function(t,e,n){function r(t,e,n){if(!a(n)){ return !1; }var r=typeof e;return !!("number"==r?i(n)&&l(e,n.length):"string"==r&&e in n)&&o(n[e],t)}var o=n(8),i=n(12),l=n(25),a=n(0);t.exports=r;},function(t,e){function n(t){var e=typeof t;return "string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n;},function(t,e,n){function r(t){return !!i&&i in t}var o=n(67),i=function(){var t=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r;},function(t,e){function n(){this.__data__=[],this.size=0;}t.exports=n;},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return !(n<0)&&(n==e.length-1?e.pop():l.call(e,n,1),--this.size,!0)}var o=n(4),i=Array.prototype,l=i.splice;t.exports=r;},function(t,e,n){function r(t){var e=this.__data__,n=o(e,t);return n<0?void 0:e[n][1]}var o=n(4);t.exports=r;},function(t,e,n){function r(t){return o(this.__data__,t)>-1}var o=n(4);t.exports=r;},function(t,e,n){function r(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var o=n(4);t.exports=r;},function(t,e,n){function r(){this.size=0,this.__data__={hash:new o,map:new(l||i),string:new o};}var o=n(46),i=n(3),l=n(16);t.exports=r;},function(t,e,n){function r(t){var e=o(this,t).delete(t);return this.size-=e?1:0,e}var o=n(6);t.exports=r;},function(t,e,n){function r(t){return o(this,t).get(t)}var o=n(6);t.exports=r;},function(t,e,n){function r(t){return o(this,t).has(t)}var o=n(6);t.exports=r;},function(t,e,n){function r(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var o=n(6);t.exports=r;},function(t,e){function n(t){var e=[];if(null!=t){ for(var n in Object(t)){ e.push(n); } }return e}t.exports=n;},function(t,e,n){(function(t){var r=n(23),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,l=i&&i.exports===o,a=l&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s;}).call(e,n(14)(t));},function(t,e){function n(t){return o.call(t)}var r=Object.prototype,o=r.toString;t.exports=n;},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n;},function(t,e,n){function r(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var r=arguments,l=-1,a=i(r.length-e,0),s=Array(a);++l<a;){ s[l]=r[e+l]; }l=-1;for(var u=Array(e+1);++l<e;){ u[l]=r[l]; }return u[e]=n(s),o(t,this,u)}}var o=n(18),i=Math.max;t.exports=r;},function(t,e,n){var r=n(59),o=n(98),i=o(r);t.exports=i;},function(t,e){function n(t){var e=0,n=0;return function(){var l=i(),a=o-(l-n);if(n=l,a>0){if(++e>=r){ return arguments[0] }}else { e=0; }return t.apply(void 0,arguments)}}var r=800,o=16,i=Date.now;t.exports=n;},function(t,e,n){function r(){this.__data__=new o,this.size=0;}var o=n(3);t.exports=r;},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n;},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n;},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n;},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!i||r.length<a-1){ return r.push([t,e]),this.size=++n.size,this; }n=this.__data__=new l(r);}return n.set(t,e),this.size=n.size,this}var o=n(3),i=n(16),l=n(47),a=200;t.exports=r;},function(t,e){function n(t){if(null!=t){try{return o.call(t)}catch(t){}try{return t+""}catch(t){}}return ""}var r=Function.prototype,o=r.toString;t.exports=n;},function(t,e){function n(t){return function(){return t}}t.exports=n;},function(t,e,n){function r(t){return i(t)&&o(t)}var o=n(12),i=n(2);t.exports=r;},function(t,e,n){function r(t){if(!l(t)||o(t)!=a){ return !1; }var e=i(t);if(null===e){ return !0; }var n=f.call(e,"constructor")&&e.constructor;return "function"==typeof n&&n instanceof n&&c.call(n)==h}var o=n(5),i=n(24),l=n(2),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=c.call(Object);t.exports=r;},function(t,e,n){var r=n(20),o=n(68),i=o(function(t,e,n,o){r(t,e,n,o);});t.exports=i;},function(t,e){function n(){return !1}t.exports=n;},function(t,e,n){function r(t){return o(t,i(t))}var o=n(66),i=n(34);t.exports=r;},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n</svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n</svg>';},function(t,e){t.exports='<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n</svg>';}])});
	});

	var ImageResize = unwrapExports(imageResize_min);
	var imageResize_min_1 = imageResize_min.ImageResize;

	Quill.register('modules/imageResize', ImageResize);
	var CodeBlockContainer = Quill.import('formats/code-block-container');
	CodeBlockContainer.tagName = 'PRE';
	Quill.register(CodeBlockContainer, true);

	// table
	var Table = Quill.import('formats/table-container');
	var superCreate = Table.create.bind(Table);
	Table.create = function (value) {
		var node = superCreate(value);
		node.classList.add('table');
		node.classList.add('table-bordered');
		return node;
	};

	Quill.register(Table, true);

	// link without href
	var Link = Quill.import('formats/link');

	class MyLink extends Link {
		static create(value) {
			var node = super.create(value);
			value = this.sanitize(value);
			node.setAttribute('href', value);
			if (value.startsWith('/') || value.indexOf(window.location.host)) {
				// no href if internal link
				node.removeAttribute('target');
			}
			return node;
		}
	}

	Quill.register(MyLink, true);

	// image uploader
	var Uploader = Quill.import('modules/uploader');
	Uploader.DEFAULTS.mimetypes.push('image/gif');

	// inline style
	var BackgroundStyle = Quill.import('attributors/style/background');
	var ColorStyle = Quill.import('attributors/style/color');
	var FontStyle = Quill.import('attributors/style/font');
	var AlignStyle = Quill.import('attributors/style/align');
	var DirectionStyle = Quill.import('attributors/style/direction');
	Quill.register(BackgroundStyle, true);
	Quill.register(ColorStyle, true);
	Quill.register(FontStyle, true);
	Quill.register(AlignStyle, true);
	Quill.register(DirectionStyle, true);

	// direction class
	var DirectionClass = Quill.import('attributors/class/direction');
	Quill.register(DirectionClass, true);

	// replace font tag with span
	var Inline = Quill.import('blots/inline');

	class CustomColor extends Inline {
		constructor(domNode, value) {
			super(domNode, value);
			this.domNode.style.color = this.domNode.color;
			domNode.outerHTML = this.domNode.outerHTML.replace(/<font/g, '<span').replace(/<\/font>/g, '</span>');
		}
	}

	CustomColor.blotName = "customColor";
	CustomColor.tagName = "font";

	Quill.register(CustomColor, true);

	frappe.ui.form.ControlTextEditor = frappe.ui.form.ControlCode.extend({
		make_wrapper: function make_wrapper() {
			this._super();
		},

		make_input: function make_input() {
			this.has_input = true;
			this.make_quill_editor();
		},

		make_quill_editor: function make_quill_editor() {
			if (this.quill) { return; }
			this.quill_container = $('<div>').appendTo(this.input_area);
			this.quill = new Quill(this.quill_container[0], this.get_quill_options());
			this.bind_events();
		},

		bind_events: function bind_events() {
			var this$1 = this;

			this.quill.on('text-change', frappe.utils.debounce(function (delta, oldDelta, source) {
				if (!this$1.is_quill_dirty(source)) { return; }

				var input_value = this$1.get_input_value();
				this$1.parse_validate_and_set_in_model(input_value);
			}, 300));

			$(this.quill.root).on('keydown', function (e) {
				var key = frappe.ui.keys && frappe.ui.keys.get_key(e);
				if (['ctrl+b', 'meta+b'].includes(key)) {
					e.stopPropagation();
				}
			});

			$(this.quill.root).on('drop', function (e) {
				e.stopPropagation();
			});

			// table commands
			this.$wrapper.on('click', '.ql-table .ql-picker-item', function (e) {
				var $target = $(e.currentTarget);
				var action = $target.data().value;
				e.preventDefault();

				var table = this$1.quill.getModule('table');
				if (action === 'insert-table') {
					table.insertTable(2, 2);
				} else if (action === 'insert-row-above') {
					table.insertRowAbove();
				} else if (action === 'insert-row-below') {
					table.insertRowBelow();
				} else if (action === 'insert-column-left') {
					table.insertColumnLeft();
				} else if (action === 'insert-column-right') {
					table.insertColumnRight();
				} else if (action === 'delete-row') {
					table.deleteRow();
				} else if (action === 'delete-column') {
					table.deleteColumn();
				} else if (action === 'delete-table') {
					table.deleteTable();
				}

				if (action !== 'delete-row') {
					table.balanceTables();
				}

				e.preventDefault();
			});
		},

		is_quill_dirty: function is_quill_dirty(source) {
			if (source === 'api') { return false; }
			var input_value = this.get_input_value();
			return this.value !== input_value;
		},

		get_quill_options: function get_quill_options() {
			return {
				modules: {
					toolbar: this.get_toolbar_options(),
					table: true,
					imageResize: {}
				},
				theme: 'snow'
			};
		},

		get_toolbar_options: function get_toolbar_options() {
			return [
				[{ 'header': [1, 2, 3, false] }],
				['bold', 'italic', 'underline', 'clean'],
				[{ 'color': [] }, { 'background': [] }],
				['blockquote', 'code-block'],
				// Adding Direction tool to give the user the ability to change text direction.
				[{ 'direction': "rtl" }],
				['link', 'image'],
				[{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'list': 'check' }],
				[{ 'align': [] }],
				[{ 'indent': '-1'}, { 'indent': '+1' }],
				[{'table': [
					'insert-table',
					'insert-row-above',
					'insert-row-below',
					'insert-column-right',
					'insert-column-left',
					'delete-row',
					'delete-column',
					'delete-table' ]}] ];
		},

		parse: function parse(value) {
			if (value == null) {
				value = "";
			}
			return frappe.dom.remove_script_and_style(value);
		},

		set_formatted_input: function set_formatted_input(value) {
			if (!this.quill) { return; }
			if (value === this.get_input_value()) { return; }
			if (!value) {
				// clear contents for falsy values like '', undefined or null
				this.quill.setText('');
				return;
			}

			// set html without triggering a focus
			var delta = this.quill.clipboard.convert({ html: value, text: '' });
			this.quill.setContents(delta);
		},

		get_input_value: function get_input_value() {
			var value = this.quill ? this.quill.root.innerHTML : '';
			// hack to retain space sequence.
			value = value.replace(/(\s)(\s)/g, ' &nbsp;');

			try {
				if (!$(value).find('.ql-editor').length) {
					value = "<div class=\"ql-editor read-mode\">" + value + "</div>";
				}
			} catch(e) {
				value = "<div class=\"ql-editor read-mode\">" + value + "</div>";
			}

			return value;
		},

		set_focus: function set_focus() {
			this.quill.focus();
		}
	});

	/* eslint-disable */
	var Keys = {
	  TAB: 'Tab',
	  ENTER: 'Enter',
	  ESCAPE: 27,
	  UP: 'ArrowUp',
	  DOWN: 'ArrowDown',
	};

	/* eslint-disable */

	var Embed = Quill.import('blots/embed');


	class MentionBlot extends Embed {
	  static create(data) {
	    var node = super.create();
	    var denotationChar = document.createElement('span');
	    denotationChar.className = 'ql-mention-denotation-char';
	    denotationChar.innerHTML = data.denotationChar;
	    node.appendChild(denotationChar);
	    node.innerHTML += data.value;
	    node.innerHTML += "" + (data.isGroup === 'true' ? frappe.utils.icon('users') : '');
	    node.dataset.id = data.id;
	    node.dataset.value = data.value;
	    node.dataset.denotationChar = data.denotationChar;
		node.dataset.isGroup = data.isGroup;
	    if (data.link) {
	      node.dataset.link = data.link;
	    }
	    return node;
	  }

	  static value(domNode) {
	    return {
	      id: domNode.dataset.id,
	      value: domNode.dataset.value,
	      link: domNode.dataset.link || null,
	      denotationChar: domNode.dataset.denotationChar,
	      isGroup: domNode.dataset.isGroup,
	    };
	  }
	}

	MentionBlot.blotName = 'mention';
	MentionBlot.tagName = 'span';
	MentionBlot.className = 'mention';

	Quill.register(MentionBlot, true);

	/* eslint-disable */


	class Mention {
	  constructor(quill, options) {
	    this.isOpen = false;
	    this.itemIndex = 0;
	    this.mentionCharPos = null;
	    this.cursorPos = null;
	    this.values = [];
	    this.suspendMouseEnter = false;

	    this.quill = quill;

	    this.options = {
	      source: null,
	      renderItem: function renderItem(item, searchTerm) {
	        return ("" + (item.value));
	      },
	      mentionDenotationChars: ['@'],
	      allowedChars: /^[a-zA-Z0-9_]*$/,
	      minChars: 0,
	      maxChars: 31,
	      offsetTop: 2,
	      offsetLeft: 0,
	      isolateCharacter: false,
	      fixMentionsToQuill: false,
	      defaultMenuOrientation: 'bottom',
	    };

	    Object.assign(this.options, options);

	    this.mentionContainer = document.createElement('div');
	    this.mentionContainer.className = 'ql-mention-list-container';
	    this.mentionContainer.style.cssText = 'display: none; position: absolute;';
	    this.mentionContainer.onmousemove = this.onContainerMouseMove.bind(this);

	    if (this.options.fixMentionsToQuill) {
	      this.mentionContainer.style.width = 'auto';
	    }

	    this.mentionList = document.createElement('ul');
	    this.mentionList.className = 'ql-mention-list';
	    this.mentionContainer.appendChild(this.mentionList);

	    this.quill.container.appendChild(this.mentionContainer);

	    quill.on('text-change', this.onTextChange.bind(this));
	    quill.on('selection-change', this.onSelectionChange.bind(this));

	    quill.keyboard.addBinding({
	      key: Keys.TAB,
	    }, this.selectHandler.bind(this));
	    quill.keyboard.bindings[Keys.TAB].unshift(quill.keyboard.bindings[Keys.TAB].pop());

	    quill.keyboard.addBinding({
	      key: Keys.ENTER,
	    }, this.selectHandler.bind(this));
	    quill.keyboard.bindings[Keys.ENTER].unshift(quill.keyboard.bindings[Keys.ENTER].pop());

	    quill.keyboard.addBinding({
	      key: Keys.ESCAPE,
	    }, this.escapeHandler.bind(this));

	    quill.keyboard.addBinding({
	      key: Keys.UP,
	    }, this.upHandler.bind(this));

	    quill.keyboard.addBinding({
	      key: Keys.DOWN,
	    }, this.downHandler.bind(this));
	  }

	  selectHandler() {
	    if (this.isOpen) {
	      this.selectItem();
	      return false;
	    }
	    return true;
	  }

	  escapeHandler() {
	    if (this.isOpen) {
	      this.hideMentionList();
	      return false;
	    }
	    return true;
	  }

	  upHandler() {
	    if (this.isOpen) {
	      this.prevItem();
	      return false;
	    }
	    return true;
	  }

	  downHandler() {
	    if (this.isOpen) {
	      this.nextItem();
	      return false;
	    }
	    return true;
	  }

	  showMentionList() {
	    this.mentionContainer.style.visibility = 'hidden';
	    this.mentionContainer.style.display = '';
	    this.setMentionContainerPosition();
	    this.isOpen = true;
	  }

	  hideMentionList() {
	    this.mentionContainer.style.display = 'none';
	    this.isOpen = false;
	  }

	  highlightItem(scrollItemInView) {
	    if ( scrollItemInView === void 0 ) scrollItemInView = true;

	    for (var i = 0; i < this.mentionList.childNodes.length; i += 1) {
	      this.mentionList.childNodes[i].classList.remove('selected');
	    }
	    this.mentionList.childNodes[this.itemIndex].classList.add('selected');

	    if (scrollItemInView) {
	      var itemHeight = this.mentionList.childNodes[this.itemIndex].offsetHeight;
	      var itemPos = this.itemIndex * itemHeight;
	      var containerTop = this.mentionContainer.scrollTop;
	      var containerBottom = containerTop + this.mentionContainer.offsetHeight;

	      if (itemPos < containerTop) {
	        // Scroll up if the item is above the top of the container
	        this.mentionContainer.scrollTop = itemPos;
	      } else if (itemPos > (containerBottom - itemHeight)) {
	        // scroll down if any part of the element is below the bottom of the container
	        this.mentionContainer.scrollTop += (itemPos - containerBottom) + itemHeight;
	      }
	    }
	  }

	  getItemData() {
	    var itemLink = this.mentionList.childNodes[this.itemIndex].dataset.link;
	    return {
	      id: this.mentionList.childNodes[this.itemIndex].dataset.id,
	      value: itemLink ?
	        ("<a href=\"" + itemLink + "\" target=\"_blank\">" + (this.mentionList.childNodes[this.itemIndex].dataset.value)) :
	        this.mentionList.childNodes[this.itemIndex].dataset.value,
	      link: itemLink || null,
	      denotationChar: this.mentionList.childNodes[this.itemIndex].dataset.denotationChar,
	      isGroup: this.mentionList.childNodes[this.itemIndex].dataset.isGroup,
	    };
	  }

	  onContainerMouseMove() {
	    this.suspendMouseEnter = false;
	  }

	  selectItem() {
	    var data = this.getItemData();
	    this.quill
	      .deleteText(this.mentionCharPos, this.cursorPos - this.mentionCharPos, Quill.sources.API);
	    this.quill.insertEmbed(this.mentionCharPos, 'mention', data, Quill.sources.API);
	    this.quill.insertText(this.mentionCharPos + 1, ' ', Quill.sources.API);
	    this.quill.setSelection(this.mentionCharPos + 2, Quill.sources.API);
	    this.hideMentionList();
	  }

	  onItemMouseEnter(e) {
	    if (this.suspendMouseEnter) {
	      return;
	    }

	    var index = Number(e.target.dataset.index);

	    if (!Number.isNaN(index) && index !== this.itemIndex) {
	      this.itemIndex = index;
	      this.highlightItem(false);
	    }
	  }

	  onItemClick(e) {
	    e.stopImmediatePropagation();
	    e.preventDefault();
	    this.itemIndex = e.currentTarget.dataset.index;
	    this.highlightItem();
	    this.selectItem();
	  }

	  renderList(mentionChar, data, searchTerm) {
	    if (data && data.length > 0) {
	      this.values = data;
	      this.mentionList.innerHTML = '';
	      for (var i = 0; i < data.length; i += 1) {
	        var li = document.createElement('li');
	        li.className = 'ql-mention-list-item';
	        li.dataset.index = i;
	        li.dataset.id = data[i].id;
	        li.dataset.value = data[i].value;
	        li.dataset.isGroup = Boolean(data[i].is_group);
	        li.dataset.denotationChar = mentionChar;
	        if (data[i].link) {
	          li.dataset.link = data[i].link;
	        }
	        li.innerHTML = this.options.renderItem(data[i], searchTerm);
	        li.onmouseenter = this.onItemMouseEnter.bind(this);
	        li.onclick = this.onItemClick.bind(this);
	        this.mentionList.appendChild(li);
	      }
	      this.itemIndex = 0;
	      this.highlightItem();
	      this.showMentionList();
	    } else {
	      this.hideMentionList();
	    }
	  }

	  nextItem() {
	    this.itemIndex = (this.itemIndex + 1) % this.values.length;
	    this.suspendMouseEnter = true;
	    this.highlightItem();
	  }

	  prevItem() {
	    this.itemIndex = ((this.itemIndex + this.values.length) - 1) % this.values.length;
	    this.suspendMouseEnter = true;
	    this.highlightItem();
	  }

	  hasValidChars(s) {
	    return this.options.allowedChars.test(s);
	  }

	  containerBottomIsNotVisible(topPos, containerPos) {
	    var mentionContainerBottom = topPos + this.mentionContainer.offsetHeight + containerPos.top;
	    return mentionContainerBottom > window.pageYOffset + window.innerHeight;
	  }

	  containerRightIsNotVisible(leftPos, containerPos) {
	    if (this.options.fixMentionsToQuill) {
	      return false;
	    }

	    var rightPos = leftPos + this.mentionContainer.offsetWidth + containerPos.left;
	    var browserWidth = window.pageXOffset + document.documentElement.clientWidth;
	    return rightPos > browserWidth;
	  }

	  setMentionContainerPosition() {
	    var containerPos = this.quill.container.getBoundingClientRect();
	    var mentionCharPos = this.quill.getBounds(this.mentionCharPos);
	    var containerHeight = this.mentionContainer.offsetHeight;

	    var topPos = this.options.offsetTop;
	    var leftPos = this.options.offsetLeft;

	    // handle horizontal positioning
	    if (this.options.fixMentionsToQuill) {
	      var rightPos = 0;
	      this.mentionContainer.style.right = rightPos + "px";
	    } else {
	      leftPos += mentionCharPos.left;
	    }

	    if (this.containerRightIsNotVisible(leftPos, containerPos)) {
	      var containerWidth = this.mentionContainer.offsetWidth + this.options.offsetLeft;
	      var quillWidth = containerPos.width;
	      leftPos = quillWidth - containerWidth;
	    }

	    // handle vertical positioning
	    if (this.options.defaultMenuOrientation === 'top') {
	      // Attempt to align the mention container with the top of the quill editor
	      if (this.options.fixMentionsToQuill) {
	        topPos = -1 * (containerHeight + this.options.offsetTop);
	      } else {
	        topPos = mentionCharPos.top - (containerHeight + this.options.offsetTop);
	      }

	      // default to bottom if the top is not visible
	      if (topPos + containerPos.top <= 0) {
	        var overMentionCharPos = this.options.offsetTop;

	        if (this.options.fixMentionsToQuill) {
	          overMentionCharPos += containerPos.height;
	        } else {
	          overMentionCharPos += mentionCharPos.bottom;
	        }

	        topPos = overMentionCharPos;
	      }
	    } else {
	      // Attempt to align the mention container with the bottom of the quill editor
	      if (this.options.fixMentionsToQuill) {
	        topPos += containerPos.height;
	      } else {
	        topPos += mentionCharPos.bottom;
	      }

	      // default to the top if the bottom is not visible
	      if (this.containerBottomIsNotVisible(topPos, containerPos)) {
	        var overMentionCharPos$1 = this.options.offsetTop * -1;

	        if (!this.options.fixMentionsToQuill) {
	          overMentionCharPos$1 += mentionCharPos.top;
	        }

	        topPos = overMentionCharPos$1 - containerHeight;
	      }
	    }

	    this.mentionContainer.style.top = topPos + "px";
	    this.mentionContainer.style.left = leftPos + "px";

	    this.mentionContainer.style.visibility = 'visible';
	  }

	  onSomethingChange() {
	    var range = this.quill.getSelection();
	    if (range == null) { return; }
	    this.cursorPos = range.index;
	    var startPos = Math.max(0, this.cursorPos - this.options.maxChars);
	    var beforeCursorPos = this.quill.getText(startPos, this.cursorPos - startPos);
	    var mentionCharIndex = this.options.mentionDenotationChars.reduce(function (prev, cur) {
	      var previousIndex = prev;
	      var mentionIndex = beforeCursorPos.lastIndexOf(cur);

	      return mentionIndex > previousIndex ? mentionIndex : previousIndex;
	    }, -1);
	    if (mentionCharIndex > -1) {
	      if (this.options.isolateCharacter && !(mentionCharIndex == 0 || !!beforeCursorPos[mentionCharIndex - 1].match(/\s/g))) {
	        this.hideMentionList();
	        return;
	      }
	      var mentionCharPos = this.cursorPos - (beforeCursorPos.length - mentionCharIndex);
	      this.mentionCharPos = mentionCharPos;
	      var textAfter = beforeCursorPos.substring(mentionCharIndex + 1);
	      if (textAfter.length >= this.options.minChars && this.hasValidChars(textAfter)) {
	        var mentionChar = beforeCursorPos[mentionCharIndex];
	        this.options.source(textAfter, this.renderList.bind(this, mentionChar), mentionChar);
	      } else {
	        this.hideMentionList();
	      }
	    } else {
	      this.hideMentionList();
	    }
	  }

	  onTextChange(delta, oldDelta, source) {
	    if (source === 'user') {
	      this.onSomethingChange();
	    }
	  }

	  onSelectionChange(range) {
	    if (range && range.length === 0) {
	      this.onSomethingChange();
	    } else {
	      this.hideMentionList();
	    }
	  }
	}

	Quill.register('modules/mention', Mention, true);

	Quill.register('modules/mention', Mention, true);

	frappe.ui.form.ControlComment = frappe.ui.form.ControlTextEditor.extend({
		make_wrapper: function make_wrapper() {
			this.comment_wrapper = !this.no_wrapper ? $(("\n\t\t\t<div class=\"comment-input-wrapper\">\n\t\t\t\t<div class=\"comment-input-header\">\n\t\t\t\t\t<span>" + (__("Add a comment")) + "</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"comment-input-container\">\n\t\t\t\t\t<div class=\"frappe-control\"></div>\n\t\t\t\t\t<div class=\"text-muted small\">\n\t\t\t\t\t\t" + (__("Ctrl+Enter to add comment")) + "\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button class=\"btn btn-default btn-comment btn-xs\">\n\t\t\t\t\t" + (__("Comment")) + "\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t")) : $('<div class="frappe-control"></div>');

			this.comment_wrapper.appendTo(this.parent);

			// wrapper should point to frappe-control
			this.$wrapper = !this.no_wrapper
				? this.comment_wrapper.find('.frappe-control')
				: this.comment_wrapper;

			this.wrapper = this.$wrapper;

			this.button = this.comment_wrapper.find('.btn-comment');
		},

		bind_events: function bind_events() {
			var this$1 = this;

			this._super();

			this.button.click(function () {
				this$1.submit();
			});

			this.$wrapper.on('keydown', function (e) {
				var key = frappe.ui.keys.get_key(e);
				if (key === 'ctrl+enter') {
					e.preventDefault();
					this$1.submit();
				}
			});

			this.quill.on('text-change', frappe.utils.debounce(function () {
				this$1.update_state();
			}, 300));
		},

		submit: function submit() {
			this.on_submit && this.on_submit(this.get_value());
		},

		update_state: function update_state() {
			var value = this.get_value();
			if (strip_html(value).trim() != "" || value.includes('img')) {
				this.button.removeClass('btn-default').addClass('btn-primary');
			} else {
				this.button.addClass('btn-default').removeClass('btn-primary');
			}
		},

		get_quill_options: function get_quill_options() {
			var options = this._super();
			return Object.assign(options, {
				theme: 'bubble',
				modules: Object.assign(options.modules, {
					mention: this.get_mention_options()
				})
			});
		},

		get_mention_options: function get_mention_options() {
			if (!this.enable_mentions) {
				return null;
			}
			var me = this;
			return {
				allowedChars: /^[A-Za-z0-9_]*$/,
				mentionDenotationChars: ["@"],
				isolateCharacter: true,
				source: frappe.utils.debounce(async function(search_term, renderList) {
					var method = me.mention_search_method || 'frappe.desk.search.get_names_for_mentions';
					var values = await frappe.xcall(method, {
						search_term: search_term
					});
					renderList(values, search_term);
				}, 300),
				renderItem: function renderItem(item) {
					var value = item.value;
					return (value + " " + (item.is_group ? frappe.utils.icon('users') : ''));
				}
			};
		},

		get_toolbar_options: function get_toolbar_options() {
			return [
				['bold', 'italic', 'underline'],
				['blockquote', 'code-block'],
				[{ 'direction': "rtl" }],
				['link', 'image'],
				[{ 'list': 'ordered' }, { 'list': 'bullet' }],
				[{ 'align': [] }],
				['clean']
			];
		},

		clear: function clear() {
			this.quill.setText('');
		},

		disable: function disable() {
			this.quill.disable();
			this.button.prop('disabled', true);
		},

		enable: function enable() {
			this.quill.enable();
			this.button.prop('disabled', false);
		}
	});

	frappe.ui.form.ControlCheck = frappe.ui.form.ControlData.extend({
		input_type: "checkbox",
		make_wrapper: function() {
			this.$wrapper = $("<div class=\"form-group frappe-control\">\n\t\t\t<div class=\"checkbox\">\n\t\t\t\t<label>\n\t\t\t\t\t<span class=\"input-area\"></span>\n\t\t\t\t\t<span class=\"disp-area\"></span>\n\t\t\t\t\t<span class=\"label-area\"></span>\n\t\t\t\t</label>\n\t\t\t\t<p class=\"help-box small text-muted\"></p>\n\t\t\t</div>\n\t\t</div>").appendTo(this.parent);
		},
		set_input_areas: function() {
			this.input_area = this.$wrapper.find(".input-area").get(0);
			if (this.only_input) { return; }

			this.label_area = this.label_span = this.$wrapper.find(".label-area").get(0);
			this.disp_area = this.$wrapper.find(".disp-area").get(0);
		},
		make_input: function() {
			this._super();
			this.$input.removeClass("form-control");
		},
		get_input_value: function() {
			return this.input && this.input.checked ? 1 : 0;
		},
		validate: function(value) {
			return cint(value);
		},
		set_input: function(value) {
			value = cint(value);
			if(this.input) {
				this.input.checked = (value ? 1 : 0);
			}
			this.last_value = value;
			this.set_mandatory(value);
			this.set_disp_area(value);
		}
	});

	frappe.ui.form.ControlImage = frappe.ui.form.Control.extend({
		make: function() {
			this._super();
			this.$wrapper.css({"margin": "0px"});
			this.$body = $("<div></div>").appendTo(this.$wrapper)
				.css({"margin-bottom": "10px"});
			$('<div class="clearfix"></div>').appendTo(this.$wrapper);
		},
		refresh_input: function() {
			this.$body.empty();

			var doc = this.get_doc();
			if(doc && this.df.options && doc[this.df.options]) {
				this.$img = $("<img src='"+doc[this.df.options]+"' class='img-responsive'>")
					.appendTo(this.$body);
			} else {
				this.$buffer = $(("<div class='missing-image'>" + (frappe.utils.icon('restriction', 'md')) + "</div>"))
					.appendTo(this.$body);
			}
			return false;
		}
	});

	frappe.ui.form.ControlAttach = frappe.ui.form.ControlData.extend({
		make_input: function() {
			var me = this;
			this.$input = $('<button class="btn btn-default btn-sm btn-attach">')
				.html(__("Attach"))
				.prependTo(me.input_area)
				.on("click", function() {
					me.on_attach_click();
				});
			this.$value = $(
				("<div class=\"attached-file flex justify-between align-center\">\n\t\t\t\t<div class=\"ellipsis\">\n\t\t\t\t\t<i class=\"fa fa-paperclip\"></i>\n\t\t\t\t\t<a class=\"attached-file-link\" target=\"_blank\"></a>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<a class=\"btn btn-xs btn-default\" data-action=\"reload_attachment\">" + (__('Reload File')) + "</a>\n\t\t\t\t\t<a class=\"btn btn-xs btn-default\" data-action=\"clear_attachment\">" + (__('Clear')) + "</a>\n\t\t\t\t</div>\n\t\t\t</div>"))
				.prependTo(me.input_area)
				.toggle(false);
			this.input = this.$input.get(0);
			this.set_input_attributes();
			this.has_input = true;

			frappe.utils.bind_actions_with_object(this.$value, this);
			this.toggle_reload_button();
		},
		clear_attachment: function() {
			var me = this;
			if(this.frm) {
				me.parse_validate_and_set_in_model(null);
				me.refresh();
				me.frm.attachments.remove_attachment_by_filename(me.value, function() {
					me.parse_validate_and_set_in_model(null);
					me.refresh();
					me.frm.doc.docstatus == 1 ? me.frm.save('Update') : me.frm.save();
				});
			} else {
				this.dataurl = null;
				this.fileobj = null;
				this.set_input(null);
				this.parse_validate_and_set_in_model(null);
				this.refresh();
			}
		},
		reload_attachment: function reload_attachment() {
			if (this.file_uploader) {
				this.file_uploader.uploader.upload_files();
			}
		},
		on_attach_click: function on_attach_click() {
			this.set_upload_options();
			this.file_uploader = new frappe.ui.FileUploader(this.upload_options);
		},
		set_upload_options: function set_upload_options() {
			var this$1 = this;

			var options = {
				allow_multiple: false,
				on_success: function (file) {
					this$1.on_upload_complete(file);
					this$1.toggle_reload_button();
				}
			};

			if (this.frm) {
				options.doctype = this.frm.doctype;
				options.docname = this.frm.docname;
				options.fieldname = this.df.fieldname;
			}

			if (this.df.options) {
				Object.assign(options, this.df.options);
			}
			this.upload_options = options;
		},

		set_input: function(value, dataurl) {
			this.value = value;
			if(this.value) {
				this.$input.toggle(false);
				// value can also be using this format: FILENAME,DATA_URL
				// Important: We have to be careful because normal filenames may also contain ","
				var file_url_parts = this.value.match(/^([^:]+),(.+):(.+)$/);
				var filename;
				if (file_url_parts) {
					filename = file_url_parts[1];
					dataurl = file_url_parts[2] + ':' + file_url_parts[3];
				}
				this.$value.toggle(true).find(".attached-file-link")
					.html(filename || this.value)
					.attr("href", dataurl || this.value);
			} else {
				this.$input.toggle(true);
				this.$value.toggle(false);
			}
		},

		get_value: function() {
			return this.value || null;
		},

		on_upload_complete: function(attachment) {
			if(this.frm) {
				this.parse_validate_and_set_in_model(attachment.file_url);
				this.frm.attachments.update_attachment(attachment);
				this.frm.doc.docstatus == 1 ? this.frm.save('Update') : this.frm.save();
			}
			this.set_value(attachment.file_url);
		},

		toggle_reload_button: function toggle_reload_button() {
			this.$value.find('[data-action="reload_attachment"]')
				.toggle(this.file_uploader && this.file_uploader.uploader.files.length > 0);
		}
	});

	frappe.ui.form.ControlAttachImage = frappe.ui.form.ControlAttach.extend({
		make_input: function make_input() {
			var this$1 = this;

			this._super();

			var $file_link = this.$value.find('.attached-file-link');
			$file_link.popover({
				trigger: 'hover',
				placement: 'top',
				content: function () {
					return ("<div>\n\t\t\t\t\t<img src=\"" + (this$1.get_value()) + "\"\n\t\t\t\t\t\twidth=\"150px\"\n\t\t\t\t\t\tstyle=\"object-fit: contain;\"\n\t\t\t\t\t/>\n\t\t\t\t</div>");
				},
				html: true
			});
		},
		set_upload_options: function set_upload_options() {
			this._super();
			this.upload_options.restrictions = {};
			this.upload_options.restrictions.allowed_file_types = ['image/*'];
		}
	});

	class GridRowForm {
		constructor(opts) {
			$.extend(this, opts);
			this.wrapper = $('<div class="form-in-grid"></div>')
				.appendTo(this.row.wrapper);

		}
		render() {
			var me = this;
			this.make_form();
			this.form_area.empty();
			frappe.utils.scroll_to(0, false, 0, this.wrapper.find('.grid-form-body'));

			this.layout = new frappe.ui.form.Layout({
				fields: this.row.docfields,
				body: this.form_area,
				no_submit_on_enter: true,
				frm: this.row.frm,
				grid: this.row.grid,
				grid_row: this.row,
				grid_row_form: this,
			});
			this.layout.make();

			this.fields = this.layout.fields;
			this.fields_dict = this.layout.fields_dict;

			this.layout.refresh(this.row.doc);

			// copy get_query to fields
			for(var fieldname in (this.row.grid.fieldinfo || {})) {
				var fi = this.row.grid.fieldinfo[fieldname];
				$.extend(me.fields_dict[fieldname], fi);
			}

			this.toggle_add_delete_button_display(this.wrapper);

			this.row.grid.open_grid_row = this;

			this.set_focus();
		}
		make_form() {
			if(!this.form_area) {
				var template = "<div class=\"grid-form-heading\">\n\t\t\t\t<div class=\"toolbar grid-header-toolbar\">\n\t\t\t\t\t<span class=\"panel-title\">\n\t\t\t\t\t\t" + (__("Editing Row")) + " #<span class=\"grid-form-row-index\"></span></span>\n\t\t\t\t\t<span class=\"row-actions\">\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-sm pull-right grid-collapse-row\">\n\t\t\t\t\t\t\t" + (frappe.utils.icon('down')) + "\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-sm pull-right grid-move-row hidden-xs\">\n\t\t\t\t\t\t\t" + (__("Move")) + "</button>\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-sm pull-right grid-duplicate-row hidden-xs\">\n\t\t\t\t\t\t\t" + (frappe.utils.icon('duplicate')) + "\n\t\t\t\t\t\t\t" + (__("Duplicate")) + "\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-sm pull-right grid-insert-row hidden-xs\">\n\t\t\t\t\t\t\t" + (__("Insert Above")) + "</button>\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-sm pull-right grid-insert-row-below hidden-xs\">\n\t\t\t\t\t\t\t" + (__("Insert Below")) + "</button>\n\t\t\t\t\t\t<button class=\"btn btn-danger btn-sm pull-right grid-delete-row\">\n\t\t\t\t\t\t\t" + (frappe.utils.icon('delete')) + "\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"grid-form-body\">\n\t\t\t\t<div class=\"form-area\"></div>\n\t\t\t\t<div class=\"grid-footer-toolbar hidden-xs flex justify-between\">\n\t\t\t\t\t<div class=\"grid-shortcuts\">\n\t\t\t\t\t\t<span> " + (frappe.utils.icon("keyboard", "md")) + " </span>\n\t\t\t\t\t\t<span class=\"text-medium\"> " + (__("Shortcuts")) + ": </span>\n\t\t\t\t\t\t<kbd>" + (__("Ctrl + Up")) + "</kbd> . <kbd>" + (__("Ctrl + Down")) + "</kbd> . <kbd>" + (__("ESC")) + "</kbd>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button class=\"btn btn-secondary btn-sm pull-right grid-append-row\">\n\t\t\t\t\t\t" + (__("Insert Below")) + "\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>";

				$(template).appendTo(this.wrapper);
				this.form_area = this.wrapper.find(".form-area");
				this.row.set_row_index();
				this.set_form_events();
			}
		}
		set_form_events() {
			var me = this;
			this.wrapper.find(".grid-delete-row")
				.on('click', function() {
					me.row.remove(); return false;
				});
			this.wrapper.find(".grid-insert-row")
				.on('click', function() {
					me.row.insert(true); return false;
				});
			this.wrapper.find(".grid-insert-row-below")
				.on('click', function() {
					me.row.insert(true, true); return false;
				});
			this.wrapper.find(".grid-duplicate-row")
				.on('click', function() {
					me.row.insert(true, true, true); return false;
				});
			this.wrapper.find(".grid-move-row")
				.on('click', function() {
					me.row.move(); return false;
				});
			this.wrapper.find(".grid-append-row")
				.on('click', function() {
					me.row.toggle_view(false);
					me.row.grid.add_new_row(me.row.doc.idx+1, null, true);
					return false;
				});
			this.wrapper.find(".grid-form-heading, .grid-footer-toolbar").on("click", function() {
				me.row.toggle_view();
				return false;
			});
		}
		toggle_add_delete_button_display($parent) {
			$parent.find(".row-actions, .grid-append-row")
				.toggle(this.row.grid.is_editable());
		}
		refresh_field(fieldname) {
			var field = this.fields_dict[fieldname];
			if (!field) { return; }

			field.docname = this.row.doc.name;
			field.refresh();
			this.layout && this.layout.refresh_dependency();
		}
		set_focus() {
			// wait for animation and then focus on the first row
			var me = this;
			setTimeout(function() {
				if(me.row.frm && me.row.frm.doc.docstatus===0 || !me.row.frm) {
					var first = me.form_area.find("input:first");
					if(first.length && !in_list(["Date", "Datetime", "Time"], first.attr("data-fieldtype"))) {
						try {
							first.get(0).focus();
						} catch(e) {
							//
						}
					}
				}
			}, 500);
		}
	}

	class GridRow {
		constructor(opts) {
			this.on_grid_fields_dict = {};
			this.on_grid_fields = [];
			$.extend(this, opts);
			if (this.doc && this.parent_df.options) {
				frappe.meta.make_docfield_copy_for(this.parent_df.options, this.doc.name, this.docfields);
				var docfields = frappe.meta.get_docfields(this.parent_df.options, this.doc.name);
				this.docfields = docfields.length ? docfields : opts.docfields;
			}
			this.columns = {};
			this.columns_list = [];
			this.row_check_html = '<input type="checkbox" class="grid-row-check pull-left">';
			this.make();
		}
		make() {
			var me = this;

			this.wrapper = $('<div class="grid-row"></div>').appendTo(this.parent).data("grid_row", this);
			this.row = $('<div class="data-row row"></div>').appendTo(this.wrapper)
				.on("click", function(e) {
					if($(e.target).hasClass('grid-row-check') || $(e.target).hasClass('row-index') || $(e.target).parent().hasClass('row-index')) {
						return;
					}
					if(me.grid.allow_on_grid_editing() && me.grid.is_editable()) ; else {
						me.toggle_view();
						return false;
					}
				});

			if(this.grid.template && !this.grid.meta.editable_grid) {
				this.render_template();
			} else {
				this.render_row();
			}
			if(this.doc) {
				this.set_data();
			}
		}
		set_data() {
			this.wrapper.data({
				"doc": this.doc
			});
		}
		set_row_index() {
			if(this.doc) {
				this.wrapper
					.attr('data-name', this.doc.name)
					.attr("data-idx", this.doc.idx)
					.find(".row-index span, .grid-form-row-index").html(this.doc.idx);

			}
		}
		select(checked) {
			this.doc.__checked = checked ? 1 : 0;
		}
		refresh_check() {
			this.wrapper.find('.grid-row-check').prop('checked', this.doc ? !!this.doc.__checked : false);
			this.grid.refresh_remove_rows_button();
		}
		remove() {
			var this$1 = this;

			var me = this;
			if(this.grid.is_editable()) {
				if(this.frm) {
					if(this.get_open_form()) {
						this.hide_form();
					}

					frappe.run_serially([
						function () {
							return this$1.frm.script_manager.trigger("before_" + this$1.grid.df.fieldname + "_remove",
								this$1.doc.doctype, this$1.doc.name);
						},
						function () {
							frappe.model.clear_doc(this$1.doc.doctype, this$1.doc.name);

							this$1.frm.script_manager.trigger(this$1.grid.df.fieldname + "_remove",
								this$1.doc.doctype, this$1.doc.name);
							this$1.frm.dirty();
							this$1.grid.refresh();
						} ]).catch(function (e) {
						// aborted
						console.trace(e); // eslint-disable-line
					});
				} else {
					var data = null;
					if (this.grid.df.get_data) {
						data = this.grid.df.get_data();
					} else {
						data = this.grid.df.data;
					}

					var index = data.findIndex(function (d) { return d.name === me.doc.name; });

					if (index > -1) {
						// mutate array directly,
						// else the object reference will be lost
						data.splice(index, 1);
					}
					// remap idxs
					data.forEach(function(d, i) {
						d.idx = i+1;
					});

					this.grid.refresh();
				}
			}
		}
		insert(show, below, duplicate) {
			var idx = this.doc.idx;
			var copy_doc = duplicate ? this.doc : null;
			if(below) { idx ++; }
			this.toggle_view(false);
			this.grid.add_new_row(idx, null, show, copy_doc);
		}
		move() {
			// promopt the user where they want to move this row
			var me = this;
			frappe.prompt({
				fieldname: 'move_to',
				label: __('Move to Row Number'),
				fieldtype: 'Int',
				reqd: 1,
				default: this.doc.idx,
			}, function(values) {
				if (me.doc._sortable === false) {
					frappe.msgprint(__('Cannot move row'));
					return;
				}

				// renumber and refresh
				var data = me.grid.get_data();
				data.move(me.doc.idx - 1, values.move_to - 1);

				// renum idx
				for(var i=0; i<data.length;i++) {
					data[i].idx = i+1;
				}

				me.toggle_view(false);
				me.grid.refresh();
				$(me.frm.wrapper).trigger("grid-move-row", [me.frm, me]);
			}, __('Move To'), 'Update');
		}
		refresh() {
			if(this.frm && this.doc) {
				this.doc = locals[this.doc.doctype][this.doc.name];
			}

			if(this.grid.template && !this.grid.meta.editable_grid) {
				this.render_template();
			} else {
				this.render_row(true);
			}

			// refresh form fields
			if(this.grid_form) {
				this.grid_form.layout && this.grid_form.layout.refresh(this.doc);
			}
		}
		render_template() {
			this.set_row_index();

			if (this.row_display) {
				this.row_display.remove();
			}

			// row index
			if (!this.row_index) {
				this.row_index = $(("<div class=\"template-row-index\">" + (this.row_check_html) + "<span></span></div>")).appendTo(this.row);
			}

			if (this.doc) {
				this.row_index.find('span').html(this.doc.idx);
			}

			this.row_display = $('<div class="row-data sortable-handle template-row"></div>').appendTo(this.row)
				.html(frappe.render(this.grid.template, {
					doc: this.doc ? frappe.get_format_helper(this.doc) : null,
					frm: this.frm,
					row: this
				}));
		}
		render_row(refresh) {
			var me = this;
			this.set_row_index();

			// index (1, 2, 3 etc)
			if(!this.row_index) {
				// REDESIGN-TODO: Make translation contextual, this No is Number
				var txt = (this.doc ? this.doc.idx : __("No."));
				this.row_index = $(
					("<div class=\"row-index sortable-handle col col-xs-1\">\n\t\t\t\t\t" + (this.row_check_html) + "\n\t\t\t\t<span class=\"hidden-xs\">" + txt + "</span></div>"))
					.appendTo(this.row)
					.on('click', function(e) {
						if(!$(e.target).hasClass('grid-row-check')) {
							me.toggle_view();
						}
					});
			} else {
				this.row_index.find('span').html(txt);
			}

			this.setup_columns();
			this.add_open_form_button();
			this.add_column_configure_button();
			this.refresh_check();

			if(this.frm && this.doc) {
				$(this.frm.wrapper).trigger("grid-row-render", [this]);
			}
		}

		make_editable() {
			this.row.toggleClass('editable-row', this.grid.is_editable());
		}

		is_too_small() {
			return this.row.width() ? this.row.width() < 300 : false;
		}

		add_open_form_button() {
			var me = this;
			if(this.doc && !this.grid.df.in_place_edit) {
				// remove row
				if(!this.open_form_button) {
					this.open_form_button = $(("\n\t\t\t\t\t<div class=\"btn-open-row\">\n\t\t\t\t\t\t<a>" + (frappe.utils.icon('edit', 'xs')) + "</a>\n\t\t\t\t\t\t<div class=\"hidden-xs edit-grid-row\">" + (__("Edit")) + "</div>\n\t\t\t\t\t</div>\n\t\t\t\t"))
						.appendTo($('<div class="col col-xs-1"></div>').appendTo(this.row))
						.on('click', function() {
							me.toggle_view(); return false;
						});

					if(this.is_too_small()) {
						// narrow
						this.open_form_button.css({'margin-right': '-2px'});
					}
				}
			}
		}

		add_column_configure_button() {
			var this$1 = this;

			if (this.configure_columns) {
				this.configure_columns_button = $(("\n\t\t\t\t<div class=\"col grid-static-col col-xs-1 d-flex justify-content-center\" style=\"cursor: pointer;\">\n\t\t\t\t\t<a>" + (frappe.utils.icon('setting-gear', 'sm', '', 'filter: opacity(0.5)')) + "</a>\n\t\t\t\t</div>\n\t\t\t"))
					.appendTo(this.row)
					.on('click', function () {
						this$1.configure_dialog_for_columns_selector();
					});
			}
		}

		configure_dialog_for_columns_selector() {
			var this$1 = this;

			this.grid_settings_dialog = new frappe.ui.Dialog({
				title: __("Configure Columns"),
				fields: [{
					'fieldtype': 'HTML',
					'fieldname': 'fields_html'
				}]
			});

			this.grid.setup_visible_columns();
			this.setup_columns_for_dialog();
			this.prepare_wrapper_for_columns();
			this.render_selected_columns();
			this.grid_settings_dialog.show();

			$(this.fields_html_wrapper).find('.add-new-fields').click(function () {
				this$1.column_selector_for_dialog();
			});

			this.grid_settings_dialog.set_primary_action(__('Update'), function () {
				this$1.validate_columns_width();
				this$1.columns = {};
				this$1.update_user_settings_for_grid();
				this$1.grid_settings_dialog.hide();
			});

			this.grid_settings_dialog.set_secondary_action_label(__("Reset to default"));
			this.grid_settings_dialog.set_secondary_action(function () {
				this$1.reset_user_settings_for_grid();
				this$1.grid_settings_dialog.hide();
			});
		}

		setup_columns_for_dialog() {
			var this$1 = this;

			this.selected_columns_for_grid = [];
			this.grid.visible_columns.forEach(function (row) {
				this$1.selected_columns_for_grid.push({
					fieldname: row[0].fieldname,
					columns: row[0].columns || row[0].colsize
				});
			});
		}

		prepare_wrapper_for_columns() {
			this.fields_html_wrapper = this.grid_settings_dialog.get_field("fields_html").$wrapper[0];

			$(("\n\t\t\t<div class='form-group'>\n\t\t\t\t<div class='row' style='margin:0px; margin-bottom:10px'>\n\t\t\t\t\t<div class='col-md-8'>\n\t\t\t\t\t\t" + (__('Fieldname').bold()) + "\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='col-md-4' style='padding-left:5px;'>\n\t\t\t\t\t\t" + (__('Column Width').bold()) + "\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class='control-input-wrapper selected-fields'>\n\t\t\t\t</div>\n\t\t\t\t<p class='help-box small text-muted hidden-xs'>\n\t\t\t\t\t<a class='add-new-fields text-muted'>\n\t\t\t\t\t\t+ " + (__('Add / Remove Columns')) + "\n\t\t\t\t\t</a>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t")).appendTo(this.fields_html_wrapper);
		}

		column_selector_for_dialog() {
			var this$1 = this;

			var docfields = this.prepare_columns_for_dialog(this.selected_columns_for_grid.map(function (field) { return field.fieldname; }));

			var d = new frappe.ui.Dialog({
				title: __("{0} Fields", [__(this.grid.doctype)]),
				fields: [
					{
						label: __("Select Fields"),
						fieldtype: "MultiCheck",
						fieldname: "fields",
						options: docfields,
						columns: 2
					}
				]
			});

			d.set_primary_action(__('Add'), function () {
				var selected_fields = d.get_values().fields;
				this$1.selected_columns_for_grid = [];
				if (selected_fields) {
					selected_fields.forEach(function (selected_column) {
						var docfield = frappe.meta.get_docfield(this$1.grid.doctype, selected_column);
						this$1.grid.update_default_colsize(docfield);

						this$1.selected_columns_for_grid.push({
							fieldname: selected_column,
							columns: docfield.columns || docfield.colsize
						});
					});

					this$1.render_selected_columns();
					d.hide();
				}
			});

			d.show();
		}

		prepare_columns_for_dialog(selected_fields) {
			var fields = [];

			var blocked_fields = frappe.model.no_value_type;
			var always_allow = ["Button"];

			var show_field = function (f) { return always_allow.includes(f) || !blocked_fields.includes(f); };

			this.docfields.forEach(function (column) {
				if (!column.hidden && show_field(column.fieldtype)) {
					fields.push({
						label: column.label,
						value: column.fieldname,
						checked: selected_fields ? in_list(selected_fields, column.fieldname) : false
					});
				}
			});

			return fields;
		}

		render_selected_columns() {
			var this$1 = this;

			var fields = '';
			if (this.selected_columns_for_grid) {
				this.selected_columns_for_grid.forEach(function (d) {
					var docfield = frappe.meta.get_docfield(this$1.grid.doctype, d.fieldname);

					fields += "\n\t\t\t\t\t<div class='control-input flex align-center form-control fields_order sortable-handle sortable'\n\t\t\t\t\t\tstyle='display: block; margin-bottom: 5px; cursor: pointer;' data-fieldname='" + (docfield.fieldname) + "'\n\t\t\t\t\t\tdata-label='" + (docfield.label) + "' data-type='" + (docfield.fieldtype) + "'>\n\n\t\t\t\t\t\t<div class='row'>\n\t\t\t\t\t\t\t<div class='col-md-1'>\n\t\t\t\t\t\t\t\t<a style='cursor: grabbing;'>" + (frappe.utils.icon('drag', 'xs')) + "</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col-md-7' style='padding-left:0px;'>\n\t\t\t\t\t\t\t\t" + (__(docfield.label)) + "\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col-md-3' style='padding-left:0px;margin-top:-2px;' title='" + (__('Columns')) + "'>\n\t\t\t\t\t\t\t\t<input class='form-control column-width input-xs text-right'\n\t\t\t\t\t\t\t\t\tvalue='" + (docfield.columns || cint(d.columns)) + "'\n\t\t\t\t\t\t\t\t\tdata-fieldname='" + (docfield.fieldname) + "' style='background-color: var(--modal-bg); display: inline'>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='col-md-1'>\n\t\t\t\t\t\t\t\t<a class='text-muted remove-field' data-fieldname='" + (docfield.fieldname) + "'>\n\t\t\t\t\t\t\t\t\t<i class='fa fa-trash-o' aria-hidden='true'></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>";
				});
			}

			$(this.fields_html_wrapper).find('.selected-fields').html(fields);

			this.prepare_handler_for_sort();
			this.select_on_focus();
			this.update_column_width();
			this.remove_selected_column();
		}

		prepare_handler_for_sort() {
			var this$1 = this;

			new Sortable($(this.fields_html_wrapper).find('.selected-fields')[0], {
				handle: '.sortable-handle',
				draggable: '.sortable',
				onUpdate: function () {
					this$1.sort_columns();
				}
			});
		}

		sort_columns() {
			var this$1 = this;

			this.selected_columns_for_grid = [];

			var columns = $(this.fields_html_wrapper).find('.fields_order') || [];
			columns.each(function (idx) {
				this$1.selected_columns_for_grid.push({
					fieldname: $(columns[idx]).attr('data-fieldname'),
					columns: cint($(columns[idx]).find('.column-width').attr('value'))
				});
			});
		}

		select_on_focus() {
			$(this.fields_html_wrapper).find('.column-width').click(function (event) {
				$(event.target).select();
			});
		}

		update_column_width() {
			var this$1 = this;

			$(this.fields_html_wrapper).find('.column-width').change(function (event) {
				if (cint(event.target.value) === 0) {
					event.target.value = cint(event.target.defaultValue);
					frappe.throw(__('Column width cannot be zero.'));
				}

				this$1.selected_columns_for_grid.forEach(function (row) {
					if (row.fieldname === event.target.dataset.fieldname) {
						row.columns = cint(event.target.value);
						event.target.defaultValue = cint(event.target.value);
					}
				});
			});
		}

		validate_columns_width() {
			var total_column_width = 0.0;

			this.selected_columns_for_grid.forEach(function (row) {
				if (row.columns && row.columns > 0) {
					total_column_width += cint(row.columns);
				}
			});

			if (total_column_width && total_column_width > 10) {
				frappe.throw(__('The total column width cannot be more than 10.'));
			}
		}

		remove_selected_column() {
			var this$1 = this;

			$(this.fields_html_wrapper).find('.remove-field').click(function (event) {
				var fieldname = event.currentTarget.dataset.fieldname;
				var selected_columns_for_grid = this$1.selected_columns_for_grid.filter(function (row) {
					return (row.fieldname !== fieldname);
				});

				if (selected_columns_for_grid && selected_columns_for_grid.length === 0) {
					frappe.throw(__('At least one column is required to show in the grid.'));
				}

				this$1.selected_columns_for_grid = selected_columns_for_grid;
				$(this$1.fields_html_wrapper).find(("[data-fieldname=\"" + fieldname + "\"]")).remove();
			});
		}

		update_user_settings_for_grid() {
			var this$1 = this;

			if (!this.selected_columns_for_grid || !this.frm) {
				return;
			}

			var value = {};
			value[this.grid.doctype] = this.selected_columns_for_grid;
			frappe.model.user_settings.save(this.frm.doctype, 'GridView', value)
				.then(function (r) {
					frappe.model.user_settings[this$1.frm.doctype] = r.message || r;
					this$1.grid.reset_grid();
				});
		}

		reset_user_settings_for_grid() {
			var this$1 = this;

			frappe.model.user_settings.save(this.frm.doctype, 'GridView', null)
				.then(function (r) {
					frappe.model.user_settings[this$1.frm.doctype] = r.message || r;
					this$1.grid.reset_grid();
				});
		}

		setup_columns() {
			var this$1 = this;

			this.focus_set = false;

			this.grid.setup_visible_columns();
			this.grid.visible_columns.forEach(function (col, ci) {
				// to get update df for the row
				var df = this$1.docfields.find(function (field) { return field.fieldname === col[0].fieldname; });

				var colsize = col[1];
				var txt = this$1.doc ?
					frappe.format(this$1.doc[df.fieldname], df, null, this$1.doc) :
					__(df.label);

				if (this$1.doc && df.fieldtype === "Select") {
					txt = __(txt);
				}
				var column;
				if (!this$1.columns[df.fieldname]) {
					column = this$1.make_column(df, colsize, txt, ci);
				} else {
					column = this$1.columns[df.fieldname];
					this$1.refresh_field(df.fieldname, txt);
				}

				// background color for cell
				if (this$1.doc) {
					if (df.reqd && !txt) {
						column.addClass('error');
					}
					if (column.is_invalid) {
						column.addClass('invalid');
					} else if (df.reqd || df.bold) {
						column.addClass('bold');
					}
				}
			});
		}

		make_column(df, colsize, txt, ci) {
			var me = this;
			var add_class = ((["Text", "Small Text"].indexOf(df.fieldtype)!==-1) ?
				" grid-overflow-no-ellipsis" : "");
			add_class += (["Int", "Currency", "Float", "Percent"].indexOf(df.fieldtype)!==-1) ?
				" text-right": "";
			add_class += (["Check"].indexOf(df.fieldtype)!==-1) ?
				" text-center": "";

			var $col = $('<div class="col grid-static-col col-xs-'+colsize+' '+add_class+'"></div>')
				.attr("data-fieldname", df.fieldname)
				.attr("data-fieldtype", df.fieldtype)
				.data("df", df)
				.appendTo(this.row)
				.on('click', function() {
					if(frappe.ui.form.editable_row===me) {
						return;
					}
					var out = me.toggle_editable_row();
					var col = this;
					setTimeout(function() {
						$(col).find('input[type="Text"]:first').focus();
					}, 500);
					return out;
				});

			$col.field_area = $('<div class="field-area"></div>').appendTo($col).toggle(false);
			$col.static_area = $('<div class="static-area ellipsis"></div>').appendTo($col).html(txt);

			// set title attribute to see full label for columns in the heading row
			if (!this.doc) {
				$col.attr("title", txt);
			}

			$col.df = df;
			$col.column_index = ci;

			this.columns[df.fieldname] = $col;
			this.columns_list.push($col);

			return $col;
		}

		activate() {
			this.toggle_editable_row(true);
			return this;
		}

		toggle_editable_row(show) {
			var this$1 = this;

			var me = this;
			// show static for field based on
			// whether grid is editable
			if(this.grid.allow_on_grid_editing() && this.grid.is_editable() && this.doc && show !== false) {

				// disable other editable row
				if(frappe.ui.form.editable_row
					&& frappe.ui.form.editable_row !== this) {
					frappe.ui.form.editable_row.toggle_editable_row(false);
				}

				this.row.toggleClass('editable-row', true);

				// setup controls
				this.columns_list.forEach(function(column) {
					me.make_control(column);
					column.static_area.toggle(false);
					column.field_area.toggle(true);
				});

				frappe.ui.form.editable_row = this;
				return false;
			} else {
				this.row.toggleClass('editable-row', false);

				this.columns_list.forEach(function (column, index) {

					if(!this$1.frm) {
						var df = this$1.grid.visible_columns[index][0];

						var txt = this$1.doc ?
							frappe.format(this$1.doc[df.fieldname], df, null, this$1.doc) :
							__(df.label);

						this$1.refresh_field(df.fieldname, txt);
					}

					if (!column.df.hidden) {
						column.static_area.toggle(true);
					}

					column.field_area && column.field_area.toggle(false);
				});
				frappe.ui.form.editable_row = null;
			}
		}

		make_control(column) {
			var this$1 = this;

			if(column.field) { return; }

			var parent = column.field_area,
				df = column.df;

			// no text editor in grid
			if (df.fieldtype=='Text Editor') {
				df = Object.assign({}, df);
				df.fieldtype = 'Text';
			}

			var field = frappe.ui.form.make_control({
				df: df,
				parent: parent,
				only_input: true,
				with_link_btn: true,
				doc: this.doc,
				doctype: this.doc.doctype,
				docname: this.doc.name,
				frm: this.grid.frm,
				grid: this.grid,
				grid_row: this,
				value: this.doc[df.fieldname]
			});

			// sync get_query
			field.get_query = this.grid.get_field(df.fieldname).get_query;

			if (!field.df.onchange_modified) {
				var field_on_change_function = field.df.onchange;
				field.df.onchange = function (e) {
					field_on_change_function && field_on_change_function(e);
					this$1.refresh_field(field.df.fieldname);
				};

				field.df.onchange_modified = true;
			}

			field.refresh();
			if(field.$input) {
				field.$input
					.addClass('input-sm')
					.attr('data-col-idx', column.column_index)
					.attr('placeholder', __(df.placeholder || df.label));
				// flag list input
				if (this.columns_list && this.columns_list.slice(-1)[0]===column) {
					field.$input.attr('data-last-input', 1);
				}
			}

			this.set_arrow_keys(field);
			column.field = field;
			this.on_grid_fields_dict[df.fieldname] = field;
			this.on_grid_fields.push(field);

		}

		set_arrow_keys(field) {
			var me = this;
			var ignore_fieldtypes = ['Text', 'Small Text', 'Code', 'Text Editor', 'HTML Editor'];
			if (field.$input) {
				field.$input.on('keydown', function(e) {
					var ref = frappe.ui.keyCode;
					var TAB = ref.TAB;
					var UP_ARROW = ref.UP;
					var DOWN_ARROW = ref.DOWN;
					if (!in_list([TAB, UP_ARROW, DOWN_ARROW], e.which)) {
						return;
					}

					var values = me.grid.get_data();
					var fieldname = $(this).attr('data-fieldname');
					var fieldtype = $(this).attr('data-fieldtype');

					var ctrl_key = e.metaKey || e.ctrlKey;
					if (!in_list(ignore_fieldtypes, fieldtype)
						&& ctrl_key && e.which !== TAB) {
						me.add_new_row_using_keys(e);
						return;
					}

					if (e.shiftKey && e.altKey && DOWN_ARROW === e.which) {
						me.duplicate_row_using_keys();
						return;
					}

					var move_up_down = function(base) {
						if (in_list(ignore_fieldtypes, fieldtype) && !e.altKey) {
							return false;
						}
						if (field.autocomplete_open) {
							return false;
						}

						base.toggle_editable_row();
						var input = base.columns[fieldname].field.$input;
						if (input) {
							input.focus();
						}
						return true;
					};

					// TAB
					if (e.which === TAB && !e.shiftKey) {
						var last_column = me.wrapper.find(':input:enabled:last').get(0);
						var is_last_column = $(this).attr('data-last-input') || last_column === this;

						if (is_last_column) {
							// last row
							if (me.doc.idx === values.length) {
								setTimeout(function () {
									me.grid.add_new_row(null, null, true);
									me.grid.grid_rows[me.grid.grid_rows.length - 1].toggle_editable_row();
									me.grid.set_focus_on_row();
								}, 100);
							} else {
								// last column before last row
								me.grid.grid_rows[me.doc.idx].toggle_editable_row();
								me.grid.set_focus_on_row(me.doc.idx);
								return false;
							}
						}
					} else if (e.which === UP_ARROW) {
						if (me.doc.idx > 1) {
							var prev = me.grid.grid_rows[me.doc.idx-2];
							if (move_up_down(prev)) {
								return false;
							}
						}
					} else if (e.which === DOWN_ARROW) {
						if (me.doc.idx < values.length) {
							var next = me.grid.grid_rows[me.doc.idx];
							if (move_up_down(next)) {
								return false;
							}
						}
					}

				});
			}
		}

		duplicate_row_using_keys() {
			var this$1 = this;

			setTimeout(function () {
				this$1.insert(false, true, true);
				this$1.grid.grid_rows[this$1.doc.idx].toggle_editable_row();
				this$1.grid.set_focus_on_row(this$1.doc.idx);
			}, 100);
		}

		add_new_row_using_keys(e) {
			var this$1 = this;

			var idx = '';

			var ctrl_key = e.metaKey || e.ctrlKey;
			var is_down_arrow_key_press = (e.which === 40);

			// Add new row at the end or start of the table
			if (ctrl_key && e.shiftKey)  {
				idx = is_down_arrow_key_press ? null : 1;
				this.grid.add_new_row(idx, null, is_down_arrow_key_press,
					false, is_down_arrow_key_press, !is_down_arrow_key_press);
				idx = is_down_arrow_key_press ? (cint(this.grid.grid_rows.length) - 1) : 0;

			} else if (ctrl_key) {
				idx = is_down_arrow_key_press ? this.doc.idx : (this.doc.idx - 1);
				this.insert(false, is_down_arrow_key_press);
			}

			if (idx !== '') {
				setTimeout(function () {
					this$1.grid.grid_rows[idx].toggle_editable_row();
					this$1.grid.set_focus_on_row(idx);
				}, 100);
			}
		}

		get_open_form() {
			return frappe.ui.form.get_open_grid_form();
		}

		toggle_view(show, callback) {
			if(!this.doc) {
				return this;
			}

			if(this.frm) {
				// reload doc
				this.doc = locals[this.doc.doctype][this.doc.name];
			}

			// hide other
			var open_row = this.get_open_form();

			if (show === undefined) { show = !open_row; }

			// call blur
			document.activeElement && document.activeElement.blur();

			if(show && open_row) {
				if(open_row==this) {
					// already open, do nothing
					callback && callback();
					return;
				} else {
					// close other views
					open_row.toggle_view(false);
				}
			}

			if(show) {
				this.show_form();
			} else {
				this.hide_form();
			}
			callback && callback();

			return this;
		}
		show_form() {
			if (!this.grid_form) {
				this.grid_form = new GridRowForm({
					row: this
				});
			}
			this.grid_form.render();
			this.row.toggle(false);
			// this.form_panel.toggle(true);

			var cannot_add_rows = this.grid.cannot_add_rows || (this.grid.df && this.grid.df.cannot_add_rows);
			this.wrapper
				.find('.grid-insert-row-below, .grid-insert-row, .grid-duplicate-row, .grid-append-row')
				.toggle(!cannot_add_rows);

			this.wrapper.find('.grid-delete-row')
				.toggle(!(this.grid.df && this.grid.df.cannot_delete_rows));

			frappe.dom.freeze("", "dark");
			if (cur_frm) { cur_frm.cur_grid = this; }
			this.wrapper.addClass("grid-row-open");
			if (!frappe.dom.is_element_in_viewport(this.wrapper)
				&& !frappe.dom.is_element_in_modal(this.wrapper)) {
				// -15 offset to make form look visually centered
				frappe.utils.scroll_to(this.wrapper, true, -15);
			}

			if (this.frm) {
				this.frm.script_manager.trigger(this.doc.parentfield + "_on_form_rendered");
				this.frm.script_manager.trigger("form_render", this.doc.doctype, this.doc.name);
			}
		}
		hide_form() {
			frappe.dom.unfreeze();
			this.row.toggle(true);
			if (!frappe.dom.is_element_in_modal(this.row)) {
				frappe.utils.scroll_to(this.row, true, 15);
			}
			this.refresh();
			if(cur_frm) { cur_frm.cur_grid = null; }
			this.wrapper.removeClass("grid-row-open");
		}
		open_prev() {
			if (!this.doc) { return; }
			this.open_row_at_index(this.doc.idx - 2);
		}
		open_next() {
			if (!this.doc) { return; }

			if (!this.open_row_at_index(this.doc.idx)) {
				this.grid.add_new_row(null, null, true);
			}
		}
		open_row_at_index(row_index) {
			if (!this.grid.data[row_index]) { return; }

			this.change_page_if_reqd(row_index);
			this.grid.grid_rows[row_index].toggle_view(true);
			return true;
		}
		change_page_if_reqd(row_index) {
			var ref = this.grid.grid_pagination;
			var page_index = ref.page_index;
			var page_length = ref.page_length;

			row_index++;
			var new_page;

			if (row_index <= (page_index - 1) * page_length) {
				new_page = page_index - 1;
			} else if (row_index > page_index * page_length) {
				new_page = page_index + 1;
			}

			if (new_page) {
				this.grid.grid_pagination.go_to_page(new_page);
			}
		}
		refresh_field(fieldname, txt) {
			var df = this.docfields.find(function (col) {
				return col.fieldname === fieldname;
			});

			// format values if no frm
			if (df && this.doc) {
				txt = frappe.format(this.doc[fieldname], df, null, this.doc);
			}

			if (!txt && this.frm) {
				txt = frappe.format(this.doc[fieldname], df, null, this.frm.doc);
			}

			// reset static value
			var column = this.columns[fieldname];
			if (column) {
				column.static_area.html(txt || "");
				if (df && df.reqd) {
					column.toggleClass('error', !!(txt === null || txt === ''));
				}
			}

			var field = this.on_grid_fields_dict[fieldname];
			// reset field value
			if (field) {
				field.docname = this.doc.name;
				field.refresh();
			}

			// in form
			if (this.grid_form) {
				this.grid_form.refresh_field(fieldname);
			}
		}
		get_field(fieldname) {
			var field = this.on_grid_fields_dict[fieldname];
			if (field) {
				return field;
			} else if(this.grid_form) {
				return this.grid_form.fields_dict[fieldname];
			} else {
				throw ("fieldname " + fieldname + " not found");
			}
		}

		get_visible_columns(blacklist) {
			if ( blacklist === void 0 ) blacklist=[];

			var me = this;
			var visible_columns = $.map(this.docfields, function(df) {
				var visible = !df.hidden && df.in_list_view && me.grid.frm.get_perm(df.permlevel, "read")
					&& !in_list(frappe.model.layout_fields, df.fieldtype) && !in_list(blacklist, df.fieldname);

				return visible ? df : null;
			});
			return visible_columns;
		}
		set_field_property(fieldname, property, value) {

			var set_property = function(field) {
				if(!field) { return; }
				field.df[property] = value;
				field.refresh();
			};

			// set property in grid form
			if(this.grid_form) {
				set_property(this.grid_form.fields_dict[fieldname]);
				this.grid_form.layout && this.grid_form.layout.refresh_sections();
			}

			// set property in on grid fields
			set_property(this.on_grid_fields_dict[fieldname]);
		}
		toggle_reqd(fieldname, reqd) {
			this.set_field_property(fieldname, 'reqd', reqd ? 1 : 0);
		}
		toggle_display(fieldname, show) {
			this.set_field_property(fieldname, 'hidden', show ? 0 : 1);
		}
		toggle_editable(fieldname, editable) {
			this.set_field_property(fieldname, 'read_only', editable ? 0 : 1);
		}
	}

	class GridPagination {

		constructor(opts) {
			$.extend(this, opts);
			this.setup_pagination();
		}

		setup_pagination() {
			this.page_length = 50;
			this.page_index = 1;
			this.total_pages = Math.ceil(this.grid.data.length/this.page_length);

			this.render_pagination();
		}

		render_pagination() {
			if (this.grid.data.length <= this.page_length) {
				this.wrapper.find('.grid-pagination').html('');
			} else {
				var $pagination_template = this.get_pagination_html();
				this.wrapper.find('.grid-pagination').html($pagination_template);
				this.prev_page_button = this.wrapper.find('.prev-page');
				this.next_page_button = this.wrapper.find('.next-page');
				this.$page_number = this.wrapper.find('.current-page-number');
				this.$total_pages = this.wrapper.find('.total-page-number');
				this.first_page_button = this.wrapper.find('.first-page');
				this.last_page_button = this.wrapper.find('.last-page');

				this.bind_pagination_events();
			}
		}

		bind_pagination_events() {
			var this$1 = this;

			this.prev_page_button.on('click', function () {
				this$1.render_prev_page();
			});

			this.next_page_button.on('click', function () {
				this$1.render_next_page();
			});

			this.first_page_button.on('click', function () {
				this$1.go_to_page(1);
			});

			this.last_page_button.on('click', function () {
				this$1.go_to_page(this$1.total_pages);
			});

			this.$page_number.on('keyup', function (e) {
				e.currentTarget.style.width = ((e.currentTarget.value.length + 1) * 8) + 'px';
			});

			this.$page_number.on('keydown', function (e) {
				e = (e) ? e : window.event;
				var charCode = (e.which) ? e.which : e.keyCode;
				var arrow = { up: 38, down: 40 };

				switch (charCode) {
					case arrow.up:
						this$1.inc_dec_number(true);
						break;
					case arrow.down:
						this$1.inc_dec_number(false);
						break;
				}

				// only allow numbers from 0-9 and up, down, left, right arrow keys
				if (charCode > 31 && (charCode < 48 || charCode > 57) && 
					![37, 38, 39, 40].includes(charCode)) {
					return false;
				}
				return true;
			});

			this.$page_number.on('focusout', function (e) {
				if (this$1.page_index == e.currentTarget.value) { return; }
				this$1.page_index = e.currentTarget.value;

				if (this$1.page_index < 1) {
					this$1.page_index = 1;
				} else if (this$1.page_index > this$1.total_pages) {
					this$1.page_index = this$1.total_pages;
				}

				this$1.go_to_page();
			});
		}

		inc_dec_number(increment) {
			var new_value = parseInt(this.$page_number.val());
			increment ? new_value++ : new_value--;

			if (new_value < 1 || new_value > this.total_pages) { return; }

			this.$page_number.val(new_value);
		}

		update_page_numbers() {
			var total_pages = Math.ceil(this.grid.data.length/this.page_length);
			if (this.total_pages !== total_pages) {
				this.total_pages = total_pages;
				this.render_pagination();
			}
		}

		check_page_number() {
			if (this.page_index > this.total_pages && this.page_index > 1) {
				this.go_to_page(this.page_index-1);
			}
		}

		get_pagination_html() {
			var page_text_html = "<div class=\"page-text\">\n\t\t\t\t<input class=\"current-page-number page-number\" type=\"text\" value=\"" + (__(this.page_index)) + "\"/>\n\t\t\t\t<span>" + (__('of')) + "</span>\n\t\t\t\t<span class=\"total-page-number page-number\"> " + (__(this.total_pages)) + " </span>\n\t\t\t</div>";

			return $(("<button class=\"btn btn-secondary btn-xs first-page\"\">\n\t\t\t\t<span>" + (__('First')) + "</span>\n\t\t\t</button>\n\t\t\t<button class=\"btn btn-secondary btn-xs prev-page\">" + (frappe.utils.icon('left', 'xs')) + "</button>\n\t\t\t" + page_text_html + "\n\t\t\t<button class=\"btn btn-secondary btn-xs next-page\">" + (frappe.utils.icon('right', 'xs')) + "</button>\n\t\t\t<button class=\"btn btn-secondary btn-xs last-page\">\n\t\t\t\t<span>" + (__('Last')) + "</span>\n\t\t\t</button>"));
		}

		render_next_page() {
			if (this.page_index*this.page_length < this.grid.data.length) {
				this.page_index++;
				this.go_to_page();
			}
		}

		render_prev_page() {
			if (this.page_index > 1) {
				this.page_index--;
				this.go_to_page();
			}
		}

		go_to_page(index, from_refresh) {
			if (!index) {
				index = this.page_index;
			} else {
				this.page_index = index;
			}
			var $rows = $(this.grid.parent).find(".rows").empty();
			this.grid.render_result_rows($rows, true);
			if (this.$page_number) {
				this.$page_number.val(index);
				this.$page_number.css('width', ((index.toString().length + 1) * 8) + 'px');
			}

			this.update_page_numbers();
			if (!from_refresh) {
				this.grid.scroll_to_top();
			}
		}

		go_to_last_page_to_add_row() {
			var total_pages = this.total_pages;
			var page_length = this.page_length;
			if (this.grid.data.length == page_length*total_pages) {
				this.go_to_page(total_pages + 1);
				frappe.utils.scroll_to(this.wrapper);
			} else if (this.page_index == this.total_pages) {
				return;
			} else {
				this.go_to_page(total_pages);
			}
		}

		get_result_length() {
			return this.grid.data.length < this.page_index*this.page_length
				? this.grid.data.length
				: this.page_index*this.page_length;
		}

	}

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors

	frappe.ui.form.get_open_grid_form = function () {
		return $(".grid-row-open").data("grid_row");
	};

	frappe.ui.form.close_grid_form = function () {
		var open_form = frappe.ui.form.get_open_grid_form();
		open_form && open_form.hide_form();

		// hide editable row too
		if (frappe.ui.form.editable_row) {
			frappe.ui.form.editable_row.toggle_editable_row(false);
		}
	};


	class Grid {
		constructor(opts) {
			$.extend(this, opts);
			this.fieldinfo = {};
			this.doctype = this.df.options;

			if (this.doctype) {
				this.meta = frappe.get_meta(this.doctype);
			}
			this.fields_map = {};
			this.template = null;
			this.multiple_set = false;
			if (this.frm && this.frm.meta.__form_grid_templates
				&& this.frm.meta.__form_grid_templates[this.df.fieldname]) {
				this.template = this.frm.meta.__form_grid_templates[this.df.fieldname];
			}

			this.is_grid = true;
			this.debounced_refresh = this.refresh.bind(this);
			this.debounced_refresh = frappe.utils.debounce(this.debounced_refresh, 100);
		}

		allow_on_grid_editing() {
			if (frappe.utils.is_xs()) {
				return false;
			} else if (this.meta && this.meta.editable_grid || !this.meta) {
				return true;
			} else {
				return false;
			}
		}

		make() {
			var template = "\n\t\t\t<label class=\"control-label\">" + (__(this.df.label || '')) + "</label>\n\t\t\t<p class=\"text-muted small grid-description\"></p>\n\t\t\t<div class=\"grid-custom-buttons grid-field\"></div>\n\t\t\t<div class=\"form-grid\">\n\t\t\t\t<div class=\"grid-heading-row\"></div>\n\t\t\t\t<div class=\"grid-body\">\n\t\t\t\t\t<div class=\"rows\"></div>\n\t\t\t\t\t<div class=\"grid-empty text-center\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc=\"/assets/frappe/images/ui-states/grid-empty-state.svg\"\n\t\t\t\t\t\t\talt=\"Grid Empty State\"\n\t\t\t\t\t\t\tclass=\"grid-empty-illustration\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t" + (__("No Data")) + "\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"small form-clickable-section grid-footer\">\n\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t<div class=\"grid-buttons\">\n\t\t\t\t\t\t<button class=\"btn btn-xs btn-danger grid-remove-rows hidden\"\n\t\t\t\t\t\t\tstyle=\"margin-right: 4px;\"\n\t\t\t\t\t\t\tdata-action=\"delete_rows\">\n\t\t\t\t\t\t\t" + (__("Delete")) + "\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"btn btn-xs btn-danger grid-remove-all-rows hidden\"\n\t\t\t\t\t\t\tstyle=\"margin-right: 4px;\"\n\t\t\t\t\t\t\tdata-action=\"delete_all_rows\">\n\t\t\t\t\t\t\t" + (__("Delete All")) + "\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class=\"grid-add-multiple-rows btn btn-xs btn-secondary hidden\"\n\t\t\t\t\t\t\tstyle=\"margin-right: 4px;\">\n\t\t\t\t\t\t\t" + (__("Add Multiple")) + "</a>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<!-- hack to allow firefox include this in tabs -->\n\t\t\t\t\t\t<button class=\"btn btn-xs btn-secondary grid-add-row\">\n\t\t\t\t\t\t\t" + (__("Add Row")) + "\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid-pagination\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-right\">\n\t\t\t\t\t\t<a href=\"#\" class=\"grid-download btn btn-xs btn-secondary hidden\">\n\t\t\t\t\t\t\t" + (__("Download")) + "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href=\"#\" class=\"grid-upload btn btn-xs btn-secondary hidden\">\n\t\t\t\t\t\t\t" + (__("Upload")) + "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t";

			this.wrapper = $(template).appendTo(this.parent);
			$(this.parent).addClass('form-group');
			this.set_grid_description();

			frappe.utils.bind_actions_with_object(this.wrapper, this);

			this.form_grid = this.wrapper.find('.form-grid');

			this.setup_add_row();

			this.setup_grid_pagination();

			this.custom_buttons = {};
			this.grid_buttons = this.wrapper.find('.grid-buttons');
			this.grid_custom_buttons = this.wrapper.find('.grid-custom-buttons');
			this.remove_rows_button = this.grid_buttons.find('.grid-remove-rows');
			this.remove_all_rows_button = this.grid_buttons.find('.grid-remove-all-rows');

			this.setup_allow_bulk_edit();
			this.setup_check();
			if (this.df.on_setup) {
				this.df.on_setup(this);
			}
		}
		set_grid_description() {
			var description_wrapper = $(this.parent).find('.grid-description');
			if (this.df.description) {
				description_wrapper.text(__(this.df.description));
			} else {
				description_wrapper.hide();
			}
		}
		setup_grid_pagination() {
			this.grid_pagination = new GridPagination({
				grid: this,
				wrapper: this.wrapper,
			});
		}

		setup_check() {
			var this$1 = this;


			this.wrapper.on('click', '.grid-row-check', function (e) {
				var $check = $(e.currentTarget);
				if ($check.parents('.grid-heading-row:first').length !== 0) {
					// select all?
					var checked = $check.prop('checked');
					$check.parents('.form-grid:first')
						.find('.grid-row-check').prop('checked', checked);

					// set all
					var result_length = this$1.grid_pagination.get_result_length();
					var page_index = this$1.grid_pagination.page_index;
					var page_length = this$1.grid_pagination.page_length;
					for (var ri = (page_index - 1) * page_length; ri < result_length; ri++) {
						this$1.grid_rows[ri].doc.__checked = checked ? 1 : 0;
					}
				} else {
					var docname = $check.parents('.grid-row:first').attr('data-name');
					this$1.grid_rows_by_docname[docname].select($check.prop('checked'));
				}
				this$1.refresh_remove_rows_button();
			});

		}

		delete_rows() {
			var this$1 = this;

			var dirty = false;

			var tasks = [];
			var selected_children = this.get_selected_children();
			selected_children.forEach(function (doc) {
				tasks.push(function () {
					if (!this$1.frm) {
						this$1.df.data = this$1.get_data();
						this$1.df.data = this$1.df.data.filter(function (row) { return row.idx != doc.idx; });
					}
					this$1.grid_rows_by_docname[doc.name].remove();
					dirty = true;
				});
				tasks.push(function () { return frappe.timeout(0.1); });
			});

			if (!this.frm) {
				tasks.push(function () {
					// reorder idx of df.data
					this$1.df.data.forEach(function (row, index) { return row.idx = index + 1; });
				});
			}

			tasks.push(function () {
				if (dirty) {
					this$1.refresh();
					this$1.frm && this$1.frm.script_manager.trigger(this$1.df.fieldname + "_delete", this$1.doctype);
				}
			});

			frappe.run_serially(tasks);

			this.wrapper.find('.grid-heading-row .grid-row-check:checked:first').prop('checked', 0);
			if (selected_children.length == this.grid_pagination.page_length) {
				this.scroll_to_top();
			}
		}

		delete_all_rows() {
			var this$1 = this;

			frappe.confirm(__("Are you sure you want to delete all rows?"), function () {
				this$1.frm.doc[this$1.df.fieldname] = [];
				$(this$1.parent).find('.rows').empty();
				this$1.grid_rows = [];
				this$1.refresh();
				this$1.frm && this$1.frm.script_manager.trigger(this$1.df.fieldname + "_delete", this$1.doctype);
				this$1.frm && this$1.frm.dirty();
				this$1.scroll_to_top();
			});
		}

		scroll_to_top() {
			frappe.utils.scroll_to(this.wrapper);
		}

		select_row(name) {
			this.grid_rows_by_docname[name].select();
		}

		remove_all() {
			this.grid_rows.forEach(function (row) {
				row.remove();
			});
		}

		refresh_remove_rows_button() {
			if (this.df.cannot_delete_rows) {
				return;
			}

			this.remove_rows_button.toggleClass('hidden',
				this.wrapper.find('.grid-body .grid-row-check:checked:first').length ? false : true);

			var select_all_checkbox_checked = this.wrapper.find('.grid-heading-row .grid-row-check:checked:first').length;
			var show_delete_all_btn = select_all_checkbox_checked && this.data.length > this.get_selected_children().length;
			this.remove_all_rows_button.toggleClass('hidden', !show_delete_all_btn);
		}

		get_selected() {
			return (this.grid_rows || []).map(function (row) {
				return row.doc.__checked ? row.doc.name : null;
			}).filter(function (d) {
				return d;
			});
		}

		get_selected_children() {
			return (this.grid_rows || []).map(function (row) {
				return row.doc.__checked ? row.doc : null;
			}).filter(function (d) {
				return d;
			});
		}

		reset_grid() {
			this.visible_columns = [];
			this.grid_rows = [];

			$(this.parent).find(".grid-body .grid-row").remove();
			this.refresh();
		}

		make_head() {
			// labels
			if (this.header_row) {
				$(this.parent).find(".grid-heading-row .grid-row").remove();
			}
			this.header_row = new GridRow({
				parent: $(this.parent).find(".grid-heading-row"),
				parent_df: this.df,
				docfields: this.docfields,
				frm: this.frm,
				grid: this,
				configure_columns: true
			});
		}

		refresh(force) {
			if (this.frm && this.frm.setting_dependency) { return; }

			this.data = this.get_data();

			!this.wrapper && this.make();
			var $rows = $(this.parent).find('.rows');

			this.setup_fields();

			if (this.frm) {
				this.display_status = frappe.perm.get_field_display_status(this.df, this.frm.doc,
					this.perm);
			} else if (this.df.is_web_form && this.control) {
				this.display_status = this.control.get_status();
			} else {
				// not in form
				this.display_status = 'Write';
			}

			if (this.display_status === "None") { return; }

			// redraw
			this.make_head();

			if (!this.grid_rows) {
				this.grid_rows = [];
			}

			this.truncate_rows();
			this.grid_rows_by_docname = {};

			this.grid_pagination.update_page_numbers();
			this.render_result_rows($rows, false);
			this.grid_pagination.check_page_number();
			this.wrapper.find('.grid-empty').toggleClass('hidden', Boolean(this.data.length));

			// toolbar
			this.setup_toolbar();
			this.toggle_checkboxes(this.display_status !== 'Read');

			// sortable
			if (this.frm && this.is_sortable() && !this.sortable_setup_done) {
				this.make_sortable($rows);
				this.sortable_setup_done = true;
			}

			this.last_display_status = this.display_status;
			this.last_docname = this.frm && this.frm.docname;

			// red if mandatory
			this.form_grid.toggleClass('error', !!(this.df.reqd && !(this.data && this.data.length)));

			this.refresh_remove_rows_button();

			this.wrapper.trigger('change');
		}


		render_result_rows($rows, append_row) {
			var result_length = this.grid_pagination.get_result_length();
			var page_index = this.grid_pagination.page_index;
			var page_length = this.grid_pagination.page_length;
			if (!this.grid_rows) {
				return;
			}
			for (var ri = (page_index - 1) * page_length; ri < result_length; ri++) {
				var d = this.data[ri];
				if (!d) {
					return;
				}
				if (d.idx === undefined) {
					d.idx = ri + 1;
				}
				if (d.name === undefined) {
					d.name = "row " + d.idx;
				}
				if (this.grid_rows[ri] && !append_row) {
					var grid_row = this.grid_rows[ri];
					grid_row.doc = d;
					grid_row.refresh();
				} else {
					var grid_row = new GridRow({
						parent: $rows,
						parent_df: this.df,
						docfields: this.docfields,
						doc: d,
						frm: this.frm,
						grid: this
					});
					this.grid_rows[ri] = grid_row;
				}

				this.grid_rows_by_docname[d.name] = grid_row;
			}
		}

		setup_toolbar() {

			if (this.is_editable()) {
				this.wrapper.find('.grid-footer').toggle(true);

				// show, hide buttons to add rows
				if (this.cannot_add_rows || (this.df && this.df.cannot_add_rows)) {
					// add 'hidden' to buttons
					this.wrapper.find('.grid-add-row, .grid-add-multiple-rows')
						.addClass('hidden');
				} else {
					// show buttons
					this.wrapper.find('.grid-add-row').removeClass('hidden');

					if (this.multiple_set) {
						this.wrapper.find('.grid-add-multiple-rows').removeClass('hidden');
					}
				}
			} else if (this.grid_rows.length < this.grid_pagination.page_length) {
				this.wrapper.find('.grid-footer').toggle(false);
			}

			this.wrapper.find('.grid-add-row, .grid-add-multiple-rows').toggle(this.is_editable());

		}

		truncate_rows() {
			if (this.grid_rows.length > this.data.length) {
				// remove extra rows
				for (var i = this.data.length; i < this.grid_rows.length; i++) {
					var grid_row = this.grid_rows[i];
					if (grid_row) { grid_row.wrapper.remove(); }
				}
				this.grid_rows.splice(this.data.length);
			}
		}

		setup_fields() {
			var this$1 = this;

			// reset docfield
			if (this.frm && this.frm.docname) {
				// use doc specific docfield object
				this.df = frappe.meta.get_docfield(this.frm.doctype, this.df.fieldname,
					this.frm.docname);
			} else {
				// use non-doc specific docfield
				if (this.df.options) {
					this.df = frappe.meta.get_docfield(this.df.options, this.df.fieldname) || this.df || null;
				}
			}

			if (this.doctype && this.frm) {
				this.docfields = frappe.meta.get_docfields(this.doctype, this.frm.docname);
			} else {
				// fields given in docfield
				this.docfields = this.df.fields;
			}

			this.docfields.forEach(function (df) {
				this$1.fields_map[df.fieldname] = df;
			});
		}

		refresh_row(docname) {
			this.grid_rows_by_docname[docname] &&
				this.grid_rows_by_docname[docname].refresh();
		}

		make_sortable($rows) {
			var this$1 = this;

			new Sortable($rows.get(0), {
				group: { name: this.df.fieldname },
				handle: '.sortable-handle',
				draggable: '.grid-row',
				animation: 100,
				filter: 'li, a',
				onMove: function (event) {
					// don't move if editable
					if (!this$1.is_editable()) {
						return false;
					}
					// prevent drag behaviour if _sortable property is "false"
					var idx = $(event.dragged).closest('.grid-row').attr('data-idx');
					var doc = this$1.data[idx % this$1.grid_pagination.page_length];
					if (doc && doc._sortable === false) {
						return false;
					}
				},
				onUpdate: function (event) {
					var idx = $(event.item).closest('.grid-row').attr('data-idx') - 1;
					var doc = this$1.data[idx % this$1.grid_pagination.page_length];
					this$1.renumber_based_on_dom();
					this$1.frm.script_manager.trigger(this$1.df.fieldname + "_move", this$1.df.options, doc.name);
					this$1.refresh();
					this$1.frm.dirty();
				}
			});

			$(this.frm.wrapper).trigger("grid-make-sortable", [this.frm]);
		}

		get_data() {
			var data = this.frm ?
				this.frm.doc[this.df.fieldname] || []
				: this.df.data || this.get_modal_data();
			// data.sort(function(a, b) { return a.idx - b.idx});
			return data;
		}

		get_modal_data() {
			var this$1 = this;

			return this.df.get_data ? this.df.get_data().filter(function (data) {
				if (!this$1.deleted_docs || !in_list(this$1.deleted_docs, data.name)) {
					return data;
				}
			}) : [];
		}

		set_column_disp(fieldname, show) {
			if (Array.isArray(fieldname)) {
				for (var i = 0, list = fieldname; i < list.length; i += 1) {
					var field = list[i];

					this.update_docfield_property(field, "hidden", show ? 0 : 1);
					this.set_editable_grid_column_disp(field, show);
				}
			} else {
				this.get_docfield(fieldname).hidden = show ? 0 : 1;
				this.set_editable_grid_column_disp(fieldname, show);
			}

			this.debounced_refresh();
		}

		set_editable_grid_column_disp(fieldname, show) {
			//Hide columns for editable grids
			if (this.meta.editable_grid && this.grid_rows) {
				this.grid_rows.forEach(function (row) {
					row.columns_list.forEach(function (column) {
						//Hide the column specified
						if (column.df.fieldname == fieldname) {
							if (show) {
								column.df.hidden = false;

								//Show the static area and hide field area if it is not the editable row
								if (row != frappe.ui.form.editable_row) {
									column.static_area.show();
									column.field_area && column.field_area.toggle(false);
								}
								//Hide the static area and show field area if it is the editable row
								else {
									column.static_area.hide();
									column.field_area && column.field_area.toggle(true);

									//Format the editable column appropriately if it is now visible
									if (column.field) {
										column.field.refresh();
										if (column.field.$input) { column.field.$input.toggleClass('input-sm', true); }
									}
								}
							}
							else {
								column.df.hidden = true;
								column.static_area.hide();
							}
						}
					});
				});
			}

			this.refresh();
		}

		toggle_reqd(fieldname, reqd) {
			this.update_docfield_property(fieldname, "reqd", reqd);
			this.debounced_refresh();
		}

		toggle_enable(fieldname, enable) {
			this.update_docfield_property(fieldname, "read_only", enable ? 0 : 1);
			this.debounced_refresh();
		}

		toggle_display(fieldname, show) {
			this.update_docfield_property(fieldname, "hidden", show ? 0 : 1);
			this.debounced_refresh();
		}

		toggle_checkboxes(enable) {
			this.wrapper.find(".grid-row-check").prop('disabled', !enable);
		}

		get_docfield(fieldname) {
			return frappe.meta.get_docfield(this.doctype, fieldname, this.frm ? this.frm.docname : null);
		}

		get_row(key) {
			if (typeof key == 'number') {
				if (key < 0) {
					return this.grid_rows[this.grid_rows.length + key];
				} else {
					return this.grid_rows[key];
				}
			} else {
				return this.grid_rows_by_docname[key];
			}
		}

		get_grid_row(key) {
			return this.get_row(key);
		}

		get_field(fieldname) {
			// Note: workaround for get_query
			if (!this.fieldinfo[fieldname])
				{ this.fieldinfo[fieldname] = {
				}; }
			return this.fieldinfo[fieldname];
		}

		set_value(fieldname, value, doc) {
			if (this.display_status !== "None" && this.grid_rows_by_docname[doc.name]) {
				this.grid_rows_by_docname[doc.name].refresh_field(fieldname, value);
			}
		}

		setup_add_row() {
			var this$1 = this;

			this.wrapper.find(".grid-add-row").click(function () {
				this$1.add_new_row(null, null, true, null, true);
				this$1.set_focus_on_row();

				return false;
			});
		}

		add_new_row(idx, callback, show, copy_doc, go_to_last_page, go_to_first_page) {
			if ( go_to_last_page === void 0 ) go_to_last_page = false;
			if ( go_to_first_page === void 0 ) go_to_first_page = false;

			if (this.is_editable()) {
				if (go_to_last_page) {
					this.grid_pagination.go_to_last_page_to_add_row();
				} else if (go_to_first_page) {
					this.grid_pagination.go_to_page(1);
				}

				if (this.frm) {
					var d = frappe.model.add_child(this.frm.doc, this.df.options, this.df.fieldname, idx);
					if (copy_doc) {
						d = this.duplicate_row(d, copy_doc);
					}
					d.__unedited = true;
					this.frm.script_manager.trigger(this.df.fieldname + "_add", d.doctype, d.name);
					this.refresh();
				} else {
					if (!this.df.data) {
						this.df.data = this.get_data() || [];
					}
					this.df.data.push({ idx: this.df.data.length + 1, __islocal: true });
					this.refresh();
				}

				if (show) {
					if (idx) {
						// always open inserted rows
						this.wrapper.find("[data-idx='" + idx + "']").data("grid_row")
							.toggle_view(true, callback);
					} else {
						if (!this.allow_on_grid_editing()) {
							// open last row only if on-grid-editing is disabled
							this.wrapper.find(".grid-row:last").data("grid_row")
								.toggle_view(true, callback);
						}
					}
				}

				return d;
			}
		}

		renumber_based_on_dom() {
			var this$1 = this;

			// renumber based on dom
			var $rows = $(this.parent).find(".rows");

			$rows.find(".grid-row").each(function (i, item) {
				var $item = $(item);
				var index = (this$1.grid_pagination.page_index - 1) * this$1.grid_pagination.page_length + i;
				var d = locals[this$1.doctype][$item.attr('data-name')];
				d.idx = index + 1;
				$item.attr('data-idx', d.idx);

				this$1.frm.doc[this$1.df.fieldname][index] = (d);
				this$1.data[index] = d;
				this$1.grid_rows[index] = (this$1.grid_rows_by_docname[d.name]);
			});
		}

		duplicate_row(d, copy_doc) {
			$.each(copy_doc, function (key, value) {
				if (!["creation", "modified", "modified_by", "idx", "owner",
					"parent", "doctype", "name", "parentfield"].includes(key)) {
					d[key] = value;
				}
			});

			return d;
		}

		set_focus_on_row(idx) {
			var this$1 = this;

			if (!idx && idx !== 0) {
				idx = this.grid_rows.length - 1;
			}

			setTimeout(function () {
				this$1.grid_rows[idx].row
					.find('input[type="Text"],textarea,select').filter(':visible:first').focus();
			}, 100);
		}

		setup_visible_columns() {
			if (this.visible_columns && this.visible_columns.length > 0) { return; }

			this.user_defined_columns = [];
			this.setup_user_defined_columns();
			var total_colsize = 1,
				fields = (this.user_defined_columns && this.user_defined_columns.length > 0)
					? this.user_defined_columns : this.editable_fields || this.docfields;

			this.visible_columns = [];

			for (var ci in fields) {
				var _df = fields[ci];

				// get docfield if from fieldname
				df = (this.user_defined_columns && this.user_defined_columns.length > 0) ? _df : this.fields_map[_df.fieldname];

				if (df && !df.hidden
					&& (this.editable_fields || df.in_list_view)
					&& (this.frm && this.frm.get_perm(df.permlevel, "read") || !this.frm)
					&& !in_list(frappe.model.layout_fields, df.fieldtype)) {

					if (df.columns) {
						df.colsize = df.columns;
					} else {
						this.update_default_colsize(df);
					}

					// attach formatter on refresh
					if (df.fieldtype == 'Link' && !df.formatter && df.parent && frappe.meta.docfield_map[df.parent]) {
						var docfield = frappe.meta.docfield_map[df.parent][df.fieldname];
						if (docfield && docfield.formatter) {
							df.formatter = docfield.formatter;
						}
					}

					total_colsize += df.colsize;
					if (total_colsize > 11)
						{ return false; }
					this.visible_columns.push([df, df.colsize]);
				}
			}

			// redistribute if total-col size is less than 12
			var passes = 0;
			while (total_colsize < 11 && passes < 12) {
				for (var i in this.visible_columns) {
					var df = this.visible_columns[i][0];
					var colsize = this.visible_columns[i][1];
					if (colsize > 1 && colsize < 11
						&& !in_list(frappe.model.std_fields_list, df.fieldname)) {

						if (passes < 3 && ["Int", "Currency", "Float", "Check", "Percent"].indexOf(df.fieldtype) !== -1) {
							// don't increase col size of these fields in first 3 passes
							continue;
						}

						this.visible_columns[i][1] += 1;
						total_colsize++;
					}

					if (total_colsize > 10)
						{ break; }
				}
				passes++;
			}
		}

		update_default_colsize(df) {
			var colsize = 2;
			switch (df.fieldtype) {
				case "Text": break;
				case "Small Text": colsize = 3; break;
				case "Check": colsize = 1;
			}
			df.colsize = colsize;
		}

		setup_user_defined_columns() {
			var this$1 = this;

			if (this.frm) {
				var user_settings = frappe.get_user_settings(this.frm.doctype, 'GridView');
				if (user_settings && user_settings[this.doctype] && user_settings[this.doctype].length) {
					this.user_defined_columns = user_settings[this.doctype].map(function (row) {
						var column = frappe.meta.get_docfield(this$1.doctype, row.fieldname);
						if (column) {
							column.in_list_view = 1;
							column.columns = row.columns;
							return column;
						}
					});
				}
			}
		}

		is_editable() {
			return this.display_status == "Write" && !this.static_rows;
		}

		is_sortable() {
			return this.sortable_status || this.is_editable();
		}

		only_sortable(status) {
			if (status === undefined ? true : status) {
				this.sortable_status = true;
				this.static_rows = true;
			}
		}

		set_multiple_add(link, qty) {
			var this$1 = this;

			if (this.multiple_set) { return; }

			var link_field = frappe.meta.get_docfield(this.df.options, link);
			var btn = $(this.wrapper).find(".grid-add-multiple-rows");

			// show button
			btn.removeClass('hidden');

			// open link selector on click
			btn.on("click", function () {
				new frappe.ui.form.LinkSelector({
					doctype: link_field.options,
					fieldname: link,
					qty_fieldname: qty,
					target: this$1,
					txt: ""
				});
				this$1.grid_pagination.go_to_last_page_to_add_row();
				return false;
			});
			this.multiple_set = true;
		}

		setup_allow_bulk_edit() {
			var me = this;
			if (this.frm && this.frm.get_docfield(this.df.fieldname).allow_bulk_edit) {
				// download
				this.setup_download();

				var value_formatter_map = {
					"Date": function (val) { return val ? frappe.datetime.user_to_str(val) : val; },
					"Int": function (val) { return cint(val); },
					"Check": function (val) { return cint(val); },
					"Float": function (val) { return flt(val); },
				};

				// upload
				frappe.flags.no_socketio = true;
				$(this.wrapper).find(".grid-upload").removeClass('hidden').on("click", function () {
					new frappe.ui.FileUploader({
						as_dataurl: true,
						allow_multiple: false,
						on_success: function on_success(file) {
							var data = frappe.utils.csv_to_array(frappe.utils.get_decoded_string(file.dataurl));
							// row #2 contains fieldnames;
							var fieldnames = data[2];
							me.frm.clear_table(me.df.fieldname);
							$.each(data, function (i, row) {
								if (i > 6) {
									var blank_row = true;
									$.each(row, function (ci, value) {
										if (value) {
											blank_row = false;
											return false;
										}
									});

									if (!blank_row) {
										var d = me.frm.add_child(me.df.fieldname);
										$.each(row, function (ci, value) {
											var fieldname = fieldnames[ci];
											var df = frappe.meta.get_docfield(me.df.options, fieldname);
											if (df) {
												d[fieldnames[ci]] = value_formatter_map[df.fieldtype]
													? value_formatter_map[df.fieldtype](value)
													: value;
											}
										});
									}
								}
							});

							me.frm.refresh_field(me.df.fieldname);
							frappe.msgprint({ message: __('Table updated'), title: __('Success'), indicator: 'green' });
						}
					});
					return false;
				});
			}
		}

		setup_download() {
			var this$1 = this;

			var title = this.df.label || frappe.model.unscrub(this.df.fieldname);
			$(this.wrapper).find(".grid-download").removeClass('hidden').on("click", function () {
				var data = [];
				var docfields = [];
				data.push([__("Bulk Edit {0}", [title])]);
				data.push([]);
				data.push([]);
				data.push([]);
				data.push([__("The CSV format is case sensitive")]);
				data.push([__("Do not edit headers which are preset in the template")]);
				data.push(["------"]);
				$.each(frappe.get_meta(this$1.df.options).fields, function (i, df) {
					// don't include the read-only field in the template
					if (frappe.model.is_value_type(df.fieldtype)) {
						data[1].push(df.label);
						data[2].push(df.fieldname);
						var description = (df.description || "") + ' ';
						if (df.fieldtype === "Date") {
							description += frappe.boot.sysdefaults.date_format;
						}
						data[3].push(description);
						docfields.push(df);
					}
				});

				// add data
				$.each(this$1.frm.doc[this$1.df.fieldname] || [], function (i, d) {
					var row = [];
					$.each(data[2], function (i, fieldname) {
						var value = d[fieldname];

						// format date
						if (docfields[i].fieldtype === "Date" && value) {
							value = frappe.datetime.str_to_user(value);
						}

						row.push(value || "");
					});
					data.push(row);
				});

				frappe.tools.downloadify(data, null, title);
				return false;
			});
		}

		add_custom_button(label, click, position) {
			if ( position === void 0 ) position='bottom';

			// add / unhide a custom button
			var $wrapper = position === 'top' ? this.grid_custom_buttons : this.grid_buttons;
			var $btn = this.custom_buttons[label];
			if (!$btn) {
				$btn = $(("<button class=\"btn btn-default btn-xs btn-custom\">" + (__(label)) + "</button>"))
					.prependTo($wrapper)
					.on('click', click);
				this.custom_buttons[label] = $btn;
			} else {
				$btn.removeClass('hidden');
			}
			return $btn;
		}

		clear_custom_buttons() {
			// hide all custom buttons
			this.grid_buttons.find('.btn-custom').addClass('hidden');
		}

		update_docfield_property(fieldname, property, value) {
			// update the docfield of each row
			if (!this.grid_rows) {
				return;
			}

			for (var i = 0, list = this.grid_rows; i < list.length; i += 1) {
				var row = list[i];

				var docfield = row.docfields.find(function (d) { return d.fieldname === fieldname; });
				if (docfield) {
					docfield[property] = value;
				} else {
					throw ("field " + fieldname + " not found");
				}
			}

			// update the parent too (for new rows)
			this.docfields.find(function (d) { return d.fieldname === fieldname; })[property] = value;

			this.debounced_refresh();
		}
	}

	frappe.ui.form.ControlTable = frappe.ui.form.Control.extend({
		make: function() {
			var this$1 = this;

			this._super();

			// add title if prev field is not column / section heading or html
			this.grid = new Grid({
				frm: this.frm,
				df: this.df,
				perm: this.perm || (this.frm && this.frm.perm) || this.df.perm,
				parent: this.wrapper,
				control: this
			});

			if (this.frm) {
				this.frm.grids[this.frm.grids.length] = this;
			}

			this.$wrapper.on('paste', ':text', function (e) {
				var table_field = this$1.df.fieldname;
				var grid = this$1.grid;
				var grid_pagination = grid.grid_pagination;
				var grid_rows = grid.grid_rows;
				var doctype = grid.doctype;
				var row_docname = $(e.target).closest('.grid-row').data('name');
				var in_grid_form = $(e.target).closest('.form-in-grid').length;

				var pasted_data = frappe.utils.get_clipboard_data(e);

				if (!pasted_data || in_grid_form) { return; }

				var data = frappe.utils.csv_to_array(pasted_data, '\t');

				if (data.length === 1 && data[0].length === 1) { return; }

				var fieldnames = [];
				// for raw data with column header
				if (this$1.get_field(data[0][0])) {
					data[0].forEach(function (column) {
						fieldnames.push(this$1.get_field(column));
					});
					data.shift();
				} else {
					// no column header, map to the existing visible columns
					var visible_columns = grid_rows[0].get_visible_columns();
					var target_column_matched = false;
					visible_columns.forEach(function (column) {
						// consider all columns after the target column.
						if (target_column_matched || column.fieldname === $(e.target).data('fieldname')) {
							fieldnames.push(column.fieldname);
							target_column_matched = true;
						}
					});
				}

				var row_idx = locals[doctype][row_docname].idx;
				var data_length = data.length;
				data.forEach(function (row, i) {
					setTimeout(function () {
						var blank_row = !row.filter(Boolean).length;
						if (!blank_row) {
							if (row_idx > this$1.frm.doc[table_field].length) {
								this$1.grid.add_new_row();
							}

							if (row_idx > 1 && (row_idx - 1) % grid_pagination.page_length === 0) {
								grid_pagination.go_to_page(grid_pagination.page_index + 1);
							}

							var row_name = grid_rows[row_idx - 1].doc.name;
							row.forEach(function (value, data_index) {
								if (fieldnames[data_index]) {
									frappe.model.set_value(doctype, row_name, fieldnames[data_index], value);
								}
							});
							row_idx++;
							if (data_length >= 10) {
								var progress = i + 1;
								frappe.show_progress(__('Processing'), progress, data_length, null, true);
							}
						}
					}, 0);
				});
				return false; // Prevent the default handler from running.
			});
		},
		get_field: function get_field(field_name) {
			var fieldname;
			field_name = field_name.toLowerCase();
			this.grid.meta.fields.some(function (field) {
				if (frappe.model.no_value_type.includes(field.fieldtype)) {
					return false;
				}
				
				var is_field_matching = function () {
					return (
						field.fieldname.toLowerCase() === field_name ||
						(field.label || '').toLowerCase() === field_name  ||
						(__(field.label) || '').toLowerCase() === field_name
					);
				};

				if (is_field_matching()) {
					fieldname = field.fieldname;
					return true;
				}
			});
			return fieldname;
		},
		refresh_input: function() {
			this.grid.refresh();
		},
		get_value: function() {
			if(this.grid) {
				return this.grid.get_data();
			}
		},
		set_input: function( ) {
			//
		},
		validate: function() {
			return this.get_value();
		},
		check_all_rows: function check_all_rows() {
			this.$wrapper.find('.grid-row-check')[0].click();
		}
	});

	var utils = {
		get_hue: function get_hue(rgb) {
			return this.get_hsv(rgb)[0];
		},

		get_hsv: function get_hsv(rgb) {
			var ref;

			if (typeof rgb === "string") {
				if (rgb.startsWith('#')) {
					rgb = this.hex_to_rgb_values(rgb);
				} else {
					rgb = this.get_rgb_values(rgb);
				}
			}
			return (ref = this).rgb_to_hsv.apply(ref, rgb);
		},

		get_rgb_values: function get_rgb_values(rgb_string) {
			return rgb_string.replace(/[()rgb\s]/g, '').split(',').map(function (s) { return parseInt(s); });
		},

		rgb_to_hsv: function rgb_to_hsv(r, g, b) {
			r /= 255;
			g /= 255;
			b /= 255;

			var max = Math.max(r, g, b), min = Math.min(r, g, b);
			var h, s, v = max;

			var d = max - min;
			s = max == 0 ? 0 : d / max;

			if (max == min) {
				h = 0; // achromatic
			} else {
				switch (max) {
					case r: h = (g - b) / d + (g < b ? 6 : 0); break;
					case g: h = (b - r) / d + 2; break;
					case b: h = (r - g) / d + 4; break;
				}

				h /= 6;
			}
			return [Math.round(h * 360), Math.round(s * 100), Math.round(v * 100)];
		},

		component_to_hex: function component_to_hex(c) {
			var hex = c.toString(16);
			return hex.length == 1 ? "0" + hex : hex;
		},

		rgb_to_hex: function rgb_to_hex(r, g, b) {
			return "#" + this.component_to_hex(r) + this.component_to_hex(g) + this.component_to_hex(b);
		},

		hex_to_rgb_values: function hex_to_rgb_values(hex) {
			var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
			return [parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)];
		},

		hsv_to_hex: function hsv_to_hex(h, s, v) {
			s /= 100;
			v /= 100;
			h /= 360;

			var r, g, b;
			var i = Math.floor(h * 6);
			var f = h * 6 - i;
			var p = v * (1 - s);
			var q = v * (1 - f * s);
			var t = v * (1 - (1 - f) * s);

			switch (i % 6) {
				case 0: r = v, g = t, b = p; break;
				case 1: r = q, g = v, b = p; break;
				case 2: r = p, g = v, b = t; break;
				case 3: r = p, g = q, b = v; break;
				case 4: r = t, g = p, b = v; break;
				case 5: r = v, g = p, b = q; break;
			}
			r = Math.round(r * 255);
			g = Math.round(g * 255);
			b = Math.round(b * 255);
			return this.rgb_to_hex(r, g, b);
		},

		clamp: function clamp(min, val, max) {
			return val > max ? max : val < min ? min : val;
		}
	};

	class Picker {
		constructor(opts) {
			this.parent = opts.parent;
			this.width = opts.width;
			this.height = opts.height;
			this.set_color(opts.color);
			this.swatches = opts.swatches;
			this.setup_picker();
		}

		refresh() {
			this.set_selector_position(true);
			this.update_color_map();
		}

		setup_picker() {
			var color_picker_template = document.createElement('template');
			color_picker_template.innerHTML = ("\n\t\t\t<div class=\"color-picker\">\n\t\t\t\t<div class=\"swatch-section\">\n\t\t\t\t\t" + (__('SWATCHES')) + "<br>\n\t\t\t\t\t<div class=\"swatches\"></div>\n\t\t\t\t</div>\n\t\t\t\t" + (__('COLOR PICKER')) + "<br>\n\t\t\t\t<div class=\"color-map\">\n\t\t\t\t\t<div class=\"color-selector\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"hue-map\">\n\t\t\t\t\t<div class=\"hue-selector\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t").trim();
			this.color_picker_wrapper = color_picker_template.content.firstElementChild.cloneNode(true);
			this.parent.appendChild(this.color_picker_wrapper);
			this.color_map = this.color_picker_wrapper.getElementsByClassName('color-map')[0];
			this.color_selector_circle = this.color_map.getElementsByClassName('color-selector')[0];
			this.hue_map = this.color_picker_wrapper.getElementsByClassName('hue-map')[0];
			this.swatches_wrapper = this.color_picker_wrapper.getElementsByClassName('swatches')[0];
			this.hue_selector_circle = this.hue_map.getElementsByClassName('hue-selector')[0];
			this.refresh();
			this.setup_events();
			this.setup_swatches();
		}

		setup_events() {
			this.setup_hue_event();
			this.setup_color_event();
		}

		setup_swatches() {
			var this$1 = this;

			var swatch_template = document.createElement('template');
			swatch_template.innerHTML = '<div class="swatch" tabindex=0></div>';
			this.swatches.forEach(function (color) {
				var swatch = swatch_template.content.firstElementChild.cloneNode(true);
				this$1.swatches_wrapper.appendChild(swatch);
				var set_values = function () {
					this$1.set_color(color);
					this$1.set_selector_position();
					this$1.update_color_map();
				};
				swatch.addEventListener('click', function () {
					set_values();
				});
				swatch.onkeydown = function (e) {
					var key_code = e.keyCode;
					if ([13, 32].includes(key_code)) {
						e.preventDefault();
						set_values();
					}
				};
				swatch.style.backgroundColor = color;
			});
		}

		set_selector_position(silent) {
			this.hue = utils.get_hue(this.get_color());
			this.color_selector_position = this.get_pointer_coords();
			this.hue_selector_position = {
				x: this.hue * this.hue_map.offsetWidth / 360,
				y: this.hue_map.offsetHeight / 2
			};
			this.update_color_selector(silent);
			this.update_hue_selector(silent);
		}

		setup_color_event() {
			var this$1 = this;

			var on_drag = function (x, y) {
				this$1.color_selector_position.x = x;
				this$1.color_selector_position.y = y;
				this$1.update_color();
				this$1.update_color_selector();
			};
			this.setup_drag_event(this.color_map, on_drag);
		}

		update_color() {
			var x = this.color_selector_position.x;
			var y = this.color_selector_position.y;
			var w = this.color_map.offsetWidth;
			var h = this.color_map.offsetHeight;
			var color = utils.hsv_to_hex(
				this.hue,
				Math.round(x / w * 100),
				Math.round((1 - (y / h)) * 100)
			);
			this.set_color(color);
		}

		update_color_selector(silent) {
			var x = this.color_selector_position.x;
			var y = this.color_selector_position.y;
			// set color selector position and background
			this.color_selector_circle.style.top = (y - this.color_selector_circle.offsetHeight / 2) + 'px';
			this.color_selector_circle.style.left = (x - this.color_selector_circle.offsetWidth / 2) + 'px';
			this.color_map.style.color = this.get_color();
			!silent && this.on_change && this.on_change(this.get_color());
		}

		setup_hue_event() {
			var this$1 = this;

			// eslint-disable-next-line no-unused-vars
			var on_drag = function (x, y) {
				this$1.hue_selector_position.x = x;
				this$1.hue = Math.round(x * 360 / this$1.hue_map.offsetWidth);
				this$1.update_color_map();
				this$1.update_hue_selector();
				this$1.update_color();
				this$1.update_color_selector();
			};
			this.setup_drag_event(this.hue_map, on_drag);
		}

		update_color_map() {
			this.color_map.style.background = "\n\t\t\tlinear-gradient(0deg, black, transparent),\n\t\t\tlinear-gradient(90deg, white, transparent),\n\t\t\thsl(" + (this.hue) + ", 100%, 50%)\n\t\t";
		}

		update_hue_selector() {
			var x = this.hue_selector_position.x - 1;
			var y = (this.hue_map.offsetHeight / 2) - 1;
			// set color selector position and background
			this.hue_selector_circle.style.top = (y - this.hue_selector_circle.offsetHeight / 2) + 'px';
			this.hue_selector_circle.style.left = (x - this.hue_selector_circle.offsetWidth / 2) + 'px';
			this.hue_map.style.color = "hsl(" + (this.hue) + ", 100%, 50%)";
		}

		get_pointer_coords() {
			var assign;

			// eslint-disable-next-line no-unused-vars
			var h, s, v;
			// eslint-disable-next-line no-unused-vars
			(assign = utils.get_hsv(this.get_color()), h = assign[0], s = assign[1], v = assign[2]);
			var width = this.color_map.offsetWidth;
			var height = this.color_map.offsetHeight;
			var x = utils.clamp(0, s * width / 100, width);
			var y = utils.clamp(0, (1 - (v / 100)) * height, height);
			return {x: x, y: y};
		}

		setup_drag_event(element, callback) {
			var on_drag = function (event, force) {
				if (element.drag_enabled || force) {
					event.preventDefault();
					event = event.touches ? event.touches[0] : event;
					var element_bounds = element.getBoundingClientRect();
					var x = event.clientX - element_bounds.left;
					var y = event.clientY - element_bounds.top;
					x = utils.clamp(0, x, element_bounds.width);
					y = utils.clamp(0, y, element_bounds.height);
					callback(x, y);
				}
			};

			element.addEventListener("mousedown", function () { return element.drag_enabled = true; });
			document.addEventListener("mouseup", function () { return element.drag_enabled = false; });
			document.addEventListener("mousemove", on_drag);
			element.addEventListener("click", function (event) { return on_drag(event, true); });

			element.addEventListener("touchstart", function () { return element.drag_enabled = true; });
			element.addEventListener("touchend", function () { return element.drag_enabled = false; });
			element.addEventListener("touchcancel", function () { return element.drag_enabled = false; });
			element.addEventListener("touchmove", function (event) {
				if (event.touches.length == 1) {
					on_drag(event);
				} else {
					element.drag_enabled = false;
				}
			});
		}

		set_color(color) {
			this.color = color || '#ffffff';
		}

		get_color() {
			return this.color || '#ffffff';
		}
	}

	frappe.ui.form.ControlColor = frappe.ui.form.ControlData.extend({
		make_input: function () {
			this.df.placeholder = this.df.placeholder || __('Choose a color');
			this._super();
			this.make_color_input();
		},
		make_color_input: function () {
			var this$1 = this;

			var picker_wrapper = $('<div>');
			this.picker = new Picker({
				parent: picker_wrapper[0],
				color: this.get_color(),
				swatches: [
					'#449CF0',
					'#ECAD4B',
					'#29CD42',
					'#761ACB',
					'#CB2929',
					'#ED6396',
					'#29CD42',
					'#4463F0',
					'#EC864B',
					'#4F9DD9',
					'#39E4A5',
					'#B4CD29' ]
			});

			this.$wrapper.popover({
				trigger: 'manual',
				offset: ((-this.$wrapper.width() / 4) + ", 5"),
				boundary: 'viewport',
				placement: 'bottom',
				template: "\n\t\t\t\t<div class=\"popover color-picker-popover\">\n\t\t\t\t\t<div class=\"picker-arrow arrow\"></div>\n\t\t\t\t\t<div class=\"popover-body popover-content\"></div>\n\t\t\t\t</div>\n\t\t\t",
				content: function () { return picker_wrapper; },
				html: true
			}).on('show.bs.popover', function () {
				setTimeout(function () {
					this$1.picker.refresh();
				}, 10);
			}).on('hidden.bs.popover', function () {
				$('body').off('click.color-popover');
				$(window).off('hashchange.color-popover');
			});

			this.picker.on_change = function (color) {
				this$1.set_value(color);
			};

			if (!this.selected_color) {
				this.selected_color = $("<div class=\"selected-color\"></div>");
				this.selected_color.insertAfter(this.$input);
			}

			this.$wrapper.find('.selected-color').parent().on('click', function (e) {
				this$1.$wrapper.popover('toggle');
				if (!this$1.get_color()) {
					this$1.$input.val('');
				}
				e.stopPropagation();
				$('body').on('click.color-popover', function (ev) {
					if (!$(ev.target).parents().is('.popover')) {
						this$1.$wrapper.popover('hide');
					}
				});
				$(window).on('hashchange.color-popover', function () {
					this$1.$wrapper.popover('hide');
				});
			});
		},
		refresh: function refresh() {
			this._super();
			var color = this.get_color();
			if (this.picker && this.picker.color !== color) {
				this.picker.color = color;
				this.picker.refresh();
			}
		},
		set_formatted_input: function(value) {
			this._super(value);
			this.$input.val(value);
			this.selected_color.css({
				"background-color": value || 'transparent',
			});
			this.selected_color.toggleClass('no-value', !value);
		},
		get_color: function get_color() {
			return this.validate(this.get_value());
		},
		validate: function (value) {
			if (value === '') {
				return '';
			}
			var is_valid = /^#[0-9A-F]{6}$/i.test(value);
			if (is_valid) {
				return value;
			}
			return null;
		}
	});

	frappe.ui.form.ControlSignature = frappe.ui.form.ControlData.extend({
		saving: false,
		loading: false,
		make: function() {
			var this$1 = this;

			var me = this;
			this._super();

			// make jSignature field
			this.body = $('<div class="signature-field"></div>').appendTo(me.wrapper);

			if (this.body.is(':visible')) {
				this.make_pad();
			} else {
				$(document).on('frappe.ui.Dialog:shown', function () {
					this$1.make_pad();
				});
			}

			this.img_wrapper = $(("<div class=\"signature-display\">\n\t\t\t<div class=\"missing-image attach-missing-image\">\n\t\t\t\t" + (frappe.utils.icon('restriction', 'md')) + "</i>\n\t\t\t</div></div>"))
				.appendTo(this.wrapper);
			this.img = $("<img class='img-responsive attach-image-display'>")
				.appendTo(this.img_wrapper).toggle(false);

		},
		make_pad: function() {
			var this$1 = this;

			var width = this.body.width();
			if (width > 0 && !this.$pad) {
				this.$pad = this.body.jSignature({
					height: 200,
					color: "var(--text-color)",
					width: this.body.width(),
					lineWidth: 2,
					"background-color": "var(--control-bg)"
				}).on('change',
					this.on_save_sign.bind(this));
				this.load_pad();
				this.$reset_button_wrapper = $(("\n\t\t\t\t\t<div class=\"signature-btn-row\">\n\t\t\t\t\t\t<a href=\"#\" type=\"button\" class=\"signature-reset btn icon-btn\">\n\t\t\t\t\t\t\t" + (frappe.utils.icon('refresh', 'sm')) + "\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t"))
					.appendTo(this.$pad)
					.on("click", '.signature-reset', function () {
						this$1.on_reset_sign();
						return false;
					});

			}
		},
		refresh_input: function(e) {
			// prevent to load the second time
			this.make_pad();
			this.$wrapper.find(".control-input").toggle(false);
			this.set_editable(this.get_status()=="Write");
			this.load_pad();
			if(this.get_status()=="Read") {
				$(this.disp_area).toggle(false);
			}
		},
		set_image: function(value) {
			if(value) {
				$(this.img_wrapper).find(".missing-image").toggle(false);
				this.img.attr("src", value).toggle(true);
			} else {
				$(this.img_wrapper).find(".missing-image").toggle(true);
				this.img.toggle(false);
			}
		},
		load_pad: function() {
			// make sure not triggered during saving
			if (this.saving) { return; }
			// get value
			var value = this.get_value();
			// import data for pad
			if (this.$pad) {
				this.loading = true;
				// reset in all cases
				this.$pad.jSignature('reset');
				if (value) {
					// load the image to find out the size, because scaling will affect
					// stroke width
					try {
						this.$pad.jSignature('setData', value);
						this.set_image(value);
					}
					catch (e){
						console.log("Cannot set data for signature", value, e);
					}
				}

				this.loading = false;
			}
		},
		set_editable: function(editable) {
			this.$pad && this.$pad.toggle(editable);
			this.img_wrapper.toggle(!editable);
			if (this.$reset_button_wrapper) {
				this.$reset_button_wrapper.toggle(editable);
				if (editable) {
					this.$reset_button_wrapper.addClass('editing');
				}
				else {
					this.$reset_button_wrapper.removeClass('editing');
				}
			}
		},
		set_my_value: function(value) {
			if (this.saving || this.loading) { return; }
			this.saving = true;
			this.set_value(value);
			this.saving = false;
		},
		get_value: function() {
			return this.value ? this.value: this.get_model_value();
		},
		// reset signature canvas
		on_reset_sign: function() {
			this.$pad.jSignature("reset");
			this.set_my_value("");
		},
		// save signature value to model and display
		on_save_sign: function() {
			if (this.saving || this.loading) { return; }
			var base64_img = this.$pad.jSignature("getData");
			this.set_my_value(base64_img);
			this.set_image(this.get_value());
		}
	});

	frappe.ui.form.ControlPassword = frappe.ui.form.ControlData.extend({
		input_type: "password",
		make: function() {
			this._super();
		},
		make_input: function() {
			var this$1 = this;

			var me = this;
			this._super();
			this.$input.parent().append($('<span class="password-strength-indicator indicator"></span>'));
			this.$wrapper.find('.control-input-wrapper').append($('<p class="password-strength-message text-muted small hidden"></p>'));

			this.indicator = this.$wrapper.find('.password-strength-indicator');
			this.message = this.$wrapper.find('.help-box');

			this.$input.on('keyup', function () {
				clearTimeout(this$1.check_password_timeout);
				this$1.check_password_timeout = setTimeout (function () {
					me.get_password_strength(me.$input.val());
				}, 500);
			});
		},
		get_password_strength: function(value) {
			var me = this;
			frappe.call({
				type: 'POST',
				method: 'frappe.core.doctype.user.user.test_password_strength',
				args: {
					new_password: value || ''
				},
				callback: function(r) {
					if (r.message && r.message.entropy) {
						var score = r.message.score,
							feedback = r.message.feedback;

						feedback.crack_time_display = r.message.crack_time_display;

						var indicators = ['grey', 'red', 'orange', 'yellow', 'green'];
						me.set_strength_indicator(indicators[score]);

					}
				}

			});
		},
		set_strength_indicator: function(color) {
			var message = __("Include symbols, numbers and capital letters in the password");
			this.indicator.removeClass().addClass('password-strength-indicator indicator ' + color);
			this.message.html(message).removeClass('hidden');
		}
	});

	frappe.ui.form.ControlReadOnly = frappe.ui.form.ControlData.extend({
		get_status: function(explain) {
			var status = this._super(explain);
			if(status==="Write")
				{ status = "Read"; }
			return;
		},
	});

	frappe.ui.form.ControlButton = frappe.ui.form.ControlData.extend({
		can_write: function can_write() {
			// should be always true in case of button
			return true;
		},
		make_input: function() {
			var me = this;
			var btn_type = this.df.primary ? 'btn-primary': 'btn-default';
			var btn_size = this.df.btn_size
				? ("btn-" + (this.df.btn_size))
				: "btn-xs";
			this.$input = $(("<button class=\"btn " + btn_size + " " + btn_type + "\">"))
				.prependTo(me.input_area)
				.on("click", function() {
					me.onclick();
				});
			this.input = this.$input.get(0);
			this.set_input_attributes();
			this.has_input = true;
			this.toggle_label(false);
		},
		onclick: function() {
			if (this.frm && this.frm.doc) {
				if (this.frm.script_manager.has_handlers(this.df.fieldname, this.doctype)) {
					this.frm.script_manager.trigger(this.df.fieldname, this.doctype, this.docname);
				} else {
					if (this.df.options) {
						this.run_server_script();
					}
				}
			} else if (this.df.click) {
				this.df.click();
			}
		},
		run_server_script: function() {
			// DEPRECATE
			var me = this;
			if(this.frm && this.frm.docname) {
				frappe.call({
					method: "run_doc_method",
					args: {'docs': this.frm.doc, 'method': this.df.options },
					btn: this.$input,
					callback: function(r) {
						if(!r.exc) {
							me.frm.refresh_fields();
						}
					}
				});
			}
		},
		hide: function hide() {
			this.$input.hide();
		},
		set_input_areas: function() {
			this._super();
			$(this.disp_area).removeClass().addClass("hide");
		},
		set_empty_description: function() {
			this.$wrapper.find(".help-box").empty().toggle(false);
		},
		set_label: function(label) {
			if (label) {
				this.df.label = label;
			}
			label = (this.df.icon ? frappe.utils.icon(this.df.icon) : "") + __(this.df.label);
			$(this.label_span).html("&nbsp;");
			this.$input && this.$input.html(label);
		}
	});

	frappe.ui.form.ControlHTML = frappe.ui.form.Control.extend({
		make: function() {
			this._super();
			this.disp_area = this.wrapper;
		},
		refresh_input: function() {
			var content = this.get_content();
			if(content) { this.$wrapper.html(content); }
		},
		get_content: function() {
			var content = this.df.options || "";
			content = __(content);
			try {
				return frappe.render(content, this);
			} catch (e) {
				return content;
			}
		},
		html: function(html) {
			this.$wrapper.html(html || this.get_content());
		},
		set_value: function(html) {
			if(html.appendTo) {
				// jquery object
				html.appendTo(this.$wrapper.empty());
			} else {
				// html
				this.df.options = html;
				this.html(html);
			}
		}
	});

	frappe.ui.form.ControlMarkdownEditor = frappe.ui.form.ControlCode.extend({
		editor_class: 'markdown',
		make_ace_editor: function make_ace_editor() {
			var this$1 = this;

			this._super();

			this.ace_editor_target.wrap(("<div class=\"" + (this.editor_class) + "-container\">"));
			this.markdown_container = this.$input_wrapper.find(("." + (this.editor_class) + "-container"));

			this.editor.getSession().setUseWrapMode(true);

			this.showing_preview = false;
			this.preview_toggle_btn = $(("<button class=\"btn btn-default btn-xs " + (this.editor_class) + "-toggle\">" + (__('Preview')) + "</button>"))
				.click(function (e) {
					if (!this$1.showing_preview) {
						this$1.update_preview();
					}

					var $btn = $(e.target);
					this$1.markdown_preview.toggle(!this$1.showing_preview);
					this$1.ace_editor_target.toggle(this$1.showing_preview);

					this$1.showing_preview = !this$1.showing_preview;

					$btn.text(this$1.showing_preview ? __('Edit') : __('Preview'));
				});
			this.markdown_container.prepend(this.preview_toggle_btn);

			this.markdown_preview = $(("<div class=\"" + (this.editor_class) + "-preview border rounded\">")).hide();
			this.markdown_container.append(this.markdown_preview);
		},

		set_language: function set_language() {
			this.df.options = 'Markdown';
			this._super();
		},

		update_preview: function update_preview() {
			var value = this.get_value() || "";
			this.markdown_preview.html(frappe.markdown(value));
		},

		set_formatted_input: function set_formatted_input(value) {
			var this$1 = this;

			this._super(value)
				.then(function () {
					this$1.update_preview();
				});
		},

		set_disp_area: function set_disp_area(value) {
			this.disp_area && $(this.disp_area).text(value);
		}
	});

	frappe.ui.form.ControlHTMLEditor = frappe.ui.form.ControlMarkdownEditor.extend({
		editor_class: 'html',
		set_language: function set_language() {
			this.df.options = 'HTML';
			this._super();
		},
		update_preview: function update_preview() {
			if (!this.markdown_preview) { return; }
			var value = this.get_value() || '';
			value = frappe.dom.remove_script_and_style(value);
			this.markdown_preview.html(value);
		}
	});

	frappe.ui.form.ControlHeading = frappe.ui.form.ControlHTML.extend({
		get_content: function() {
			return "<h4>" + __(this.df.label) + "</h4>";
		}
	});

	frappe.ui.form.ControlAutocomplete = frappe.ui.form.ControlData.extend({
		trigger_change_on_input_event: false,
		make_input: function make_input() {
			this._super();
			this.setup_awesomplete();
			this.set_options();
		},

		set_options: function set_options() {
			if (this.df.options) {
				var options = this.df.options || [];
				this._data = this.parse_options(options);
			}
		},

		get_awesomplete_settings: function get_awesomplete_settings() {
			var me = this;
			return {
				minChars: 0,
				maxItems: this.df.max_items || 99,
				autoFirst: true,
				list: this.get_data(),
				data: function(item) {
					if (!(item instanceof Object)) {
						var d = { value: item };
						item = d;
					}

					return {
						label: item.label || item.value,
						value: item.value
					};
				},
				filter: function(item, input) {
					var hay = item.label + item.value;
					return awesomplete.FILTER_CONTAINS(hay, input);
				},
				item: function(item) {
					var d = this.get_item(item.value);
					if (!d) {
						d = item;
					}

					if (!d.label) {
						d.label = d.value;
					}

					var _label = me.translate_values ? __(d.label) : d.label;
					var html = '<strong>' + _label + '</strong>';
					if (d.description) {
						html += '<br><span class="small">' + __(d.description) + '</span>';
					}

					return $('<li></li>')
						.data('item.autocomplete', d)
						.prop('aria-selected', 'false')
						.html('<a><p>' + html + '</p></a>')
						.get(0);
				},
				sort: function () {
					return 0;
				}
			};
		},

		setup_awesomplete: function setup_awesomplete() {
			var this$1 = this;

			this.awesomplete = new awesomplete(
				this.input,
				this.get_awesomplete_settings()
			);

			$(this.input_area)
				.find('.awesomplete ul')
				.css('min-width', '100%');

			this.$input.on(
				'input',
				frappe.utils.debounce(function () {
					this$1.awesomplete.list = this$1.get_data();
				}, 500)
			);

			this.$input.on('focus', function () {
				if (!this$1.$input.val()) {
					this$1.$input.val('');
					this$1.$input.trigger('input');
				}
			});

			this.$input.on("awesomplete-open", function () {
				this$1.autocomplete_open = true;
			});

			this.$input.on("awesomplete-close", function () {
				this$1.autocomplete_open = false;
			});

			this.$input.on('awesomplete-selectcomplete', function () {
				this$1.$input.trigger('change');
			});
		},

		validate: function validate(value) {
			if (this.df.ignore_validation) {
				return value || '';
			}
			var valid_values = this.awesomplete._list.map(function (d) { return d.value; });
			if (!valid_values.length) {
				return value;
			}
			if (valid_values.includes(value)) {
				return value;
			} else {
				return '';
			}
		},

		parse_options: function parse_options(options) {
			if (typeof options === 'string') {
				options = options.split('\n');
			}
			if (typeof options[0] === 'string') {
				options = options.map(function (o) { return ({ label: o, value: o }); });
			}
			return options;
		},

		get_data: function get_data() {
			return this._data || [];
		},

		set_data: function set_data(data) {
			data = this.parse_options(data);
			if (this.awesomplete) {
				this.awesomplete.list = data;
			}
			this._data = data;
		}
	});

	var Barcode_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var Barcode = function Barcode(data, options) {
		_classCallCheck(this, Barcode);

		this.data = data;
		this.text = options.text || data;
		this.options = options;
	};

	exports.default = Barcode;
	});

	var Barcode = unwrapExports(Barcode_1);

	var Barcode$1 = /*#__PURE__*/Object.freeze({
		default: Barcode,
		__moduleExports: Barcode_1
	});

	var _Barcode2 = ( Barcode$1 && Barcode ) || Barcode$1;

	var CODE39_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.CODE39 = undefined;

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation:
	// https://en.wikipedia.org/wiki/Code_39#Encoding

	var CODE39 = function (_Barcode) {
		_inherits(CODE39, _Barcode);

		function CODE39(data, options) {
			_classCallCheck(this, CODE39);

			data = data.toUpperCase();

			// Calculate mod43 checksum if enabled
			if (options.mod43) {
				data += getCharacter(mod43checksum(data));
			}

			return _possibleConstructorReturn(this, (CODE39.__proto__ || Object.getPrototypeOf(CODE39)).call(this, data, options));
		}

		_createClass(CODE39, [{
			key: "encode",
			value: function encode() {
				// First character is always a *
				var result = getEncoding("*");

				// Take every character and add the binary representation to the result
				for (var i = 0; i < this.data.length; i++) {
					result += getEncoding(this.data[i]) + "0";
				}

				// Last character is always a *
				result += getEncoding("*");

				return {
					data: result,
					text: this.text
				};
			}
		}, {
			key: "valid",
			value: function valid() {
				return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/) !== -1;
			}
		}]);

		return CODE39;
	}(_Barcode3.default);

	// All characters. The position in the array is the (checksum) value


	var characters = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "-", ".", " ", "$", "/", "+", "%", "*"];

	// The decimal representation of the characters, is converted to the
	// corresponding binary with the getEncoding function
	var encodings = [20957, 29783, 23639, 30485, 20951, 29813, 23669, 20855, 29789, 23645, 29975, 23831, 30533, 22295, 30149, 24005, 21623, 29981, 23837, 22301, 30023, 23879, 30545, 22343, 30161, 24017, 21959, 30065, 23921, 22385, 29015, 18263, 29141, 17879, 29045, 18293, 17783, 29021, 18269, 17477, 17489, 17681, 20753, 35770];

	// Get the binary representation of a character by converting the encodings
	// from decimal to binary
	function getEncoding(character) {
		return getBinary(characterValue(character));
	}

	function getBinary(characterValue) {
		return encodings[characterValue].toString(2);
	}

	function getCharacter(characterValue) {
		return characters[characterValue];
	}

	function characterValue(character) {
		return characters.indexOf(character);
	}

	function mod43checksum(data) {
		var checksum = 0;
		for (var i = 0; i < data.length; i++) {
			checksum += characterValue(data[i]);
		}

		checksum = checksum % 43;
		return checksum;
	}

	exports.CODE39 = CODE39;
	});

	var index = unwrapExports(CODE39_1);
	var CODE39_2 = CODE39_1.CODE39;

	var CODE39 = /*#__PURE__*/Object.freeze({
		default: index,
		__moduleExports: CODE39_1,
		CODE39: CODE39_2
	});

	var constants = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _SET_BY_CODE;

	function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

	// constants for internal usage
	var SET_A = exports.SET_A = 0;
	var SET_B = exports.SET_B = 1;
	var SET_C = exports.SET_C = 2;

	// Special characters
	var SHIFT = exports.SHIFT = 98;
	var START_A = exports.START_A = 103;
	var START_B = exports.START_B = 104;
	var START_C = exports.START_C = 105;
	var MODULO = exports.MODULO = 103;
	var STOP = exports.STOP = 106;
	var FNC1 = exports.FNC1 = 207;

	// Get set by start code
	var SET_BY_CODE = exports.SET_BY_CODE = (_SET_BY_CODE = {}, _defineProperty(_SET_BY_CODE, START_A, SET_A), _defineProperty(_SET_BY_CODE, START_B, SET_B), _defineProperty(_SET_BY_CODE, START_C, SET_C), _SET_BY_CODE);

	// Get next set by code
	var SWAP = exports.SWAP = {
		101: SET_A,
		100: SET_B,
		99: SET_C
	};

	var A_START_CHAR = exports.A_START_CHAR = String.fromCharCode(208); // START_A + 105
	var B_START_CHAR = exports.B_START_CHAR = String.fromCharCode(209); // START_B + 105
	var C_START_CHAR = exports.C_START_CHAR = String.fromCharCode(210); // START_C + 105

	// 128A (Code Set A)
	// ASCII characters 00 to 95 (0â9, AâZ and control codes), special characters, and FNC 1â4
	var A_CHARS = exports.A_CHARS = "[\x00-\x5F\xC8-\xCF]";

	// 128B (Code Set B)
	// ASCII characters 32 to 127 (0â9, AâZ, aâz), special characters, and FNC 1â4
	var B_CHARS = exports.B_CHARS = "[\x20-\x7F\xC8-\xCF]";

	// 128C (Code Set C)
	// 00â99 (encodes two digits with a single code point) and FNC1
	var C_CHARS = exports.C_CHARS = "(\xCF*[0-9]{2}\xCF*)";

	// CODE128 includes 107 symbols:
	// 103 data symbols, 3 start symbols (A, B and C), and 1 stop symbol (the last one)
	// Each symbol consist of three black bars (1) and three white spaces (0).
	var BARS = exports.BARS = [11011001100, 11001101100, 11001100110, 10010011000, 10010001100, 10001001100, 10011001000, 10011000100, 10001100100, 11001001000, 11001000100, 11000100100, 10110011100, 10011011100, 10011001110, 10111001100, 10011101100, 10011100110, 11001110010, 11001011100, 11001001110, 11011100100, 11001110100, 11101101110, 11101001100, 11100101100, 11100100110, 11101100100, 11100110100, 11100110010, 11011011000, 11011000110, 11000110110, 10100011000, 10001011000, 10001000110, 10110001000, 10001101000, 10001100010, 11010001000, 11000101000, 11000100010, 10110111000, 10110001110, 10001101110, 10111011000, 10111000110, 10001110110, 11101110110, 11010001110, 11000101110, 11011101000, 11011100010, 11011101110, 11101011000, 11101000110, 11100010110, 11101101000, 11101100010, 11100011010, 11101111010, 11001000010, 11110001010, 10100110000, 10100001100, 10010110000, 10010000110, 10000101100, 10000100110, 10110010000, 10110000100, 10011010000, 10011000010, 10000110100, 10000110010, 11000010010, 11001010000, 11110111010, 11000010100, 10001111010, 10100111100, 10010111100, 10010011110, 10111100100, 10011110100, 10011110010, 11110100100, 11110010100, 11110010010, 11011011110, 11011110110, 11110110110, 10101111000, 10100011110, 10001011110, 10111101000, 10111100010, 11110101000, 11110100010, 10111011110, 10111101110, 11101011110, 11110101110, 11010000100, 11010010000, 11010011100, 1100011101011];
	});

	var constants$1 = unwrapExports(constants);
	var constants_1 = constants.SET_A;
	var constants_2 = constants.SET_B;
	var constants_3 = constants.SET_C;
	var constants_4 = constants.SHIFT;
	var constants_5 = constants.START_A;
	var constants_6 = constants.START_B;
	var constants_7 = constants.START_C;
	var constants_8 = constants.MODULO;
	var constants_9 = constants.STOP;
	var constants_10 = constants.FNC1;
	var constants_11 = constants.SET_BY_CODE;
	var constants_12 = constants.SWAP;
	var constants_13 = constants.A_START_CHAR;
	var constants_14 = constants.B_START_CHAR;
	var constants_15 = constants.C_START_CHAR;
	var constants_16 = constants.A_CHARS;
	var constants_17 = constants.B_CHARS;
	var constants_18 = constants.C_CHARS;
	var constants_19 = constants.BARS;

	var constants$2 = /*#__PURE__*/Object.freeze({
		default: constants$1,
		__moduleExports: constants,
		SET_A: constants_1,
		SET_B: constants_2,
		SET_C: constants_3,
		SHIFT: constants_4,
		START_A: constants_5,
		START_B: constants_6,
		START_C: constants_7,
		MODULO: constants_8,
		STOP: constants_9,
		FNC1: constants_10,
		SET_BY_CODE: constants_11,
		SWAP: constants_12,
		A_START_CHAR: constants_13,
		B_START_CHAR: constants_14,
		C_START_CHAR: constants_15,
		A_CHARS: constants_16,
		B_CHARS: constants_17,
		C_CHARS: constants_18,
		BARS: constants_19
	});

	var _constants = ( constants$2 && constants$1 ) || constants$2;

	var CODE128_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _Barcode3 = _interopRequireDefault(_Barcode2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	// This is the master class,
	// it does require the start code to be included in the string
	var CODE128 = function (_Barcode) {
		_inherits(CODE128, _Barcode);

		function CODE128(data, options) {
			_classCallCheck(this, CODE128);

			// Get array of ascii codes from data
			var _this = _possibleConstructorReturn(this, (CODE128.__proto__ || Object.getPrototypeOf(CODE128)).call(this, data.substring(1), options));

			_this.bytes = data.split('').map(function (char) {
				return char.charCodeAt(0);
			});
			return _this;
		}

		_createClass(CODE128, [{
			key: 'valid',
			value: function valid() {
				// ASCII value ranges 0-127, 200-211
				return (/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)
				);
			}

			// The public encoding function

		}, {
			key: 'encode',
			value: function encode() {
				var bytes = this.bytes;
				// Remove the start code from the bytes and set its index
				var startIndex = bytes.shift() - 105;
				// Get start set by index
				var startSet = _constants.SET_BY_CODE[startIndex];

				if (startSet === undefined) {
					throw new RangeError('The encoding does not start with a start character.');
				}

				if (this.shouldEncodeAsEan128() === true) {
					bytes.unshift(_constants.FNC1);
				}

				// Start encode with the right type
				var encodingResult = CODE128.next(bytes, 1, startSet);

				return {
					text: this.text === this.data ? this.text.replace(/[^\x20-\x7E]/g, '') : this.text,
					data:
					// Add the start bits
					CODE128.getBar(startIndex) +
					// Add the encoded bits
					encodingResult.result +
					// Add the checksum
					CODE128.getBar((encodingResult.checksum + startIndex) % _constants.MODULO) +
					// Add the end bits
					CODE128.getBar(_constants.STOP)
				};
			}

			// GS1-128/EAN-128

		}, {
			key: 'shouldEncodeAsEan128',
			value: function shouldEncodeAsEan128() {
				var isEAN128 = this.options.ean128 || false;
				if (typeof isEAN128 === 'string') {
					isEAN128 = isEAN128.toLowerCase() === 'true';
				}
				return isEAN128;
			}

			// Get a bar symbol by index

		}], [{
			key: 'getBar',
			value: function getBar(index) {
				return _constants.BARS[index] ? _constants.BARS[index].toString() : '';
			}

			// Correct an index by a set and shift it from the bytes array

		}, {
			key: 'correctIndex',
			value: function correctIndex(bytes, set) {
				if (set === _constants.SET_A) {
					var charCode = bytes.shift();
					return charCode < 32 ? charCode + 64 : charCode - 32;
				} else if (set === _constants.SET_B) {
					return bytes.shift() - 32;
				} else {
					return (bytes.shift() - 48) * 10 + bytes.shift() - 48;
				}
			}
		}, {
			key: 'next',
			value: function next(bytes, pos, set) {
				if (!bytes.length) {
					return { result: '', checksum: 0 };
				}

				var nextCode = void 0,
				    index = void 0;

				// Special characters
				if (bytes[0] >= 200) {
					index = bytes.shift() - 105;
					var nextSet = _constants.SWAP[index];

					// Swap to other set
					if (nextSet !== undefined) {
						nextCode = CODE128.next(bytes, pos + 1, nextSet);
					}
					// Continue on current set but encode a special character
					else {
							// Shift
							if ((set === _constants.SET_A || set === _constants.SET_B) && index === _constants.SHIFT) {
								// Convert the next character so that is encoded correctly
								bytes[0] = set === _constants.SET_A ? bytes[0] > 95 ? bytes[0] - 96 : bytes[0] : bytes[0] < 32 ? bytes[0] + 96 : bytes[0];
							}
							nextCode = CODE128.next(bytes, pos + 1, set);
						}
				}
				// Continue encoding
				else {
						index = CODE128.correctIndex(bytes, set);
						nextCode = CODE128.next(bytes, pos + 1, set);
					}

				// Get the correct binary encoding and calculate the weight
				var enc = CODE128.getBar(index);
				var weight = index * pos;

				return {
					result: enc + nextCode.result,
					checksum: weight + nextCode.checksum
				};
			}
		}]);

		return CODE128;
	}(_Barcode3.default);

	exports.default = CODE128;
	});

	var CODE128 = unwrapExports(CODE128_1);

	var CODE128$1 = /*#__PURE__*/Object.freeze({
		default: CODE128,
		__moduleExports: CODE128_1
	});

	var auto = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	// Match Set functions
	var matchSetALength = function matchSetALength(string) {
		return string.match(new RegExp('^' + _constants.A_CHARS + '*'))[0].length;
	};
	var matchSetBLength = function matchSetBLength(string) {
		return string.match(new RegExp('^' + _constants.B_CHARS + '*'))[0].length;
	};
	var matchSetC = function matchSetC(string) {
		return string.match(new RegExp('^' + _constants.C_CHARS + '*'))[0];
	};

	// CODE128A or CODE128B
	function autoSelectFromAB(string, isA) {
		var ranges = isA ? _constants.A_CHARS : _constants.B_CHARS;
		var untilC = string.match(new RegExp('^(' + ranges + '+?)(([0-9]{2}){2,})([^0-9]|$)'));

		if (untilC) {
			return untilC[1] + String.fromCharCode(204) + autoSelectFromC(string.substring(untilC[1].length));
		}

		var chars = string.match(new RegExp('^' + ranges + '+'))[0];

		if (chars.length === string.length) {
			return string;
		}

		return chars + String.fromCharCode(isA ? 205 : 206) + autoSelectFromAB(string.substring(chars.length), !isA);
	}

	// CODE128C
	function autoSelectFromC(string) {
		var cMatch = matchSetC(string);
		var length = cMatch.length;

		if (length === string.length) {
			return string;
		}

		string = string.substring(length);

		// Select A/B depending on the longest match
		var isA = matchSetALength(string) >= matchSetBLength(string);
		return cMatch + String.fromCharCode(isA ? 206 : 205) + autoSelectFromAB(string, isA);
	}

	// Detect Code Set (A, B or C) and format the string

	exports.default = function (string) {
		var newString = void 0;
		var cLength = matchSetC(string).length;

		// Select 128C if the string start with enough digits
		if (cLength >= 2) {
			newString = _constants.C_START_CHAR + autoSelectFromC(string);
		} else {
			// Select A/B depending on the longest match
			var isA = matchSetALength(string) > matchSetBLength(string);
			newString = (isA ? _constants.A_START_CHAR : _constants.B_START_CHAR) + autoSelectFromAB(string, isA);
		}

		return newString.replace(/[\xCD\xCE]([^])[\xCD\xCE]/, // Any sequence between 205 and 206 characters
		function (match, char) {
			return String.fromCharCode(203) + char;
		});
	};
	});

	var auto$1 = unwrapExports(auto);

	var auto$2 = /*#__PURE__*/Object.freeze({
		default: auto$1,
		__moduleExports: auto
	});

	var _CODE2 = ( CODE128$1 && CODE128 ) || CODE128$1;

	var _auto = ( auto$2 && auto$1 ) || auto$2;

	var CODE128_AUTO = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	var _CODE3 = _interopRequireDefault(_CODE2);



	var _auto2 = _interopRequireDefault(_auto);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var CODE128AUTO = function (_CODE) {
		_inherits(CODE128AUTO, _CODE);

		function CODE128AUTO(data, options) {
			_classCallCheck(this, CODE128AUTO);

			// ASCII value ranges 0-127, 200-211
			if (/^[\x00-\x7F\xC8-\xD3]+$/.test(data)) {
				var _this = _possibleConstructorReturn(this, (CODE128AUTO.__proto__ || Object.getPrototypeOf(CODE128AUTO)).call(this, (0, _auto2.default)(data), options));
			} else {
				var _this = _possibleConstructorReturn(this, (CODE128AUTO.__proto__ || Object.getPrototypeOf(CODE128AUTO)).call(this, data, options));
			}
			return _possibleConstructorReturn(_this);
		}

		return CODE128AUTO;
	}(_CODE3.default);

	exports.default = CODE128AUTO;
	});

	var CODE128_AUTO$1 = unwrapExports(CODE128_AUTO);

	var CODE128_AUTO$2 = /*#__PURE__*/Object.freeze({
		default: CODE128_AUTO$1,
		__moduleExports: CODE128_AUTO
	});

	var CODE128A_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _CODE3 = _interopRequireDefault(_CODE2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var CODE128A = function (_CODE) {
		_inherits(CODE128A, _CODE);

		function CODE128A(string, options) {
			_classCallCheck(this, CODE128A);

			return _possibleConstructorReturn(this, (CODE128A.__proto__ || Object.getPrototypeOf(CODE128A)).call(this, _constants.A_START_CHAR + string, options));
		}

		_createClass(CODE128A, [{
			key: 'valid',
			value: function valid() {
				return new RegExp('^' + _constants.A_CHARS + '+$').test(this.data);
			}
		}]);

		return CODE128A;
	}(_CODE3.default);

	exports.default = CODE128A;
	});

	var CODE128A = unwrapExports(CODE128A_1);

	var CODE128A$1 = /*#__PURE__*/Object.freeze({
		default: CODE128A,
		__moduleExports: CODE128A_1
	});

	var CODE128B_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _CODE3 = _interopRequireDefault(_CODE2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var CODE128B = function (_CODE) {
		_inherits(CODE128B, _CODE);

		function CODE128B(string, options) {
			_classCallCheck(this, CODE128B);

			return _possibleConstructorReturn(this, (CODE128B.__proto__ || Object.getPrototypeOf(CODE128B)).call(this, _constants.B_START_CHAR + string, options));
		}

		_createClass(CODE128B, [{
			key: 'valid',
			value: function valid() {
				return new RegExp('^' + _constants.B_CHARS + '+$').test(this.data);
			}
		}]);

		return CODE128B;
	}(_CODE3.default);

	exports.default = CODE128B;
	});

	var CODE128B = unwrapExports(CODE128B_1);

	var CODE128B$1 = /*#__PURE__*/Object.freeze({
		default: CODE128B,
		__moduleExports: CODE128B_1
	});

	var CODE128C_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _CODE3 = _interopRequireDefault(_CODE2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var CODE128C = function (_CODE) {
		_inherits(CODE128C, _CODE);

		function CODE128C(string, options) {
			_classCallCheck(this, CODE128C);

			return _possibleConstructorReturn(this, (CODE128C.__proto__ || Object.getPrototypeOf(CODE128C)).call(this, _constants.C_START_CHAR + string, options));
		}

		_createClass(CODE128C, [{
			key: 'valid',
			value: function valid() {
				return new RegExp('^' + _constants.C_CHARS + '+$').test(this.data);
			}
		}]);

		return CODE128C;
	}(_CODE3.default);

	exports.default = CODE128C;
	});

	var CODE128C = unwrapExports(CODE128C_1);

	var CODE128C$1 = /*#__PURE__*/Object.freeze({
		default: CODE128C,
		__moduleExports: CODE128C_1
	});

	var _CODE128_AUTO = ( CODE128_AUTO$2 && CODE128_AUTO$1 ) || CODE128_AUTO$2;

	var _CODE128A = ( CODE128A$1 && CODE128A ) || CODE128A$1;

	var _CODE128B = ( CODE128B$1 && CODE128B ) || CODE128B$1;

	var _CODE128C = ( CODE128C$1 && CODE128C ) || CODE128C$1;

	var CODE128$2 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.CODE128C = exports.CODE128B = exports.CODE128A = exports.CODE128 = undefined;



	var _CODE128_AUTO2 = _interopRequireDefault(_CODE128_AUTO);



	var _CODE128A2 = _interopRequireDefault(_CODE128A);



	var _CODE128B2 = _interopRequireDefault(_CODE128B);



	var _CODE128C2 = _interopRequireDefault(_CODE128C);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.CODE128 = _CODE128_AUTO2.default;
	exports.CODE128A = _CODE128A2.default;
	exports.CODE128B = _CODE128B2.default;
	exports.CODE128C = _CODE128C2.default;
	});

	var index$1 = unwrapExports(CODE128$2);
	var CODE128_1$1 = CODE128$2.CODE128C;
	var CODE128_2 = CODE128$2.CODE128B;
	var CODE128_3 = CODE128$2.CODE128A;
	var CODE128_4 = CODE128$2.CODE128;

	var CODE128$3 = /*#__PURE__*/Object.freeze({
		default: index$1,
		__moduleExports: CODE128$2,
		CODE128C: CODE128_1$1,
		CODE128B: CODE128_2,
		CODE128A: CODE128_3,
		CODE128: CODE128_4
	});

	var constants$3 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	// Standard start end and middle bits
	var SIDE_BIN = exports.SIDE_BIN = '101';
	var MIDDLE_BIN = exports.MIDDLE_BIN = '01010';

	var BINARIES = exports.BINARIES = {
		'L': [// The L (left) type of encoding
		'0001101', '0011001', '0010011', '0111101', '0100011', '0110001', '0101111', '0111011', '0110111', '0001011'],
		'G': [// The G type of encoding
		'0100111', '0110011', '0011011', '0100001', '0011101', '0111001', '0000101', '0010001', '0001001', '0010111'],
		'R': [// The R (right) type of encoding
		'1110010', '1100110', '1101100', '1000010', '1011100', '1001110', '1010000', '1000100', '1001000', '1110100'],
		'O': [// The O (odd) encoding for UPC-E
		'0001101', '0011001', '0010011', '0111101', '0100011', '0110001', '0101111', '0111011', '0110111', '0001011'],
		'E': [// The E (even) encoding for UPC-E
		'0100111', '0110011', '0011011', '0100001', '0011101', '0111001', '0000101', '0010001', '0001001', '0010111']
	};

	// Define the EAN-2 structure
	var EAN2_STRUCTURE = exports.EAN2_STRUCTURE = ['LL', 'LG', 'GL', 'GG'];

	// Define the EAN-5 structure
	var EAN5_STRUCTURE = exports.EAN5_STRUCTURE = ['GGLLL', 'GLGLL', 'GLLGL', 'GLLLG', 'LGGLL', 'LLGGL', 'LLLGG', 'LGLGL', 'LGLLG', 'LLGLG'];

	// Define the EAN-13 structure
	var EAN13_STRUCTURE = exports.EAN13_STRUCTURE = ['LLLLLL', 'LLGLGG', 'LLGGLG', 'LLGGGL', 'LGLLGG', 'LGGLLG', 'LGGGLL', 'LGLGLG', 'LGLGGL', 'LGGLGL'];
	});

	var constants$4 = unwrapExports(constants$3);
	var constants_1$1 = constants$3.SIDE_BIN;
	var constants_2$1 = constants$3.MIDDLE_BIN;
	var constants_3$1 = constants$3.BINARIES;
	var constants_4$1 = constants$3.EAN2_STRUCTURE;
	var constants_5$1 = constants$3.EAN5_STRUCTURE;
	var constants_6$1 = constants$3.EAN13_STRUCTURE;

	var constants$5 = /*#__PURE__*/Object.freeze({
		default: constants$4,
		__moduleExports: constants$3,
		SIDE_BIN: constants_1$1,
		MIDDLE_BIN: constants_2$1,
		BINARIES: constants_3$1,
		EAN2_STRUCTURE: constants_4$1,
		EAN5_STRUCTURE: constants_5$1,
		EAN13_STRUCTURE: constants_6$1
	});

	var _constants$1 = ( constants$5 && constants$4 ) || constants$5;

	var encoder = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	// Encode data string
	var encode = function encode(data, structure, separator) {
		var encoded = data.split('').map(function (val, idx) {
			return _constants$1.BINARIES[structure[idx]];
		}).map(function (val, idx) {
			return val ? val[data[idx]] : '';
		});

		if (separator) {
			var last = data.length - 1;
			encoded = encoded.map(function (val, idx) {
				return idx < last ? val + separator : val;
			});
		}

		return encoded.join('');
	};

	exports.default = encode;
	});

	var encoder$1 = unwrapExports(encoder);

	var encoder$2 = /*#__PURE__*/Object.freeze({
		default: encoder$1,
		__moduleExports: encoder
	});

	var _encoder = ( encoder$2 && encoder$1 ) || encoder$2;

	var EAN_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();





	var _encoder2 = _interopRequireDefault(_encoder);



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	// Base class for EAN8 & EAN13
	var EAN = function (_Barcode) {
		_inherits(EAN, _Barcode);

		function EAN(data, options) {
			_classCallCheck(this, EAN);

			// Make sure the font is not bigger than the space between the guard bars
			var _this = _possibleConstructorReturn(this, (EAN.__proto__ || Object.getPrototypeOf(EAN)).call(this, data, options));

			_this.fontSize = !options.flat && options.fontSize > options.width * 10 ? options.width * 10 : options.fontSize;

			// Make the guard bars go down half the way of the text
			_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;
			return _this;
		}

		_createClass(EAN, [{
			key: 'encode',
			value: function encode() {
				return this.options.flat ? this.encodeFlat() : this.encodeGuarded();
			}
		}, {
			key: 'leftText',
			value: function leftText(from, to) {
				return this.text.substr(from, to);
			}
		}, {
			key: 'leftEncode',
			value: function leftEncode(data, structure) {
				return (0, _encoder2.default)(data, structure);
			}
		}, {
			key: 'rightText',
			value: function rightText(from, to) {
				return this.text.substr(from, to);
			}
		}, {
			key: 'rightEncode',
			value: function rightEncode(data, structure) {
				return (0, _encoder2.default)(data, structure);
			}
		}, {
			key: 'encodeGuarded',
			value: function encodeGuarded() {
				var textOptions = { fontSize: this.fontSize };
				var guardOptions = { height: this.guardHeight };

				return [{ data: _constants$1.SIDE_BIN, options: guardOptions }, { data: this.leftEncode(), text: this.leftText(), options: textOptions }, { data: _constants$1.MIDDLE_BIN, options: guardOptions }, { data: this.rightEncode(), text: this.rightText(), options: textOptions }, { data: _constants$1.SIDE_BIN, options: guardOptions }];
			}
		}, {
			key: 'encodeFlat',
			value: function encodeFlat() {
				var data = [_constants$1.SIDE_BIN, this.leftEncode(), _constants$1.MIDDLE_BIN, this.rightEncode(), _constants$1.SIDE_BIN];

				return {
					data: data.join(''),
					text: this.text
				};
			}
		}]);

		return EAN;
	}(_Barcode3.default);

	exports.default = EAN;
	});

	var EAN = unwrapExports(EAN_1);

	var EAN$1 = /*#__PURE__*/Object.freeze({
		default: EAN,
		__moduleExports: EAN_1
	});

	var _EAN2 = ( EAN$1 && EAN ) || EAN$1;

	var EAN13_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();

	var _get = function get(object, property, receiver) { if (object === null) { object = Function.prototype; } var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };





	var _EAN3 = _interopRequireDefault(_EAN2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation:
	// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Binary_encoding_of_data_digits_into_EAN-13_barcode

	// Calculate the checksum digit
	// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Calculation_of_checksum_digit
	var checksum = function checksum(number) {
		var res = number.substr(0, 12).split('').map(function (n) {
			return +n;
		}).reduce(function (sum, a, idx) {
			return idx % 2 ? sum + a * 3 : sum + a;
		}, 0);

		return (10 - res % 10) % 10;
	};

	var EAN13 = function (_EAN) {
		_inherits(EAN13, _EAN);

		function EAN13(data, options) {
			_classCallCheck(this, EAN13);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{12}$/) !== -1) {
				data += checksum(data);
			}

			// Adds a last character to the end of the barcode
			var _this = _possibleConstructorReturn(this, (EAN13.__proto__ || Object.getPrototypeOf(EAN13)).call(this, data, options));

			_this.lastChar = options.lastChar;
			return _this;
		}

		_createClass(EAN13, [{
			key: 'valid',
			value: function valid() {
				return this.data.search(/^[0-9]{13}$/) !== -1 && +this.data[12] === checksum(this.data);
			}
		}, {
			key: 'leftText',
			value: function leftText() {
				return _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'leftText', this).call(this, 1, 6);
			}
		}, {
			key: 'leftEncode',
			value: function leftEncode() {
				var data = this.data.substr(1, 6);
				var structure = _constants$1.EAN13_STRUCTURE[this.data[0]];
				return _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'leftEncode', this).call(this, data, structure);
			}
		}, {
			key: 'rightText',
			value: function rightText() {
				return _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'rightText', this).call(this, 7, 6);
			}
		}, {
			key: 'rightEncode',
			value: function rightEncode() {
				var data = this.data.substr(7, 6);
				return _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'rightEncode', this).call(this, data, 'RRRRRR');
			}

			// The "standard" way of printing EAN13 barcodes with guard bars

		}, {
			key: 'encodeGuarded',
			value: function encodeGuarded() {
				var data = _get(EAN13.prototype.__proto__ || Object.getPrototypeOf(EAN13.prototype), 'encodeGuarded', this).call(this);

				// Extend data with left digit & last character
				if (this.options.displayValue) {
					data.unshift({
						data: '000000000000',
						text: this.text.substr(0, 1),
						options: { textAlign: 'left', fontSize: this.fontSize }
					});

					if (this.options.lastChar) {
						data.push({
							data: '00'
						});
						data.push({
							data: '00000',
							text: this.options.lastChar,
							options: { fontSize: this.fontSize }
						});
					}
				}

				return data;
			}
		}]);

		return EAN13;
	}(_EAN3.default);

	exports.default = EAN13;
	});

	var EAN13 = unwrapExports(EAN13_1);

	var EAN13$1 = /*#__PURE__*/Object.freeze({
		default: EAN13,
		__moduleExports: EAN13_1
	});

	var EAN8_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();

	var _get = function get(object, property, receiver) { if (object === null) { object = Function.prototype; } var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };



	var _EAN3 = _interopRequireDefault(_EAN2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation:
	// http://www.barcodeisland.com/ean8.phtml

	// Calculate the checksum digit
	var checksum = function checksum(number) {
		var res = number.substr(0, 7).split('').map(function (n) {
			return +n;
		}).reduce(function (sum, a, idx) {
			return idx % 2 ? sum + a : sum + a * 3;
		}, 0);

		return (10 - res % 10) % 10;
	};

	var EAN8 = function (_EAN) {
		_inherits(EAN8, _EAN);

		function EAN8(data, options) {
			_classCallCheck(this, EAN8);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{7}$/) !== -1) {
				data += checksum(data);
			}

			return _possibleConstructorReturn(this, (EAN8.__proto__ || Object.getPrototypeOf(EAN8)).call(this, data, options));
		}

		_createClass(EAN8, [{
			key: 'valid',
			value: function valid() {
				return this.data.search(/^[0-9]{8}$/) !== -1 && +this.data[7] === checksum(this.data);
			}
		}, {
			key: 'leftText',
			value: function leftText() {
				return _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'leftText', this).call(this, 0, 4);
			}
		}, {
			key: 'leftEncode',
			value: function leftEncode() {
				var data = this.data.substr(0, 4);
				return _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'leftEncode', this).call(this, data, 'LLLL');
			}
		}, {
			key: 'rightText',
			value: function rightText() {
				return _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'rightText', this).call(this, 4, 4);
			}
		}, {
			key: 'rightEncode',
			value: function rightEncode() {
				var data = this.data.substr(4, 4);
				return _get(EAN8.prototype.__proto__ || Object.getPrototypeOf(EAN8.prototype), 'rightEncode', this).call(this, data, 'RRRR');
			}
		}]);

		return EAN8;
	}(_EAN3.default);

	exports.default = EAN8;
	});

	var EAN8 = unwrapExports(EAN8_1);

	var EAN8$1 = /*#__PURE__*/Object.freeze({
		default: EAN8,
		__moduleExports: EAN8_1
	});

	var EAN5_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();





	var _encoder2 = _interopRequireDefault(_encoder);



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation:
	// https://en.wikipedia.org/wiki/EAN_5#Encoding

	var checksum = function checksum(data) {
		var result = data.split('').map(function (n) {
			return +n;
		}).reduce(function (sum, a, idx) {
			return idx % 2 ? sum + a * 9 : sum + a * 3;
		}, 0);
		return result % 10;
	};

	var EAN5 = function (_Barcode) {
		_inherits(EAN5, _Barcode);

		function EAN5(data, options) {
			_classCallCheck(this, EAN5);

			return _possibleConstructorReturn(this, (EAN5.__proto__ || Object.getPrototypeOf(EAN5)).call(this, data, options));
		}

		_createClass(EAN5, [{
			key: 'valid',
			value: function valid() {
				return this.data.search(/^[0-9]{5}$/) !== -1;
			}
		}, {
			key: 'encode',
			value: function encode() {
				var structure = _constants$1.EAN5_STRUCTURE[checksum(this.data)];
				return {
					data: '1011' + (0, _encoder2.default)(this.data, structure, '01'),
					text: this.text
				};
			}
		}]);

		return EAN5;
	}(_Barcode3.default);

	exports.default = EAN5;
	});

	var EAN5 = unwrapExports(EAN5_1);

	var EAN5$1 = /*#__PURE__*/Object.freeze({
		default: EAN5,
		__moduleExports: EAN5_1
	});

	var EAN2_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();





	var _encoder2 = _interopRequireDefault(_encoder);



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation:
	// https://en.wikipedia.org/wiki/EAN_2#Encoding

	var EAN2 = function (_Barcode) {
		_inherits(EAN2, _Barcode);

		function EAN2(data, options) {
			_classCallCheck(this, EAN2);

			return _possibleConstructorReturn(this, (EAN2.__proto__ || Object.getPrototypeOf(EAN2)).call(this, data, options));
		}

		_createClass(EAN2, [{
			key: 'valid',
			value: function valid() {
				return this.data.search(/^[0-9]{2}$/) !== -1;
			}
		}, {
			key: 'encode',
			value: function encode() {
				// Choose the structure based on the number mod 4
				var structure = _constants$1.EAN2_STRUCTURE[parseInt(this.data) % 4];
				return {
					// Start bits + Encode the two digits with 01 in between
					data: '1011' + (0, _encoder2.default)(this.data, structure, '01'),
					text: this.text
				};
			}
		}]);

		return EAN2;
	}(_Barcode3.default);

	exports.default = EAN2;
	});

	var EAN2 = unwrapExports(EAN2_1);

	var EAN2$1 = /*#__PURE__*/Object.freeze({
		default: EAN2,
		__moduleExports: EAN2_1
	});

	var UPC_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();

	exports.checksum = checksum;



	var _encoder2 = _interopRequireDefault(_encoder);



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation:
	// https://en.wikipedia.org/wiki/Universal_Product_Code#Encoding

	var UPC = function (_Barcode) {
		_inherits(UPC, _Barcode);

		function UPC(data, options) {
			_classCallCheck(this, UPC);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{11}$/) !== -1) {
				data += checksum(data);
			}

			var _this = _possibleConstructorReturn(this, (UPC.__proto__ || Object.getPrototypeOf(UPC)).call(this, data, options));

			_this.displayValue = options.displayValue;

			// Make sure the font is not bigger than the space between the guard bars
			if (options.fontSize > options.width * 10) {
				_this.fontSize = options.width * 10;
			} else {
				_this.fontSize = options.fontSize;
			}

			// Make the guard bars go down half the way of the text
			_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;
			return _this;
		}

		_createClass(UPC, [{
			key: "valid",
			value: function valid() {
				return this.data.search(/^[0-9]{12}$/) !== -1 && this.data[11] == checksum(this.data);
			}
		}, {
			key: "encode",
			value: function encode() {
				if (this.options.flat) {
					return this.flatEncoding();
				} else {
					return this.guardedEncoding();
				}
			}
		}, {
			key: "flatEncoding",
			value: function flatEncoding() {
				var result = "";

				result += "101";
				result += (0, _encoder2.default)(this.data.substr(0, 6), "LLLLLL");
				result += "01010";
				result += (0, _encoder2.default)(this.data.substr(6, 6), "RRRRRR");
				result += "101";

				return {
					data: result,
					text: this.text
				};
			}
		}, {
			key: "guardedEncoding",
			value: function guardedEncoding() {
				var result = [];

				// Add the first digit
				if (this.displayValue) {
					result.push({
						data: "00000000",
						text: this.text.substr(0, 1),
						options: { textAlign: "left", fontSize: this.fontSize }
					});
				}

				// Add the guard bars
				result.push({
					data: "101" + (0, _encoder2.default)(this.data[0], "L"),
					options: { height: this.guardHeight }
				});

				// Add the left side
				result.push({
					data: (0, _encoder2.default)(this.data.substr(1, 5), "LLLLL"),
					text: this.text.substr(1, 5),
					options: { fontSize: this.fontSize }
				});

				// Add the middle bits
				result.push({
					data: "01010",
					options: { height: this.guardHeight }
				});

				// Add the right side
				result.push({
					data: (0, _encoder2.default)(this.data.substr(6, 5), "RRRRR"),
					text: this.text.substr(6, 5),
					options: { fontSize: this.fontSize }
				});

				// Add the end bits
				result.push({
					data: (0, _encoder2.default)(this.data[11], "R") + "101",
					options: { height: this.guardHeight }
				});

				// Add the last digit
				if (this.displayValue) {
					result.push({
						data: "00000000",
						text: this.text.substr(11, 1),
						options: { textAlign: "right", fontSize: this.fontSize }
					});
				}

				return result;
			}
		}]);

		return UPC;
	}(_Barcode3.default);

	// Calulate the checksum digit
	// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Calculation_of_checksum_digit


	function checksum(number) {
		var result = 0;

		var i;
		for (i = 1; i < 11; i += 2) {
			result += parseInt(number[i]);
		}
		for (i = 0; i < 11; i += 2) {
			result += parseInt(number[i]) * 3;
		}

		return (10 - result % 10) % 10;
	}

	exports.default = UPC;
	});

	var UPC = unwrapExports(UPC_1);
	var UPC_2 = UPC_1.checksum;

	var UPC$1 = /*#__PURE__*/Object.freeze({
		default: UPC,
		__moduleExports: UPC_1,
		checksum: UPC_2
	});

	var _UPC = ( UPC$1 && UPC ) || UPC$1;

	var UPCE_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _encoder2 = _interopRequireDefault(_encoder);



	var _Barcode3 = _interopRequireDefault(_Barcode2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation:
	// https://en.wikipedia.org/wiki/Universal_Product_Code#Encoding
	//
	// UPC-E documentation:
	// https://en.wikipedia.org/wiki/Universal_Product_Code#UPC-E

	var EXPANSIONS = ["XX00000XXX", "XX10000XXX", "XX20000XXX", "XXX00000XX", "XXXX00000X", "XXXXX00005", "XXXXX00006", "XXXXX00007", "XXXXX00008", "XXXXX00009"];

	var PARITIES = [["EEEOOO", "OOOEEE"], ["EEOEOO", "OOEOEE"], ["EEOOEO", "OOEEOE"], ["EEOOOE", "OOEEEO"], ["EOEEOO", "OEOOEE"], ["EOOEEO", "OEEOOE"], ["EOOOEE", "OEEEOO"], ["EOEOEO", "OEOEOE"], ["EOEOOE", "OEOEEO"], ["EOOEOE", "OEEOEO"]];

	var UPCE = function (_Barcode) {
		_inherits(UPCE, _Barcode);

		function UPCE(data, options) {
			_classCallCheck(this, UPCE);

			var _this = _possibleConstructorReturn(this, (UPCE.__proto__ || Object.getPrototypeOf(UPCE)).call(this, data, options));
			// Code may be 6 or 8 digits;
			// A 7 digit code is ambiguous as to whether the extra digit
			// is a UPC-A check or number system digit.


			_this.isValid = false;
			if (data.search(/^[0-9]{6}$/) !== -1) {
				_this.middleDigits = data;
				_this.upcA = expandToUPCA(data, "0");
				_this.text = options.text || '' + _this.upcA[0] + data + _this.upcA[_this.upcA.length - 1];
				_this.isValid = true;
			} else if (data.search(/^[01][0-9]{7}$/) !== -1) {
				_this.middleDigits = data.substring(1, data.length - 1);
				_this.upcA = expandToUPCA(_this.middleDigits, data[0]);

				if (_this.upcA[_this.upcA.length - 1] === data[data.length - 1]) {
					_this.isValid = true;
				} else {
					// checksum mismatch
					return _possibleConstructorReturn(_this);
				}
			} else {
				return _possibleConstructorReturn(_this);
			}

			_this.displayValue = options.displayValue;

			// Make sure the font is not bigger than the space between the guard bars
			if (options.fontSize > options.width * 10) {
				_this.fontSize = options.width * 10;
			} else {
				_this.fontSize = options.fontSize;
			}

			// Make the guard bars go down half the way of the text
			_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;
			return _this;
		}

		_createClass(UPCE, [{
			key: 'valid',
			value: function valid() {
				return this.isValid;
			}
		}, {
			key: 'encode',
			value: function encode() {
				if (this.options.flat) {
					return this.flatEncoding();
				} else {
					return this.guardedEncoding();
				}
			}
		}, {
			key: 'flatEncoding',
			value: function flatEncoding() {
				var result = "";

				result += "101";
				result += this.encodeMiddleDigits();
				result += "010101";

				return {
					data: result,
					text: this.text
				};
			}
		}, {
			key: 'guardedEncoding',
			value: function guardedEncoding() {
				var result = [];

				// Add the UPC-A number system digit beneath the quiet zone
				if (this.displayValue) {
					result.push({
						data: "00000000",
						text: this.text[0],
						options: { textAlign: "left", fontSize: this.fontSize }
					});
				}

				// Add the guard bars
				result.push({
					data: "101",
					options: { height: this.guardHeight }
				});

				// Add the 6 UPC-E digits
				result.push({
					data: this.encodeMiddleDigits(),
					text: this.text.substring(1, 7),
					options: { fontSize: this.fontSize }
				});

				// Add the end bits
				result.push({
					data: "010101",
					options: { height: this.guardHeight }
				});

				// Add the UPC-A check digit beneath the quiet zone
				if (this.displayValue) {
					result.push({
						data: "00000000",
						text: this.text[7],
						options: { textAlign: "right", fontSize: this.fontSize }
					});
				}

				return result;
			}
		}, {
			key: 'encodeMiddleDigits',
			value: function encodeMiddleDigits() {
				var numberSystem = this.upcA[0];
				var checkDigit = this.upcA[this.upcA.length - 1];
				var parity = PARITIES[parseInt(checkDigit)][parseInt(numberSystem)];
				return (0, _encoder2.default)(this.middleDigits, parity);
			}
		}]);

		return UPCE;
	}(_Barcode3.default);

	function expandToUPCA(middleDigits, numberSystem) {
		var lastUpcE = parseInt(middleDigits[middleDigits.length - 1]);
		var expansion = EXPANSIONS[lastUpcE];

		var result = "";
		var digitIndex = 0;
		for (var i = 0; i < expansion.length; i++) {
			var c = expansion[i];
			if (c === 'X') {
				result += middleDigits[digitIndex++];
			} else {
				result += c;
			}
		}

		result = '' + numberSystem + result;
		return '' + result + (0, _UPC.checksum)(result);
	}

	exports.default = UPCE;
	});

	var UPCE = unwrapExports(UPCE_1);

	var UPCE$1 = /*#__PURE__*/Object.freeze({
		default: UPCE,
		__moduleExports: UPCE_1
	});

	var _EAN = ( EAN13$1 && EAN13 ) || EAN13$1;

	var _EAN3 = ( EAN8$1 && EAN8 ) || EAN8$1;

	var _EAN5 = ( EAN5$1 && EAN5 ) || EAN5$1;

	var _EAN7 = ( EAN2$1 && EAN2 ) || EAN2$1;

	var _UPCE = ( UPCE$1 && UPCE ) || UPCE$1;

	var EAN_UPC = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.UPCE = exports.UPC = exports.EAN2 = exports.EAN5 = exports.EAN8 = exports.EAN13 = undefined;



	var _EAN2 = _interopRequireDefault(_EAN);



	var _EAN4 = _interopRequireDefault(_EAN3);



	var _EAN6 = _interopRequireDefault(_EAN5);



	var _EAN8 = _interopRequireDefault(_EAN7);



	var _UPC2 = _interopRequireDefault(_UPC);



	var _UPCE2 = _interopRequireDefault(_UPCE);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.EAN13 = _EAN2.default;
	exports.EAN8 = _EAN4.default;
	exports.EAN5 = _EAN6.default;
	exports.EAN2 = _EAN8.default;
	exports.UPC = _UPC2.default;
	exports.UPCE = _UPCE2.default;
	});

	var index$2 = unwrapExports(EAN_UPC);
	var EAN_UPC_1 = EAN_UPC.UPCE;
	var EAN_UPC_2 = EAN_UPC.UPC;
	var EAN_UPC_3 = EAN_UPC.EAN2;
	var EAN_UPC_4 = EAN_UPC.EAN5;
	var EAN_UPC_5 = EAN_UPC.EAN8;
	var EAN_UPC_6 = EAN_UPC.EAN13;

	var EAN_UPC$1 = /*#__PURE__*/Object.freeze({
		default: index$2,
		__moduleExports: EAN_UPC,
		UPCE: EAN_UPC_1,
		UPC: EAN_UPC_2,
		EAN2: EAN_UPC_3,
		EAN5: EAN_UPC_4,
		EAN8: EAN_UPC_5,
		EAN13: EAN_UPC_6
	});

	var constants$6 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	var START_BIN = exports.START_BIN = '1010';
	var END_BIN = exports.END_BIN = '11101';

	var BINARIES = exports.BINARIES = ['00110', '10001', '01001', '11000', '00101', '10100', '01100', '00011', '10010', '01010'];
	});

	var constants$7 = unwrapExports(constants$6);
	var constants_1$2 = constants$6.START_BIN;
	var constants_2$2 = constants$6.END_BIN;
	var constants_3$2 = constants$6.BINARIES;

	var constants$8 = /*#__PURE__*/Object.freeze({
		default: constants$7,
		__moduleExports: constants$6,
		START_BIN: constants_1$2,
		END_BIN: constants_2$2,
		BINARIES: constants_3$2
	});

	var _constants$2 = ( constants$8 && constants$7 ) || constants$8;

	var ITF_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();





	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var ITF = function (_Barcode) {
		_inherits(ITF, _Barcode);

		function ITF() {
			_classCallCheck(this, ITF);

			return _possibleConstructorReturn(this, (ITF.__proto__ || Object.getPrototypeOf(ITF)).apply(this, arguments));
		}

		_createClass(ITF, [{
			key: 'valid',
			value: function valid() {
				return this.data.search(/^([0-9]{2})+$/) !== -1;
			}
		}, {
			key: 'encode',
			value: function encode() {
				var _this2 = this;

				// Calculate all the digit pairs
				var encoded = this.data.match(/.{2}/g).map(function (pair) {
					return _this2.encodePair(pair);
				}).join('');

				return {
					data: _constants$2.START_BIN + encoded + _constants$2.END_BIN,
					text: this.text
				};
			}

			// Calculate the data of a number pair

		}, {
			key: 'encodePair',
			value: function encodePair(pair) {
				var second = _constants$2.BINARIES[pair[1]];

				return _constants$2.BINARIES[pair[0]].split('').map(function (first, idx) {
					return (first === '1' ? '111' : '1') + (second[idx] === '1' ? '000' : '0');
				}).join('');
			}
		}]);

		return ITF;
	}(_Barcode3.default);

	exports.default = ITF;
	});

	var ITF = unwrapExports(ITF_1);

	var ITF$1 = /*#__PURE__*/Object.freeze({
		default: ITF,
		__moduleExports: ITF_1
	});

	var _ITF2 = ( ITF$1 && ITF ) || ITF$1;

	var ITF14_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _ITF3 = _interopRequireDefault(_ITF2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	// Calculate the checksum digit
	var checksum = function checksum(data) {
		var res = data.substr(0, 13).split('').map(function (num) {
			return parseInt(num, 10);
		}).reduce(function (sum, n, idx) {
			return sum + n * (3 - idx % 2 * 2);
		}, 0);

		return Math.ceil(res / 10) * 10 - res;
	};

	var ITF14 = function (_ITF) {
		_inherits(ITF14, _ITF);

		function ITF14(data, options) {
			_classCallCheck(this, ITF14);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{13}$/) !== -1) {
				data += checksum(data);
			}
			return _possibleConstructorReturn(this, (ITF14.__proto__ || Object.getPrototypeOf(ITF14)).call(this, data, options));
		}

		_createClass(ITF14, [{
			key: 'valid',
			value: function valid() {
				return this.data.search(/^[0-9]{14}$/) !== -1 && +this.data[13] === checksum(this.data);
			}
		}]);

		return ITF14;
	}(_ITF3.default);

	exports.default = ITF14;
	});

	var ITF14 = unwrapExports(ITF14_1);

	var ITF14$1 = /*#__PURE__*/Object.freeze({
		default: ITF14,
		__moduleExports: ITF14_1
	});

	var _ITF3 = ( ITF14$1 && ITF14 ) || ITF14$1;

	var ITF$2 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.ITF14 = exports.ITF = undefined;



	var _ITF2$1 = _interopRequireDefault(_ITF2);



	var _ITF4 = _interopRequireDefault(_ITF3);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.ITF = _ITF2$1.default;
	exports.ITF14 = _ITF4.default;
	});

	var index$3 = unwrapExports(ITF$2);
	var ITF_1$1 = ITF$2.ITF14;
	var ITF_2 = ITF$2.ITF;

	var ITF$3 = /*#__PURE__*/Object.freeze({
		default: index$3,
		__moduleExports: ITF$2,
		ITF14: ITF_1$1,
		ITF: ITF_2
	});

	var MSI_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation
	// https://en.wikipedia.org/wiki/MSI_Barcode#Character_set_and_binary_lookup

	var MSI = function (_Barcode) {
		_inherits(MSI, _Barcode);

		function MSI(data, options) {
			_classCallCheck(this, MSI);

			return _possibleConstructorReturn(this, (MSI.__proto__ || Object.getPrototypeOf(MSI)).call(this, data, options));
		}

		_createClass(MSI, [{
			key: "encode",
			value: function encode() {
				// Start bits
				var ret = "110";

				for (var i = 0; i < this.data.length; i++) {
					// Convert the character to binary (always 4 binary digits)
					var digit = parseInt(this.data[i]);
					var bin = digit.toString(2);
					bin = addZeroes(bin, 4 - bin.length);

					// Add 100 for every zero and 110 for every 1
					for (var b = 0; b < bin.length; b++) {
						ret += bin[b] == "0" ? "100" : "110";
					}
				}

				// End bits
				ret += "1001";

				return {
					data: ret,
					text: this.text
				};
			}
		}, {
			key: "valid",
			value: function valid() {
				return this.data.search(/^[0-9]+$/) !== -1;
			}
		}]);

		return MSI;
	}(_Barcode3.default);

	function addZeroes(number, n) {
		for (var i = 0; i < n; i++) {
			number = "0" + number;
		}
		return number;
	}

	exports.default = MSI;
	});

	var MSI = unwrapExports(MSI_1);

	var MSI$1 = /*#__PURE__*/Object.freeze({
		default: MSI,
		__moduleExports: MSI_1
	});

	var checksums = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.mod10 = mod10;
	exports.mod11 = mod11;
	function mod10(number) {
		var sum = 0;
		for (var i = 0; i < number.length; i++) {
			var n = parseInt(number[i]);
			if ((i + number.length) % 2 === 0) {
				sum += n;
			} else {
				sum += n * 2 % 10 + Math.floor(n * 2 / 10);
			}
		}
		return (10 - sum % 10) % 10;
	}

	function mod11(number) {
		var sum = 0;
		var weights = [2, 3, 4, 5, 6, 7];
		for (var i = 0; i < number.length; i++) {
			var n = parseInt(number[number.length - 1 - i]);
			sum += weights[i % weights.length] * n;
		}
		return (11 - sum % 11) % 11;
	}
	});

	var checksums$1 = unwrapExports(checksums);
	var checksums_1 = checksums.mod10;
	var checksums_2 = checksums.mod11;

	var checksums$2 = /*#__PURE__*/Object.freeze({
		default: checksums$1,
		__moduleExports: checksums,
		mod10: checksums_1,
		mod11: checksums_2
	});

	var _MSI2 = ( MSI$1 && MSI ) || MSI$1;

	var _checksums = ( checksums$2 && checksums$1 ) || checksums$2;

	var MSI10_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	var _MSI3 = _interopRequireDefault(_MSI2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var MSI10 = function (_MSI) {
		_inherits(MSI10, _MSI);

		function MSI10(data, options) {
			_classCallCheck(this, MSI10);

			return _possibleConstructorReturn(this, (MSI10.__proto__ || Object.getPrototypeOf(MSI10)).call(this, data + (0, _checksums.mod10)(data), options));
		}

		return MSI10;
	}(_MSI3.default);

	exports.default = MSI10;
	});

	var MSI10 = unwrapExports(MSI10_1);

	var MSI10$1 = /*#__PURE__*/Object.freeze({
		default: MSI10,
		__moduleExports: MSI10_1
	});

	var MSI11_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	var _MSI3 = _interopRequireDefault(_MSI2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var MSI11 = function (_MSI) {
		_inherits(MSI11, _MSI);

		function MSI11(data, options) {
			_classCallCheck(this, MSI11);

			return _possibleConstructorReturn(this, (MSI11.__proto__ || Object.getPrototypeOf(MSI11)).call(this, data + (0, _checksums.mod11)(data), options));
		}

		return MSI11;
	}(_MSI3.default);

	exports.default = MSI11;
	});

	var MSI11 = unwrapExports(MSI11_1);

	var MSI11$1 = /*#__PURE__*/Object.freeze({
		default: MSI11,
		__moduleExports: MSI11_1
	});

	var MSI1010_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	var _MSI3 = _interopRequireDefault(_MSI2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var MSI1010 = function (_MSI) {
		_inherits(MSI1010, _MSI);

		function MSI1010(data, options) {
			_classCallCheck(this, MSI1010);

			data += (0, _checksums.mod10)(data);
			data += (0, _checksums.mod10)(data);
			return _possibleConstructorReturn(this, (MSI1010.__proto__ || Object.getPrototypeOf(MSI1010)).call(this, data, options));
		}

		return MSI1010;
	}(_MSI3.default);

	exports.default = MSI1010;
	});

	var MSI1010 = unwrapExports(MSI1010_1);

	var MSI1010$1 = /*#__PURE__*/Object.freeze({
		default: MSI1010,
		__moduleExports: MSI1010_1
	});

	var MSI1110_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	var _MSI3 = _interopRequireDefault(_MSI2);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var MSI1110 = function (_MSI) {
		_inherits(MSI1110, _MSI);

		function MSI1110(data, options) {
			_classCallCheck(this, MSI1110);

			data += (0, _checksums.mod11)(data);
			data += (0, _checksums.mod10)(data);
			return _possibleConstructorReturn(this, (MSI1110.__proto__ || Object.getPrototypeOf(MSI1110)).call(this, data, options));
		}

		return MSI1110;
	}(_MSI3.default);

	exports.default = MSI1110;
	});

	var MSI1110 = unwrapExports(MSI1110_1);

	var MSI1110$1 = /*#__PURE__*/Object.freeze({
		default: MSI1110,
		__moduleExports: MSI1110_1
	});

	var _MSI3 = ( MSI10$1 && MSI10 ) || MSI10$1;

	var _MSI5 = ( MSI11$1 && MSI11 ) || MSI11$1;

	var _MSI7 = ( MSI1010$1 && MSI1010 ) || MSI1010$1;

	var _MSI9 = ( MSI1110$1 && MSI1110 ) || MSI1110$1;

	var MSI$2 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.MSI1110 = exports.MSI1010 = exports.MSI11 = exports.MSI10 = exports.MSI = undefined;



	var _MSI2$1 = _interopRequireDefault(_MSI2);



	var _MSI4 = _interopRequireDefault(_MSI3);



	var _MSI6 = _interopRequireDefault(_MSI5);



	var _MSI8 = _interopRequireDefault(_MSI7);



	var _MSI10 = _interopRequireDefault(_MSI9);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.MSI = _MSI2$1.default;
	exports.MSI10 = _MSI4.default;
	exports.MSI11 = _MSI6.default;
	exports.MSI1010 = _MSI8.default;
	exports.MSI1110 = _MSI10.default;
	});

	var index$4 = unwrapExports(MSI$2);
	var MSI_1$1 = MSI$2.MSI1110;
	var MSI_2 = MSI$2.MSI1010;
	var MSI_3 = MSI$2.MSI11;
	var MSI_4 = MSI$2.MSI10;
	var MSI_5 = MSI$2.MSI;

	var MSI$3 = /*#__PURE__*/Object.freeze({
		default: index$4,
		__moduleExports: MSI$2,
		MSI1110: MSI_1$1,
		MSI1010: MSI_2,
		MSI11: MSI_3,
		MSI10: MSI_4,
		MSI: MSI_5
	});

	var pharmacode_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.pharmacode = undefined;

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding documentation
	// http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf

	var pharmacode = function (_Barcode) {
		_inherits(pharmacode, _Barcode);

		function pharmacode(data, options) {
			_classCallCheck(this, pharmacode);

			var _this = _possibleConstructorReturn(this, (pharmacode.__proto__ || Object.getPrototypeOf(pharmacode)).call(this, data, options));

			_this.number = parseInt(data, 10);
			return _this;
		}

		_createClass(pharmacode, [{
			key: "encode",
			value: function encode() {
				var z = this.number;
				var result = "";

				// http://i.imgur.com/RMm4UDJ.png
				// (source: http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf, page: 34)
				while (!isNaN(z) && z != 0) {
					if (z % 2 === 0) {
						// Even
						result = "11100" + result;
						z = (z - 2) / 2;
					} else {
						// Odd
						result = "100" + result;
						z = (z - 1) / 2;
					}
				}

				// Remove the two last zeroes
				result = result.slice(0, -2);

				return {
					data: result,
					text: this.text
				};
			}
		}, {
			key: "valid",
			value: function valid() {
				return this.number >= 3 && this.number <= 131070;
			}
		}]);

		return pharmacode;
	}(_Barcode3.default);

	exports.pharmacode = pharmacode;
	});

	var index$5 = unwrapExports(pharmacode_1);
	var pharmacode_2 = pharmacode_1.pharmacode;

	var pharmacode = /*#__PURE__*/Object.freeze({
		default: index$5,
		__moduleExports: pharmacode_1,
		pharmacode: pharmacode_2
	});

	var codabar_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.codabar = undefined;

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } } // Encoding specification:
	// http://www.barcodeisland.com/codabar.phtml

	var codabar = function (_Barcode) {
		_inherits(codabar, _Barcode);

		function codabar(data, options) {
			_classCallCheck(this, codabar);

			if (data.search(/^[0-9\-\$\:\.\+\/]+$/) === 0) {
				data = "A" + data + "A";
			}

			var _this = _possibleConstructorReturn(this, (codabar.__proto__ || Object.getPrototypeOf(codabar)).call(this, data.toUpperCase(), options));

			_this.text = _this.options.text || _this.text.replace(/[A-D]/g, '');
			return _this;
		}

		_createClass(codabar, [{
			key: "valid",
			value: function valid() {
				return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/) !== -1;
			}
		}, {
			key: "encode",
			value: function encode() {
				var result = [];
				var encodings = this.getEncodings();
				for (var i = 0; i < this.data.length; i++) {
					result.push(encodings[this.data.charAt(i)]);
					// for all characters except the last, append a narrow-space ("0")
					if (i !== this.data.length - 1) {
						result.push("0");
					}
				}
				return {
					text: this.text,
					data: result.join('')
				};
			}
		}, {
			key: "getEncodings",
			value: function getEncodings() {
				return {
					"0": "101010011",
					"1": "101011001",
					"2": "101001011",
					"3": "110010101",
					"4": "101101001",
					"5": "110101001",
					"6": "100101011",
					"7": "100101101",
					"8": "100110101",
					"9": "110100101",
					"-": "101001101",
					"$": "101100101",
					":": "1101011011",
					"/": "1101101011",
					".": "1101101101",
					"+": "101100110011",
					"A": "1011001001",
					"B": "1001001011",
					"C": "1010010011",
					"D": "1010011001"
				};
			}
		}]);

		return codabar;
	}(_Barcode3.default);

	exports.codabar = codabar;
	});

	var index$6 = unwrapExports(codabar_1);
	var codabar_2 = codabar_1.codabar;

	var codabar = /*#__PURE__*/Object.freeze({
		default: index$6,
		__moduleExports: codabar_1,
		codabar: codabar_2
	});

	var GenericBarcode_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.GenericBarcode = undefined;

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var GenericBarcode = function (_Barcode) {
		_inherits(GenericBarcode, _Barcode);

		function GenericBarcode(data, options) {
			_classCallCheck(this, GenericBarcode);

			return _possibleConstructorReturn(this, (GenericBarcode.__proto__ || Object.getPrototypeOf(GenericBarcode)).call(this, data, options)); // Sets this.data and this.text
		}

		// Return the corresponding binary numbers for the data provided


		_createClass(GenericBarcode, [{
			key: "encode",
			value: function encode() {
				return {
					data: "10101010101010101010101010101010101010101",
					text: this.text
				};
			}

			// Resturn true/false if the string provided is valid for this encoder

		}, {
			key: "valid",
			value: function valid() {
				return true;
			}
		}]);

		return GenericBarcode;
	}(_Barcode3.default);

	exports.GenericBarcode = GenericBarcode;
	});

	var index$7 = unwrapExports(GenericBarcode_1);
	var GenericBarcode_2 = GenericBarcode_1.GenericBarcode;

	var GenericBarcode = /*#__PURE__*/Object.freeze({
		default: index$7,
		__moduleExports: GenericBarcode_1,
		GenericBarcode: GenericBarcode_2
	});

	var _CODE = ( CODE39 && index ) || CODE39;

	var _CODE2$1 = ( CODE128$3 && index$1 ) || CODE128$3;

	var _EAN_UPC = ( EAN_UPC$1 && index$2 ) || EAN_UPC$1;

	var _ITF = ( ITF$3 && index$3 ) || ITF$3;

	var _MSI = ( MSI$3 && index$4 ) || MSI$3;

	var _pharmacode = ( pharmacode && index$5 ) || pharmacode;

	var _codabar = ( codabar && index$6 ) || codabar;

	var _GenericBarcode = ( GenericBarcode && index$7 ) || GenericBarcode;

	var barcodes = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

















	exports.default = {
		CODE39: _CODE.CODE39,
		CODE128: _CODE2$1.CODE128, CODE128A: _CODE2$1.CODE128A, CODE128B: _CODE2$1.CODE128B, CODE128C: _CODE2$1.CODE128C,
		EAN13: _EAN_UPC.EAN13, EAN8: _EAN_UPC.EAN8, EAN5: _EAN_UPC.EAN5, EAN2: _EAN_UPC.EAN2, UPC: _EAN_UPC.UPC, UPCE: _EAN_UPC.UPCE,
		ITF14: _ITF.ITF14,
		ITF: _ITF.ITF,
		MSI: _MSI.MSI, MSI10: _MSI.MSI10, MSI11: _MSI.MSI11, MSI1010: _MSI.MSI1010, MSI1110: _MSI.MSI1110,
		pharmacode: _pharmacode.pharmacode,
		codabar: _codabar.codabar,
		GenericBarcode: _GenericBarcode.GenericBarcode
	};
	});

	var index$8 = unwrapExports(barcodes);

	var barcodes$1 = /*#__PURE__*/Object.freeze({
		default: index$8,
		__moduleExports: barcodes
	});

	var merge = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _extends = Object.assign || function (target) {
	var arguments$1 = arguments;
	 for (var i = 1; i < arguments.length; i++) { var source = arguments$1[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	exports.default = function (old, replaceObj) {
	  return _extends({}, old, replaceObj);
	};
	});

	var merge$1 = unwrapExports(merge);

	var merge$2 = /*#__PURE__*/Object.freeze({
		default: merge$1,
		__moduleExports: merge
	});

	var linearizeEncodings_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.default = linearizeEncodings;

	// Encodings can be nestled like [[1-1, 1-2], 2, [3-1, 3-2]
	// Convert to [1-1, 1-2, 2, 3-1, 3-2]

	function linearizeEncodings(encodings) {
		var linearEncodings = [];
		function nextLevel(encoded) {
			if (Array.isArray(encoded)) {
				for (var i = 0; i < encoded.length; i++) {
					nextLevel(encoded[i]);
				}
			} else {
				encoded.text = encoded.text || "";
				encoded.data = encoded.data || "";
				linearEncodings.push(encoded);
			}
		}
		nextLevel(encodings);

		return linearEncodings;
	}
	});

	var linearizeEncodings = unwrapExports(linearizeEncodings_1);

	var linearizeEncodings$1 = /*#__PURE__*/Object.freeze({
		default: linearizeEncodings,
		__moduleExports: linearizeEncodings_1
	});

	var fixOptions_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.default = fixOptions;


	function fixOptions(options) {
		// Fix the margins
		options.marginTop = options.marginTop || options.margin;
		options.marginBottom = options.marginBottom || options.margin;
		options.marginRight = options.marginRight || options.margin;
		options.marginLeft = options.marginLeft || options.margin;

		return options;
	}
	});

	var fixOptions = unwrapExports(fixOptions_1);

	var fixOptions$1 = /*#__PURE__*/Object.freeze({
		default: fixOptions,
		__moduleExports: fixOptions_1
	});

	var optionsFromStrings_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.default = optionsFromStrings;

	// Convert string to integers/booleans where it should be

	function optionsFromStrings(options) {
		var intOptions = ["width", "height", "textMargin", "fontSize", "margin", "marginTop", "marginBottom", "marginLeft", "marginRight"];

		for (var intOption in intOptions) {
			if (intOptions.hasOwnProperty(intOption)) {
				intOption = intOptions[intOption];
				if (typeof options[intOption] === "string") {
					options[intOption] = parseInt(options[intOption], 10);
				}
			}
		}

		if (typeof options["displayValue"] === "string") {
			options["displayValue"] = options["displayValue"] != "false";
		}

		return options;
	}
	});

	var optionsFromStrings = unwrapExports(optionsFromStrings_1);

	var optionsFromStrings$1 = /*#__PURE__*/Object.freeze({
		default: optionsFromStrings,
		__moduleExports: optionsFromStrings_1
	});

	var defaults_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	var defaults = {
		width: 2,
		height: 100,
		format: "auto",
		displayValue: true,
		fontOptions: "",
		font: "monospace",
		text: undefined,
		textAlign: "center",
		textPosition: "bottom",
		textMargin: 2,
		fontSize: 20,
		background: "#ffffff",
		lineColor: "#000000",
		margin: 10,
		marginTop: undefined,
		marginBottom: undefined,
		marginLeft: undefined,
		marginRight: undefined,
		valid: function valid() {}
	};

	exports.default = defaults;
	});

	var defaults = unwrapExports(defaults_1);

	var defaults$1 = /*#__PURE__*/Object.freeze({
		default: defaults,
		__moduleExports: defaults_1
	});

	var _optionsFromStrings = ( optionsFromStrings$1 && optionsFromStrings ) || optionsFromStrings$1;

	var _defaults = ( defaults$1 && defaults ) || defaults$1;

	var getOptionsFromElement_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});



	var _optionsFromStrings2 = _interopRequireDefault(_optionsFromStrings);



	var _defaults2 = _interopRequireDefault(_defaults);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function getOptionsFromElement(element) {
		var options = {};
		for (var property in _defaults2.default) {
			if (_defaults2.default.hasOwnProperty(property)) {
				// jsbarcode-*
				if (element.hasAttribute("jsbarcode-" + property.toLowerCase())) {
					options[property] = element.getAttribute("jsbarcode-" + property.toLowerCase());
				}

				// data-*
				if (element.hasAttribute("data-" + property.toLowerCase())) {
					options[property] = element.getAttribute("data-" + property.toLowerCase());
				}
			}
		}

		options["value"] = element.getAttribute("jsbarcode-value") || element.getAttribute("data-value");

		// Since all atributes are string they need to be converted to integers
		options = (0, _optionsFromStrings2.default)(options);

		return options;
	}

	exports.default = getOptionsFromElement;
	});

	var getOptionsFromElement = unwrapExports(getOptionsFromElement_1);

	var getOptionsFromElement$1 = /*#__PURE__*/Object.freeze({
		default: getOptionsFromElement,
		__moduleExports: getOptionsFromElement_1
	});

	var _merge = ( merge$2 && merge$1 ) || merge$2;

	var shared = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.getTotalWidthOfEncodings = exports.calculateEncodingAttributes = exports.getBarcodePadding = exports.getEncodingHeight = exports.getMaximumHeightOfEncodings = undefined;



	var _merge2 = _interopRequireDefault(_merge);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function getEncodingHeight(encoding, options) {
		return options.height + (options.displayValue && encoding.text.length > 0 ? options.fontSize + options.textMargin : 0) + options.marginTop + options.marginBottom;
	}

	function getBarcodePadding(textWidth, barcodeWidth, options) {
		if (options.displayValue && barcodeWidth < textWidth) {
			if (options.textAlign == "center") {
				return Math.floor((textWidth - barcodeWidth) / 2);
			} else if (options.textAlign == "left") {
				return 0;
			} else if (options.textAlign == "right") {
				return Math.floor(textWidth - barcodeWidth);
			}
		}
		return 0;
	}

	function calculateEncodingAttributes(encodings, barcodeOptions, context) {
		for (var i = 0; i < encodings.length; i++) {
			var encoding = encodings[i];
			var options = (0, _merge2.default)(barcodeOptions, encoding.options);

			// Calculate the width of the encoding
			var textWidth;
			if (options.displayValue) {
				textWidth = messureText(encoding.text, options, context);
			} else {
				textWidth = 0;
			}

			var barcodeWidth = encoding.data.length * options.width;
			encoding.width = Math.ceil(Math.max(textWidth, barcodeWidth));

			encoding.height = getEncodingHeight(encoding, options);

			encoding.barcodePadding = getBarcodePadding(textWidth, barcodeWidth, options);
		}
	}

	function getTotalWidthOfEncodings(encodings) {
		var totalWidth = 0;
		for (var i = 0; i < encodings.length; i++) {
			totalWidth += encodings[i].width;
		}
		return totalWidth;
	}

	function getMaximumHeightOfEncodings(encodings) {
		var maxHeight = 0;
		for (var i = 0; i < encodings.length; i++) {
			if (encodings[i].height > maxHeight) {
				maxHeight = encodings[i].height;
			}
		}
		return maxHeight;
	}

	function messureText(string, options, context) {
		var ctx;

		if (context) {
			ctx = context;
		} else if (typeof document !== "undefined") {
			ctx = document.createElement("canvas").getContext("2d");
		} else {
			// If the text cannot be messured we will return 0.
			// This will make some barcode with big text render incorrectly
			return 0;
		}
		ctx.font = options.fontOptions + " " + options.fontSize + "px " + options.font;

		// Calculate the width of the encoding
		var size = ctx.measureText(string).width;

		return size;
	}

	exports.getMaximumHeightOfEncodings = getMaximumHeightOfEncodings;
	exports.getEncodingHeight = getEncodingHeight;
	exports.getBarcodePadding = getBarcodePadding;
	exports.calculateEncodingAttributes = calculateEncodingAttributes;
	exports.getTotalWidthOfEncodings = getTotalWidthOfEncodings;
	});

	var shared$1 = unwrapExports(shared);
	var shared_1 = shared.getTotalWidthOfEncodings;
	var shared_2 = shared.calculateEncodingAttributes;
	var shared_3 = shared.getBarcodePadding;
	var shared_4 = shared.getEncodingHeight;
	var shared_5 = shared.getMaximumHeightOfEncodings;

	var shared$2 = /*#__PURE__*/Object.freeze({
		default: shared$1,
		__moduleExports: shared,
		getTotalWidthOfEncodings: shared_1,
		calculateEncodingAttributes: shared_2,
		getBarcodePadding: shared_3,
		getEncodingHeight: shared_4,
		getMaximumHeightOfEncodings: shared_5
	});

	var _shared = ( shared$2 && shared$1 ) || shared$2;

	var canvas = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _merge2 = _interopRequireDefault(_merge);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var CanvasRenderer = function () {
		function CanvasRenderer(canvas, encodings, options) {
			_classCallCheck(this, CanvasRenderer);

			this.canvas = canvas;
			this.encodings = encodings;
			this.options = options;
		}

		_createClass(CanvasRenderer, [{
			key: "render",
			value: function render() {
				// Abort if the browser does not support HTML5 canvas
				if (!this.canvas.getContext) {
					throw new Error('The browser does not support canvas.');
				}

				this.prepareCanvas();
				for (var i = 0; i < this.encodings.length; i++) {
					var encodingOptions = (0, _merge2.default)(this.options, this.encodings[i].options);

					this.drawCanvasBarcode(encodingOptions, this.encodings[i]);
					this.drawCanvasText(encodingOptions, this.encodings[i]);

					this.moveCanvasDrawing(this.encodings[i]);
				}

				this.restoreCanvas();
			}
		}, {
			key: "prepareCanvas",
			value: function prepareCanvas() {
				// Get the canvas context
				var ctx = this.canvas.getContext("2d");

				ctx.save();

				(0, _shared.calculateEncodingAttributes)(this.encodings, this.options, ctx);
				var totalWidth = (0, _shared.getTotalWidthOfEncodings)(this.encodings);
				var maxHeight = (0, _shared.getMaximumHeightOfEncodings)(this.encodings);

				this.canvas.width = totalWidth + this.options.marginLeft + this.options.marginRight;

				this.canvas.height = maxHeight;

				// Paint the canvas
				ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
				if (this.options.background) {
					ctx.fillStyle = this.options.background;
					ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
				}

				ctx.translate(this.options.marginLeft, 0);
			}
		}, {
			key: "drawCanvasBarcode",
			value: function drawCanvasBarcode(options, encoding) {
				// Get the canvas context
				var ctx = this.canvas.getContext("2d");

				var binary = encoding.data;

				// Creates the barcode out of the encoded binary
				var yFrom;
				if (options.textPosition == "top") {
					yFrom = options.marginTop + options.fontSize + options.textMargin;
				} else {
					yFrom = options.marginTop;
				}

				ctx.fillStyle = options.lineColor;

				for (var b = 0; b < binary.length; b++) {
					var x = b * options.width + encoding.barcodePadding;

					if (binary[b] === "1") {
						ctx.fillRect(x, yFrom, options.width, options.height);
					} else if (binary[b]) {
						ctx.fillRect(x, yFrom, options.width, options.height * binary[b]);
					}
				}
			}
		}, {
			key: "drawCanvasText",
			value: function drawCanvasText(options, encoding) {
				// Get the canvas context
				var ctx = this.canvas.getContext("2d");

				var font = options.fontOptions + " " + options.fontSize + "px " + options.font;

				// Draw the text if displayValue is set
				if (options.displayValue) {
					var x, y;

					if (options.textPosition == "top") {
						y = options.marginTop + options.fontSize - options.textMargin;
					} else {
						y = options.height + options.textMargin + options.marginTop + options.fontSize;
					}

					ctx.font = font;

					// Draw the text in the correct X depending on the textAlign option
					if (options.textAlign == "left" || encoding.barcodePadding > 0) {
						x = 0;
						ctx.textAlign = 'left';
					} else if (options.textAlign == "right") {
						x = encoding.width - 1;
						ctx.textAlign = 'right';
					}
					// In all other cases, center the text
					else {
							x = encoding.width / 2;
							ctx.textAlign = 'center';
						}

					ctx.fillText(encoding.text, x, y);
				}
			}
		}, {
			key: "moveCanvasDrawing",
			value: function moveCanvasDrawing(encoding) {
				var ctx = this.canvas.getContext("2d");

				ctx.translate(encoding.width, 0);
			}
		}, {
			key: "restoreCanvas",
			value: function restoreCanvas() {
				// Get the canvas context
				var ctx = this.canvas.getContext("2d");

				ctx.restore();
			}
		}]);

		return CanvasRenderer;
	}();

	exports.default = CanvasRenderer;
	});

	var canvas$1 = unwrapExports(canvas);

	var canvas$2 = /*#__PURE__*/Object.freeze({
		default: canvas$1,
		__moduleExports: canvas
	});

	var svg = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();



	var _merge2 = _interopRequireDefault(_merge);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var svgns = "http://www.w3.org/2000/svg";

	var SVGRenderer = function () {
		function SVGRenderer(svg, encodings, options) {
			_classCallCheck(this, SVGRenderer);

			this.svg = svg;
			this.encodings = encodings;
			this.options = options;
			this.document = options.xmlDocument || document;
		}

		_createClass(SVGRenderer, [{
			key: "render",
			value: function render() {
				var currentX = this.options.marginLeft;

				this.prepareSVG();
				for (var i = 0; i < this.encodings.length; i++) {
					var encoding = this.encodings[i];
					var encodingOptions = (0, _merge2.default)(this.options, encoding.options);

					var group = this.createGroup(currentX, encodingOptions.marginTop, this.svg);

					this.setGroupOptions(group, encodingOptions);

					this.drawSvgBarcode(group, encodingOptions, encoding);
					this.drawSVGText(group, encodingOptions, encoding);

					currentX += encoding.width;
				}
			}
		}, {
			key: "prepareSVG",
			value: function prepareSVG() {
				// Clear the SVG
				while (this.svg.firstChild) {
					this.svg.removeChild(this.svg.firstChild);
				}

				(0, _shared.calculateEncodingAttributes)(this.encodings, this.options);
				var totalWidth = (0, _shared.getTotalWidthOfEncodings)(this.encodings);
				var maxHeight = (0, _shared.getMaximumHeightOfEncodings)(this.encodings);

				var width = totalWidth + this.options.marginLeft + this.options.marginRight;
				this.setSvgAttributes(width, maxHeight);

				if (this.options.background) {
					this.drawRect(0, 0, width, maxHeight, this.svg).setAttribute("style", "fill:" + this.options.background + ";");
				}
			}
		}, {
			key: "drawSvgBarcode",
			value: function drawSvgBarcode(parent, options, encoding) {
				var binary = encoding.data;

				// Creates the barcode out of the encoded binary
				var yFrom;
				if (options.textPosition == "top") {
					yFrom = options.fontSize + options.textMargin;
				} else {
					yFrom = 0;
				}

				var barWidth = 0;
				var x = 0;
				for (var b = 0; b < binary.length; b++) {
					x = b * options.width + encoding.barcodePadding;

					if (binary[b] === "1") {
						barWidth++;
					} else if (barWidth > 0) {
						this.drawRect(x - options.width * barWidth, yFrom, options.width * barWidth, options.height, parent);
						barWidth = 0;
					}
				}

				// Last draw is needed since the barcode ends with 1
				if (barWidth > 0) {
					this.drawRect(x - options.width * (barWidth - 1), yFrom, options.width * barWidth, options.height, parent);
				}
			}
		}, {
			key: "drawSVGText",
			value: function drawSVGText(parent, options, encoding) {
				var textElem = this.document.createElementNS(svgns, 'text');

				// Draw the text if displayValue is set
				if (options.displayValue) {
					var x, y;

					textElem.setAttribute("style", "font:" + options.fontOptions + " " + options.fontSize + "px " + options.font);

					if (options.textPosition == "top") {
						y = options.fontSize - options.textMargin;
					} else {
						y = options.height + options.textMargin + options.fontSize;
					}

					// Draw the text in the correct X depending on the textAlign option
					if (options.textAlign == "left" || encoding.barcodePadding > 0) {
						x = 0;
						textElem.setAttribute("text-anchor", "start");
					} else if (options.textAlign == "right") {
						x = encoding.width - 1;
						textElem.setAttribute("text-anchor", "end");
					}
					// In all other cases, center the text
					else {
							x = encoding.width / 2;
							textElem.setAttribute("text-anchor", "middle");
						}

					textElem.setAttribute("x", x);
					textElem.setAttribute("y", y);

					textElem.appendChild(this.document.createTextNode(encoding.text));

					parent.appendChild(textElem);
				}
			}
		}, {
			key: "setSvgAttributes",
			value: function setSvgAttributes(width, height) {
				var svg = this.svg;
				svg.setAttribute("width", width + "px");
				svg.setAttribute("height", height + "px");
				svg.setAttribute("x", "0px");
				svg.setAttribute("y", "0px");
				svg.setAttribute("viewBox", "0 0 " + width + " " + height);

				svg.setAttribute("xmlns", svgns);
				svg.setAttribute("version", "1.1");

				svg.setAttribute("style", "transform: translate(0,0)");
			}
		}, {
			key: "createGroup",
			value: function createGroup(x, y, parent) {
				var group = this.document.createElementNS(svgns, 'g');
				group.setAttribute("transform", "translate(" + x + ", " + y + ")");

				parent.appendChild(group);

				return group;
			}
		}, {
			key: "setGroupOptions",
			value: function setGroupOptions(group, options) {
				group.setAttribute("style", "fill:" + options.lineColor + ";");
			}
		}, {
			key: "drawRect",
			value: function drawRect(x, y, width, height, parent) {
				var rect = this.document.createElementNS(svgns, 'rect');

				rect.setAttribute("x", x);
				rect.setAttribute("y", y);
				rect.setAttribute("width", width);
				rect.setAttribute("height", height);

				parent.appendChild(rect);

				return rect;
			}
		}]);

		return SVGRenderer;
	}();

	exports.default = SVGRenderer;
	});

	var svg$1 = unwrapExports(svg);

	var svg$2 = /*#__PURE__*/Object.freeze({
		default: svg$1,
		__moduleExports: svg
	});

	var object = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var ObjectRenderer = function () {
		function ObjectRenderer(object, encodings, options) {
			_classCallCheck(this, ObjectRenderer);

			this.object = object;
			this.encodings = encodings;
			this.options = options;
		}

		_createClass(ObjectRenderer, [{
			key: "render",
			value: function render() {
				this.object.encodings = this.encodings;
			}
		}]);

		return ObjectRenderer;
	}();

	exports.default = ObjectRenderer;
	});

	var object$1 = unwrapExports(object);

	var object$2 = /*#__PURE__*/Object.freeze({
		default: object$1,
		__moduleExports: object
	});

	var _canvas = ( canvas$2 && canvas$1 ) || canvas$2;

	var _svg = ( svg$2 && svg$1 ) || svg$2;

	var _object = ( object$2 && object$1 ) || object$2;

	var renderers = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});



	var _canvas2 = _interopRequireDefault(_canvas);



	var _svg2 = _interopRequireDefault(_svg);



	var _object2 = _interopRequireDefault(_object);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.default = { CanvasRenderer: _canvas2.default, SVGRenderer: _svg2.default, ObjectRenderer: _object2.default };
	});

	var index$9 = unwrapExports(renderers);

	var renderers$1 = /*#__PURE__*/Object.freeze({
		default: index$9,
		__moduleExports: renderers
	});

	var exceptions = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) { Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } }

	var InvalidInputException = function (_Error) {
		_inherits(InvalidInputException, _Error);

		function InvalidInputException(symbology, input) {
			_classCallCheck(this, InvalidInputException);

			var _this = _possibleConstructorReturn(this, (InvalidInputException.__proto__ || Object.getPrototypeOf(InvalidInputException)).call(this));

			_this.name = "InvalidInputException";

			_this.symbology = symbology;
			_this.input = input;

			_this.message = '"' + _this.input + '" is not a valid input for ' + _this.symbology;
			return _this;
		}

		return InvalidInputException;
	}(Error);

	var InvalidElementException = function (_Error2) {
		_inherits(InvalidElementException, _Error2);

		function InvalidElementException() {
			_classCallCheck(this, InvalidElementException);

			var _this2 = _possibleConstructorReturn(this, (InvalidElementException.__proto__ || Object.getPrototypeOf(InvalidElementException)).call(this));

			_this2.name = "InvalidElementException";
			_this2.message = "Not supported type to render on";
			return _this2;
		}

		return InvalidElementException;
	}(Error);

	var NoElementException = function (_Error3) {
		_inherits(NoElementException, _Error3);

		function NoElementException() {
			_classCallCheck(this, NoElementException);

			var _this3 = _possibleConstructorReturn(this, (NoElementException.__proto__ || Object.getPrototypeOf(NoElementException)).call(this));

			_this3.name = "NoElementException";
			_this3.message = "No element to render on.";
			return _this3;
		}

		return NoElementException;
	}(Error);

	exports.InvalidInputException = InvalidInputException;
	exports.InvalidElementException = InvalidElementException;
	exports.NoElementException = NoElementException;
	});

	var exceptions$1 = unwrapExports(exceptions);
	var exceptions_1 = exceptions.InvalidInputException;
	var exceptions_2 = exceptions.InvalidElementException;
	var exceptions_3 = exceptions.NoElementException;

	var exceptions$2 = /*#__PURE__*/Object.freeze({
		default: exceptions$1,
		__moduleExports: exceptions,
		InvalidInputException: exceptions_1,
		InvalidElementException: exceptions_2,
		NoElementException: exceptions_3
	});

	var _getOptionsFromElement = ( getOptionsFromElement$1 && getOptionsFromElement ) || getOptionsFromElement$1;

	var _renderers = ( renderers$1 && index$9 ) || renderers$1;

	var _exceptions = ( exceptions$2 && exceptions$1 ) || exceptions$2;

	var getRenderProperties_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; /* global HTMLImageElement */
	/* global HTMLCanvasElement */
	/* global SVGElement */



	var _getOptionsFromElement2 = _interopRequireDefault(_getOptionsFromElement);



	var _renderers2 = _interopRequireDefault(_renderers);



	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	// Takes an element and returns an object with information about how
	// it should be rendered
	// This could also return an array with these objects
	// {
	//   element: The element that the renderer should draw on
	//   renderer: The name of the renderer
	//   afterRender (optional): If something has to done after the renderer
	//     completed, calls afterRender (function)
	//   options (optional): Options that can be defined in the element
	// }

	function getRenderProperties(element) {
		// If the element is a string, query select call again
		if (typeof element === "string") {
			return querySelectedRenderProperties(element);
		}
		// If element is array. Recursivly call with every object in the array
		else if (Array.isArray(element)) {
				var returnArray = [];
				for (var i = 0; i < element.length; i++) {
					returnArray.push(getRenderProperties(element[i]));
				}
				return returnArray;
			}
			// If element, render on canvas and set the uri as src
			else if (typeof HTMLCanvasElement !== 'undefined' && element instanceof HTMLImageElement) {
					return newCanvasRenderProperties(element);
				}
				// If SVG
				else if (element && element.nodeName === 'svg' || typeof SVGElement !== 'undefined' && element instanceof SVGElement) {
						return {
							element: element,
							options: (0, _getOptionsFromElement2.default)(element),
							renderer: _renderers2.default.SVGRenderer
						};
					}
					// If canvas (in browser)
					else if (typeof HTMLCanvasElement !== 'undefined' && element instanceof HTMLCanvasElement) {
							return {
								element: element,
								options: (0, _getOptionsFromElement2.default)(element),
								renderer: _renderers2.default.CanvasRenderer
							};
						}
						// If canvas (in node)
						else if (element && element.getContext) {
								return {
									element: element,
									renderer: _renderers2.default.CanvasRenderer
								};
							} else if (element && (typeof element === "undefined" ? "undefined" : _typeof(element)) === 'object' && !element.nodeName) {
								return {
									element: element,
									renderer: _renderers2.default.ObjectRenderer
								};
							} else {
								throw new _exceptions.InvalidElementException();
							}
	}

	function querySelectedRenderProperties(string) {
		var selector = document.querySelectorAll(string);
		if (selector.length === 0) {
			return undefined;
		} else {
			var returnArray = [];
			for (var i = 0; i < selector.length; i++) {
				returnArray.push(getRenderProperties(selector[i]));
			}
			return returnArray;
		}
	}

	function newCanvasRenderProperties(imgElement) {
		var canvas = document.createElement('canvas');
		return {
			element: canvas,
			options: (0, _getOptionsFromElement2.default)(imgElement),
			renderer: _renderers2.default.CanvasRenderer,
			afterRender: function afterRender() {
				imgElement.setAttribute("src", canvas.toDataURL());
			}
		};
	}

	exports.default = getRenderProperties;
	});

	var getRenderProperties = unwrapExports(getRenderProperties_1);

	var getRenderProperties$1 = /*#__PURE__*/Object.freeze({
		default: getRenderProperties,
		__moduleExports: getRenderProperties_1
	});

	var ErrorHandler_1 = createCommonjsModule(function (module, exports) {

	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) { descriptor.writable = true; } Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) { defineProperties(Constructor.prototype, protoProps); } if (staticProps) { defineProperties(Constructor, staticProps); } return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	/*eslint no-console: 0 */

	var ErrorHandler = function () {
		function ErrorHandler(api) {
			_classCallCheck(this, ErrorHandler);

			this.api = api;
		}

		_createClass(ErrorHandler, [{
			key: "handleCatch",
			value: function handleCatch(e) {
				// If babel supported extending of Error in a correct way instanceof would be used here
				if (e.name === "InvalidInputException") {
					if (this.api._options.valid !== this.api._defaults.valid) {
						this.api._options.valid(false);
					} else {
						throw e.message;
					}
				} else {
					throw e;
				}

				this.api.render = function () {};
			}
		}, {
			key: "wrapBarcodeCall",
			value: function wrapBarcodeCall(func) {
				try {
					var result = func.apply(undefined, arguments);
					this.api._options.valid(true);
					return result;
				} catch (e) {
					this.handleCatch(e);

					return this.api;
				}
			}
		}]);

		return ErrorHandler;
	}();

	exports.default = ErrorHandler;
	});

	var ErrorHandler = unwrapExports(ErrorHandler_1);

	var ErrorHandler$1 = /*#__PURE__*/Object.freeze({
		default: ErrorHandler,
		__moduleExports: ErrorHandler_1
	});

	var _barcodes = ( barcodes$1 && index$8 ) || barcodes$1;

	var _linearizeEncodings = ( linearizeEncodings$1 && linearizeEncodings ) || linearizeEncodings$1;

	var _fixOptions = ( fixOptions$1 && fixOptions ) || fixOptions$1;

	var _getRenderProperties = ( getRenderProperties$1 && getRenderProperties ) || getRenderProperties$1;

	var _ErrorHandler = ( ErrorHandler$1 && ErrorHandler ) || ErrorHandler$1;

	var JsBarcode_1 = createCommonjsModule(function (module) {



	var _barcodes2 = _interopRequireDefault(_barcodes);



	var _merge2 = _interopRequireDefault(_merge);



	var _linearizeEncodings2 = _interopRequireDefault(_linearizeEncodings);



	var _fixOptions2 = _interopRequireDefault(_fixOptions);



	var _getRenderProperties2 = _interopRequireDefault(_getRenderProperties);



	var _optionsFromStrings2 = _interopRequireDefault(_optionsFromStrings);



	var _ErrorHandler2 = _interopRequireDefault(_ErrorHandler);





	var _defaults2 = _interopRequireDefault(_defaults);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	// The protype of the object returned from the JsBarcode() call


	// Help functions
	var API = function API() {};

	// The first call of the library API
	// Will return an object with all barcodes calls and the data that is used
	// by the renderers


	// Default values


	// Exceptions
	// Import all the barcodes
	var JsBarcode = function JsBarcode(element, text, options) {
		var api = new API();

		if (typeof element === "undefined") {
			throw Error("No element to render on was provided.");
		}

		// Variables that will be pased through the API calls
		api._renderProperties = (0, _getRenderProperties2.default)(element);
		api._encodings = [];
		api._options = _defaults2.default;
		api._errorHandler = new _ErrorHandler2.default(api);

		// If text is set, use the simple syntax (render the barcode directly)
		if (typeof text !== "undefined") {
			options = options || {};

			if (!options.format) {
				options.format = autoSelectBarcode();
			}

			api.options(options)[options.format](text, options).render();
		}

		return api;
	};

	// To make tests work TODO: remove
	JsBarcode.getModule = function (name) {
		return _barcodes2.default[name];
	};

	// Register all barcodes
	for (var name in _barcodes2.default) {
		if (_barcodes2.default.hasOwnProperty(name)) {
			// Security check if the propery is a prototype property
			registerBarcode(_barcodes2.default, name);
		}
	}
	function registerBarcode(barcodes, name) {
		API.prototype[name] = API.prototype[name.toUpperCase()] = API.prototype[name.toLowerCase()] = function (text, options) {
			var api = this;
			return api._errorHandler.wrapBarcodeCall(function () {
				// Ensure text is options.text
				options.text = typeof options.text === 'undefined' ? undefined : '' + options.text;

				var newOptions = (0, _merge2.default)(api._options, options);
				newOptions = (0, _optionsFromStrings2.default)(newOptions);
				var Encoder = barcodes[name];
				var encoded = encode(text, Encoder, newOptions);
				api._encodings.push(encoded);

				return api;
			});
		};
	}

	// encode() handles the Encoder call and builds the binary string to be rendered
	function encode(text, Encoder, options) {
		// Ensure that text is a string
		text = "" + text;

		var encoder = new Encoder(text, options);

		// If the input is not valid for the encoder, throw error.
		// If the valid callback option is set, call it instead of throwing error
		if (!encoder.valid()) {
			throw new _exceptions.InvalidInputException(encoder.constructor.name, text);
		}

		// Make a request for the binary data (and other infromation) that should be rendered
		var encoded = encoder.encode();

		// Encodings can be nestled like [[1-1, 1-2], 2, [3-1, 3-2]
		// Convert to [1-1, 1-2, 2, 3-1, 3-2]
		encoded = (0, _linearizeEncodings2.default)(encoded);

		// Merge
		for (var i = 0; i < encoded.length; i++) {
			encoded[i].options = (0, _merge2.default)(options, encoded[i].options);
		}

		return encoded;
	}

	function autoSelectBarcode() {
		// If CODE128 exists. Use it
		if (_barcodes2.default["CODE128"]) {
			return "CODE128";
		}

		// Else, take the first (probably only) barcode
		return Object.keys(_barcodes2.default)[0];
	}

	// Sets global encoder options
	// Added to the api by the JsBarcode function
	API.prototype.options = function (options) {
		this._options = (0, _merge2.default)(this._options, options);
		return this;
	};

	// Will create a blank space (usually in between barcodes)
	API.prototype.blank = function (size) {
		var zeroes = new Array(size + 1).join("0");
		this._encodings.push({ data: zeroes });
		return this;
	};

	// Initialize JsBarcode on all HTML elements defined.
	API.prototype.init = function () {
		// Should do nothing if no elements where found
		if (!this._renderProperties) {
			return;
		}

		// Make sure renderProperies is an array
		if (!Array.isArray(this._renderProperties)) {
			this._renderProperties = [this._renderProperties];
		}

		var renderProperty;
		for (var i in this._renderProperties) {
			renderProperty = this._renderProperties[i];
			var options = (0, _merge2.default)(this._options, renderProperty.options);

			if (options.format == "auto") {
				options.format = autoSelectBarcode();
			}

			this._errorHandler.wrapBarcodeCall(function () {
				var text = options.value;
				var Encoder = _barcodes2.default[options.format.toUpperCase()];
				var encoded = encode(text, Encoder, options);

				render(renderProperty, encoded, options);
			});
		}
	};

	// The render API call. Calls the real render function.
	API.prototype.render = function () {
		if (!this._renderProperties) {
			throw new _exceptions.NoElementException();
		}

		if (Array.isArray(this._renderProperties)) {
			for (var i = 0; i < this._renderProperties.length; i++) {
				render(this._renderProperties[i], this._encodings, this._options);
			}
		} else {
			render(this._renderProperties, this._encodings, this._options);
		}

		return this;
	};

	API.prototype._defaults = _defaults2.default;

	// Prepares the encodings and calls the renderer
	function render(renderProperties, encodings, options) {
		encodings = (0, _linearizeEncodings2.default)(encodings);

		for (var i = 0; i < encodings.length; i++) {
			encodings[i].options = (0, _merge2.default)(options, encodings[i].options);
			(0, _fixOptions2.default)(encodings[i].options);
		}

		(0, _fixOptions2.default)(options);

		var Renderer = renderProperties.renderer;
		var renderer = new Renderer(renderProperties.element, encodings, options);
		renderer.render();

		if (renderProperties.afterRender) {
			renderProperties.afterRender();
		}
	}

	// Export to browser
	if (typeof window !== "undefined") {
		window.JsBarcode = JsBarcode;
	}

	// Export to jQuery
	/*global jQuery */
	if (typeof jQuery !== 'undefined') {
		jQuery.fn.JsBarcode = function (content, options) {
			var elementArray = [];
			jQuery(this).each(function () {
				elementArray.push(this);
			});
			return JsBarcode(elementArray, content, options);
		};
	}

	// Export to commonJS
	module.exports = JsBarcode;
	});

	var JsBarcode = unwrapExports(JsBarcode_1);

	frappe.ui.form.ControlBarcode = frappe.ui.form.ControlData.extend({
		make_wrapper: function make_wrapper() {
			// Create the elements for barcode area
			this._super();

			this.default_svg = '<svg height=80></svg>';
			var $input_wrapper = this.$wrapper.find('.control-input-wrapper');
			this.barcode_area = $(
				("<div class=\"barcode-wrapper\">" + (this.default_svg) + "</div>")
			);
			this.barcode_area.appendTo($input_wrapper);
		},

		parse: function parse(value) {
			// Parse raw value
			if (value) {
				if (value.startsWith('<svg')) {
					return value;
				}
				return this.get_barcode_html(value);
			}
			return '';
		},

		set_formatted_input: function set_formatted_input(value) {
			// Set values to display
			var svg = value;
			var barcode_value = '';

			if (value && value.startsWith('<svg')) {
				barcode_value = $(svg).attr('data-barcode-value');
			}

			if (!barcode_value && this.doc) {
				svg = this.get_barcode_html(value);
				this.doc[this.df.fieldname] = svg;
			}

			this.$input.val(barcode_value || value);
			this.barcode_area.html(svg || this.default_svg);
		},

		get_barcode_html: function get_barcode_html(value) {
			if (value) {
				// Get svg
				var svg = this.barcode_area.find('svg')[0];
				JsBarcode(svg, value, this.get_options(value));
				$(svg).attr('data-barcode-value', value);
				$(svg).attr('width', '100%');
				return this.barcode_area.html();
			}
		},

		get_options: function get_options(value) {
			// get JsBarcode options
			var options = {};
			options.fontSize = "16";
			options.width = "3";
			options.height = "50";

			if (frappe.utils.is_json(this.df.options)) {
				options = JSON.parse(this.df.options);
				if (options.format && options.format === 'EAN') {
					options.format = value.length == 8 ? 'EAN8' : 'EAN13';
				}

				if (options.valueField) {
					// Set companion field value
					this.frm && this.frm.set_value(options.valueField, value);
				}
			}
			return options;
		}
	});

	frappe.provide('frappe.utils.utils');

	frappe.ui.form.ControlGeolocation = frappe.ui.form.ControlData.extend({
		horizontal: false,

		make_wrapper: function make_wrapper() {
			var this$1 = this;

			// Create the elements for map area
			this._super();

			var $input_wrapper = this.$wrapper.find('.control-input-wrapper');
			this.map_id = frappe.dom.get_unique_id();
			this.map_area = $(
				"<div class=\"map-wrapper border\">\n\t\t\t\t<div id=\"" + this.map_id + "\" style=\"min-height: 400px; z-index: 1; max-width:100%\"></div>\n\t\t\t</div>"
			);
			this.map_area.prependTo($input_wrapper);
			this.$wrapper.find('.control-input').addClass("hidden");

			if (this.frm) {
				this.make_map();
			} else {
				$(document).on('frappe.ui.Dialog:shown', function () {
					this$1.make_map();
				});
			}
		},

		make_map: function make_map() {
			this.bind_leaflet_map();
			this.bind_leaflet_draw_control();
			this.bind_leaflet_locate_control();
			this.bind_leaflet_refresh_button();
		},

		format_for_input: function format_for_input(value) {
			if (!this.map) { return; }
			// render raw value from db into map
			this.clear_editable_layers();
			if(value) {
				var data_layers = new L.FeatureGroup()
					.addLayer(L.geoJson(JSON.parse(value),{
						pointToLayer: function(geoJsonPoint, latlng) {
							if (geoJsonPoint.properties.point_type == "circle"){
								return L.circle(latlng, {radius: geoJsonPoint.properties.radius});
							} else if (geoJsonPoint.properties.point_type == "circlemarker") {
								return L.circleMarker(latlng, {radius: geoJsonPoint.properties.radius});
							}
							else {
								return L.marker(latlng);
							}
						}
					}));
				this.add_non_group_layers(data_layers, this.editableLayers);
				try {
					this.map.flyToBounds(this.editableLayers.getBounds(), {
						padding: [50,50]
					});
				}
				catch(err) {
					// suppress error if layer has a point.
				}
				this.editableLayers.addTo(this.map);
				this.map._onResize();
			} else if ((value===undefined) || (value == JSON.stringify(new L.FeatureGroup().toGeoJSON()))) {
				this.locate_control.start();
			}
		},

		bind_leaflet_map: function bind_leaflet_map() {
			var circleToGeoJSON = L.Circle.prototype.toGeoJSON;
			L.Circle.include({
				toGeoJSON: function() {
					var feature = circleToGeoJSON.call(this);
					feature.properties = {
						point_type: 'circle',
						radius: this.getRadius()
					};
					return feature;
				}
			});

			L.CircleMarker.include({
				toGeoJSON: function() {
					var feature = circleToGeoJSON.call(this);
					feature.properties = {
						point_type: 'circlemarker',
						radius: this.getRadius()
					};
					return feature;
				}
			});

			L.Icon.Default.imagePath = '/assets/frappe/images/leaflet/';
			this.map = L.map(this.map_id).setView(frappe.utils.map_defaults.center,
				frappe.utils.map_defaults.zoom);

			L.tileLayer(frappe.utils.map_defaults.tiles,
				frappe.utils.map_defaults.options).addTo(this.map);
		},

		bind_leaflet_locate_control: function bind_leaflet_locate_control() {
			// To request location update and set location, sets current geolocation on load
			this.locate_control = L.control.locate({position:'topright'});
			this.locate_control.addTo(this.map);
		},

		bind_leaflet_draw_control: function bind_leaflet_draw_control() {
			var this$1 = this;

			this.editableLayers = new L.FeatureGroup();

			var options = {
				position: 'topleft',
				draw: {
					polyline: {
						shapeOptions: {
							color: frappe.ui.color.get('blue'),
							weight: 10
						}
					},
					polygon: {
						allowIntersection: false, // Restricts shapes to simple polygons
						drawError: {
							color: frappe.ui.color.get('orange'), // Color the shape will turn when intersects
							message: '<strong>Oh snap!<strong> you can\'t draw that!' // Message that will show when intersect
						},
						shapeOptions: {
							color: frappe.ui.color.get('blue')
						}
					},
					circle: true,
					rectangle: {
						shapeOptions: {
							clickable: false
						}
					}
				},
				edit: {
					featureGroup: this.editableLayers, //REQUIRED!!
					remove: true
				}
			};

			// create control and add to map
			var drawControl = new L.Control.Draw(options);

			this.map.addControl(drawControl);

			this.map.on('draw:created', function (e) {
				var type = e.layerType,
					layer = e.layer;
				if (type === 'marker') {
					layer.bindPopup('Marker');
				}
				this$1.editableLayers.addLayer(layer);
				this$1.set_value(JSON.stringify(this$1.editableLayers.toGeoJSON()));
			});

			this.map.on('draw:deleted draw:edited', function (e) {
				var layer = e.layer;
				this$1.editableLayers.removeLayer(layer);
				this$1.set_value(JSON.stringify(this$1.editableLayers.toGeoJSON()));
			});
		},

		bind_leaflet_refresh_button: function bind_leaflet_refresh_button() {
			L.easyButton({
				id: 'refresh-map-'+this.df.fieldname,
				position: 'topright',
				type: 'replace',
				leafletClasses: true,
				states:[{
					stateName: 'refresh-map',
					onClick: function(button, map){
						map._onResize();
					},
					title: 'Refresh map',
					icon: 'fa fa-refresh'
				}]
			}).addTo(this.map);
		},

		add_non_group_layers: function add_non_group_layers(source_layer, target_group) {
			var this$1 = this;

			// https://gis.stackexchange.com/a/203773
			// Would benefit from https://github.com/Leaflet/Leaflet/issues/4461
			if (source_layer instanceof L.LayerGroup) {
				source_layer.eachLayer(function (layer){
					this$1.add_non_group_layers(layer, target_group);
				});
			} else {
				target_group.addLayer(source_layer);
			}
		},

		clear_editable_layers: function clear_editable_layers() {
			var this$1 = this;

			this.editableLayers.eachLayer(function (l){
				this$1.editableLayers.removeLayer(l);
			});
		}
	});

	frappe.ui.form.ControlMultiSelect = frappe.ui.form.ControlAutocomplete.extend({
		get_awesomplete_settings: function get_awesomplete_settings() {
			var settings = this._super();

			return Object.assign(settings, {
				filter: function(text, input) {
					var d = this.get_item(text.value);
					if(!d) {
						return awesomplete.FILTER_CONTAINS(text, input.match(/[^,]*$/)[0]);
					}

					var getMatch = function (value) { return awesomplete.FILTER_CONTAINS(value, input.match(/[^,]*$/)[0]); };

					// match typed input with label or value or description
					var v = getMatch(d.label);
					if(!v && d.value) {
						v = getMatch(d.value);
					}
					if(!v && d.description) {
						v = getMatch(d.description);
					}

					return v;
				},

				replace: function(text) {
					var before = this.input.value.match(/^.+,\s*|/)[0];
					this.input.value = before + text + ", ";
				}
			});
		},

		get_value: function get_value() {
			var this$1 = this;

			var data = this._super();
			// find value of label from option list and return actual value string
			if (this.df.options && this.df.options.length && this.df.options[0].label) {
				data = data.split(',').map(function (op) { return op.trim(); });
				data = data.map(function (val) {
					var option = this$1.df.options.find(function (op) { return op.label === val; });
					return option ? option.value : null;
				}).filter(function (n) { return n != null; }).join(', ');
			}
			return data;
		},

		set_formatted_input: function set_formatted_input(value) {
			var this$1 = this;

			if (!value) { return; }
			// find label of value from option list and set from it as input
			if (this.df.options && this.df.options.length && this.df.options[0].label) {
				value = value.split(',').map(function (d) { return d.trim(); }).map(function (val) {
					var option = this$1.df.options.find(function (op) { return op.value === val; });
					return option ? option.label : val;
				}).filter(function (n) { return n != null; }).join(', ');
			}
			this._super(value);
		},

		get_values: function get_values() {
			var value = this.get_value() || '';
			var values = value.split(/\s*,\s*/).filter(function (d) { return d; });

			return values;
		},

		get_data: function get_data() {
			var data;
			if(this.df.get_data) {
				data = this.df.get_data();
				if (data) { this.set_data(data); }
			} else {
				data = this._super();
			}
			var values = this.get_values() || [];

			// return values which are not already selected
			if(data) { data.filter(function (d) { return !values.includes(d); }); }
			return data;
		}
	});

	frappe.ui.form.ControlMultiCheck = frappe.ui.form.Control.extend({
		// UI: multiple checkboxes
		// Value: Array of values
		// Options: Array of label/value/checked option objects

		make: function make() {
			this._super();
			if (this.df.label) {
				this.$label = $(("<label class=\"control-label\">" + (this.df.label) + "</label>")).appendTo(this.wrapper);
			}
			this.$load_state = $(("<div class=\"load-state text-muted small\">" + (__("Loading")) + "...</div>"));
			this.$select_buttons = this.get_select_buttons().appendTo(this.wrapper);
			this.$load_state.appendTo(this.wrapper);

			var row = this.get_column_size() === 12 ? '' : 'row';
			this.$checkbox_area = $(("<div class=\"checkbox-options " + row + "\"></div>")).appendTo(this.wrapper);
			this.refresh();
		},

		refresh: function refresh() {
			this.set_options();
			this.bind_checkboxes();
			this.refresh_input();
			this._super();
		},

		refresh_input: function refresh_input() {
			this.select_options(this.selected_options);
		},


		set_options: function set_options() {
			var this$1 = this;

			this.$load_state.show();
			this.$select_buttons.hide();
			this.parse_df_options();

			if(this.df.get_data) {
				if(typeof this.df.get_data().then == 'function') {
					this.df.get_data().then(function (results) {
						this$1.options = results;
						this$1.make_checkboxes();
					});
				} else {
					this.options = this.df.get_data();
					this.make_checkboxes();
				}
			} else {
				this.make_checkboxes();
			}
		},

		parse_df_options: function parse_df_options() {
			if(Array.isArray(this.df.options)) {
				this.options = this.df.options;
			} else if(this.df.options && this.df.options.length>0 && frappe.utils.is_json(this.df.options)) {
				var args = JSON.parse(this.df.options);
				if(Array.isArray(args)) {
					this.options = args;
				} else if(Array.isArray(args.options)) {
					this.options = args.options;
				}
			} else {
				this.options = [];
			}
		},

		make_checkboxes: function make_checkboxes() {
			var this$1 = this;

			this.$load_state.hide();
			this.$checkbox_area.empty();
			this.options.forEach(function (option) {
				var checkbox = this$1.get_checkbox_element(option).appendTo(this$1.$checkbox_area);
				if (option.danger) {
					checkbox.find('.label-area').addClass('text-danger');
				}
				option.$checkbox = checkbox;
			});
			if(this.df.select_all) {
				this.setup_select_all();
			}
			this.set_checked_options();
		},

		bind_checkboxes: function bind_checkboxes() {
			var this$1 = this;

			$(this.wrapper).on('change', ':checkbox', function (e) {
				var $checkbox = $(e.target);
				var option_name = $checkbox.attr("data-unit");
				if($checkbox.is(':checked')) {
					if(this$1.selected_options.includes(option_name)) { return; }
					this$1.selected_options.push(option_name);
				} else {
					var index = this$1.selected_options.indexOf(option_name);
					if(index > -1) {
						this$1.selected_options.splice(index, 1);
					}
				}
				this$1.df.on_change && this$1.df.on_change();
			});
		},

		set_checked_options: function set_checked_options() {
			this.selected_options = this.options
				.filter(function (o) { return o.checked; })
				.map(function (o) { return o.value; });
			this.select_options(this.selected_options);
		},

		setup_select_all: function setup_select_all() {
			var this$1 = this;

			this.$select_buttons.show();
			this.$select_buttons.find('.select-all').on('click', function () {
				this$1.select_all();
			});
			this.$select_buttons.find('.deselect-all').on('click', function () {
				this$1.select_all(true);
			});
		},

		select_all: function select_all(deselect) {
			if ( deselect === void 0 ) deselect=false;

			$(this.wrapper).find(":checkbox").prop("checked", deselect).trigger('click');
		},

		select_options: function select_options(selected_options) {
			var this$1 = this;

			this.options.map(function (option) { return option.value; }).forEach(function (value) {
				var $checkbox = $(this$1.wrapper).find((":checkbox[data-unit=\"" + value + "\"]"))[0];
				if($checkbox) { $checkbox.checked = selected_options.includes(value); }
			});
		},

		get_value: function get_value() {
			return this.selected_options;
		},

		get_checked_options: function get_checked_options() {
			return this.get_value();
		},

		get_unchecked_options: function get_unchecked_options() {
			var this$1 = this;

			return this.options.map(function (o) { return o.value; })
				.filter(function (value) { return !this$1.selected_options.includes(value); });
		},

		get_checkbox_element: function get_checkbox_element(option) {
			var column_size = this.get_column_size();
			return $(("\n\t\t\t<div class=\"checkbox unit-checkbox col-sm-" + column_size + "\">\n\t\t\t\t<label title=\"" + (option.description || '') + "\">\n\t\t\t\t\t<input type=\"checkbox\" data-unit=\"" + (option.value) + "\"></input>\n\t\t\t\t\t<span class=\"label-area\" data-unit=\"" + (option.value) + "\">" + (__(option.label)) + "</span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t"));
		},

		get_select_buttons: function get_select_buttons() {
			return $(("\n\t\t<div class=\"bulk-select-options\">\n\t\t\t<button class=\"btn btn-xs btn-default select-all\">\n\t\t\t\t" + (__("Select All")) + "\n\t\t\t</button>\n\t\t\t<button class=\"btn btn-xs btn-default deselect-all\">\n\t\t\t\t" + (__("Unselect All")) + "\n\t\t\t</button>\n\t\t</div>\n\t\t"));
		},

		get_column_size: function get_column_size() {
			return 12 / (+this.df.columns || 1);
		}
	});

	frappe.ui.form.ControlTableMultiSelect = frappe.ui.form.ControlLink.extend({
		make_input: function make_input() {
			var this$1 = this;

			this._super();

			this.$input_area.addClass('form-control table-multiselect');
			this.$input.removeClass('form-control');

			this.$input.on("awesomplete-selectcomplete", function () {
				this$1.$input.val('').focus();
			});

			// used as an internal model to store values
			this.rows = [];
			// used as an internal model to filter awesomplete values
			this._rows_list = [];

			this.$input_area.on('click', function (e) {
				if (e.target === this$1.$input_area.get(0)) {
					this$1.$input.focus();
				}
			});

			this.$input_area.on('click', '.btn-remove', function (e) {
				var $target = $(e.currentTarget);
				var $value = $target.closest('.tb-selected-value');

				var value = decodeURIComponent($value.data().value);
				var link_field = this$1.get_link_field();
				this$1.rows = this$1.rows.filter(function (row) { return row[link_field.fieldname] !== value; });

				this$1.parse_validate_and_set_in_model('');
			});
			this.$input_area.on('click', '.btn-link-to-form', function (e) {
				var $target = $(e.currentTarget);
				var $value = $target.closest('.tb-selected-value');

				var value = decodeURIComponent($value.data().value);
				var link_field = this$1.get_link_field();
				frappe.set_route('Form', link_field.options, value);
			});
			this.$input.on('keydown', function (e) {
				// if backspace key pressed on empty input, delete last value
				if (e.keyCode == frappe.ui.keyCode.BACKSPACE && e.target.value === '') {
					this$1.rows = this$1.rows.slice(0, this$1.rows.length - 1);
					this$1.parse_validate_and_set_in_model('');
				}
			});
		},
		setup_buttons: function setup_buttons() {
			this.$input_area.find('.link-btn').remove();
		},
		parse: function parse(value) {
			var obj;

			var link_field = this.get_link_field();

			if (value) {
				if (this.frm) {
					var new_row = frappe.model.add_child(this.frm.doc, this.df.options, this.df.fieldname);
					new_row[link_field.fieldname] = value;
					this.rows = this.frm.doc[this.df.fieldname];
				} else {
					this.rows.push(( obj = {}, obj[link_field.fieldname] = value, obj ));
				}
			}
			this._rows_list = this.rows.map(function (row) { return row[link_field.fieldname]; });
			return this.rows;
		},
		get_model_value: function get_model_value() {
			var value = this._super();
			return value ? value.filter(function (d) { return !d.__islocal; }) : value;
		},
		validate: function validate(value) {
			var rows = (value || []).slice();

			// validate the value just entered
			if (this.df.ignore_link_validation) {
				return rows;
			}

			var link_field = this.get_link_field();
			if (rows.length === 0) {
				return rows;
			}

			var all_rows_except_last = rows.slice(0, rows.length - 1);
			var last_row = rows[rows.length - 1];

			// validate the last value entered
			var link_value = last_row[link_field.fieldname];

			// falsy value
			if (!link_value) {
				return all_rows_except_last;
			}

			// duplicate value
			if (all_rows_except_last.map(function (row) { return row[link_field.fieldname]; }).includes(link_value)) {
				return all_rows_except_last;
			}

			var validate_promise = this.validate_link_and_fetch(this.df, this.get_options(),
				this.docname, link_value);

			return validate_promise.then(function (validated_value) {
				if (validated_value === link_value) {
					return rows;
				} else {
					rows.pop();
					return rows;
				}
			});
		},
		set_formatted_input: function set_formatted_input(value) {
			this.rows = value || [];
			var link_field = this.get_link_field();
			var values = this.rows.map(function (row) { return row[link_field.fieldname]; });
			this.set_pill_html(values);
		},
		set_pill_html: function set_pill_html(values) {
			var this$1 = this;

			var html = values
				.map(function (value) { return this$1.get_pill_html(value); })
				.join('');

			this.$input_area.find('.tb-selected-value').remove();
			this.$input_area.prepend(html);
		},
		get_pill_html: function get_pill_html(value) {
			var encoded_value = encodeURIComponent(value);
			return ("\n\t\t\t<button class=\"data-pill btn tb-selected-value\" data-value=\"" + encoded_value + "\">\n\t\t\t\t<span class=\"btn-link-to-form\">" + (__(value)) + "</span>\n\t\t\t\t<span class=\"btn-remove\">" + (frappe.utils.icon('close')) + "</span>\n\t\t\t</button>\n\t\t");
		},
		get_options: function get_options() {
			return (this.get_link_field() || {}).options;
		},
		get_link_field: function get_link_field() {
			if (!this._link_field) {
				var meta = frappe.get_meta(this.df.options);
				this._link_field = meta.fields.find(function (df) { return df.fieldtype === 'Link'; });
				if (!this._link_field) {
					throw new Error('Table MultiSelect requires a Table with atleast one Link field');
				}
			}
			return this._link_field;
		},
		custom_awesomplete_filter: function(awesomplete) {
			var me = this;

			awesomplete.filter = function(item) {
				if (in_list(me._rows_list, item.value)) {
					return false;
				}

				return true;
			};
		}
	});

	frappe.ui.form.ControlMultiSelectPills = frappe.ui.form.ControlAutocomplete.extend({
		make_input: function make_input() {
			var this$1 = this;

			this._super();
			this.$input_area = $(this.input_area);
			this.$multiselect_wrapper = $('<div>')
				.addClass('form-control table-multiselect')
				.appendTo(this.$input_area);

			this.$input.removeClass('form-control');
			this.$input_area.find('.awesomplete').appendTo(this.$multiselect_wrapper);

			this.$input.on("awesomplete-selectcomplete", function () {
				this$1.$input.val('').focus();
			});

			// used as an internal model to store values
			this.rows = [];

			this.$input_area.on('click', '.btn-remove', function (e) {
				var $target = $(e.currentTarget);
				var $value = $target.closest('.tb-selected-value');

				var value = decodeURIComponent($value.data().value);
				this$1.rows = this$1.rows.filter(function (val) { return val !== value; });

				this$1.parse_validate_and_set_in_model('');
			});

			this.$input.on('keydown', function (e) {
				// if backspace key pressed on empty input, delete last value
				if (e.keyCode == frappe.ui.keyCode.BACKSPACE && e.target.value === '') {
					this$1.rows = this$1.rows.slice(0, this$1.rows.length - 1);
					this$1.parse_validate_and_set_in_model('');
				}
			});
		},

		parse: function parse(value) {
			if (value) {
				this.rows.push(value);
			}

			return this.rows;
		},

		validate: function validate(value) {
			var rows = (value || []).slice();

			if (rows.length === 0) {
				return rows;
			}

			var all_rows_except_last = rows.slice(0, rows.length - 1);
			var last_value = rows[rows.length - 1];

			// falsy value
			if (!last_value) {
				return all_rows_except_last;
			}

			// duplicate value
			if (all_rows_except_last.includes(last_value)) {
				return all_rows_except_last;
			}

			return rows;
		},

		set_formatted_input: function set_formatted_input(value) {
			this.rows = value || [];
			this.set_pill_html(this.rows);
		},

		set_pill_html: function set_pill_html(values) {
			var this$1 = this;

			var html = values
				.map(function (value) { return this$1.get_pill_html(value); })
				.join('');

			this.$multiselect_wrapper.find('.tb-selected-value').remove();
			this.$multiselect_wrapper.prepend(html);
		},

		get_pill_html: function get_pill_html(value) {
			var encoded_value = encodeURIComponent(value);
			return ("\n\t\t\t<button class=\"data-pill btn tb-selected-value\" data-value=\"" + encoded_value + "\">\n\t\t\t\t<span class=\"btn-link-to-form\">" + (__(value)) + "</span>\n\t\t\t\t<span class=\"btn-remove\">" + (frappe.utils.icon('close')) + "</span>\n\t\t\t</button>\n\t\t");
		},

		get_awesomplete_settings: function get_awesomplete_settings() {
			var settings = this._super();

			return Object.assign(settings, {
				filter: function(text, input) {
					var d = this.get_item(text.value);
					if(!d) {
						return awesomplete.FILTER_CONTAINS(text, input.match(/[^,]*$/)[0]);
					}

					var getMatch = function (value) { return awesomplete.FILTER_CONTAINS(value, input.match(/[^,]*$/)[0]); };

					// match typed input with label or value or description
					var v = getMatch(d.label);
					if(!v && d.value) {
						v = getMatch(d.value);
					}
					if(!v && d.description) {
						v = getMatch(d.description);
					}

					return v;
				}
			});
		},

		get_value: function get_value() {
			return this.rows;
		},

		get_values: function get_values() {
			return this.rows;
		},

		get_data: function get_data() {
			var this$1 = this;

			var data;
			if(this.df.get_data) {
				var txt = this.$input.val();
				data = this.df.get_data(txt);
				if (data && data.then) {
					data.then(function (r) {
						this$1.set_data(r);
					});
					data = this.get_value();
				} else {
					this.set_data(data);
				}
			} else {
				data = this._super();
			}
			var values = this.get_values() || [];

			// return values which are not already selected
			if (data) { data.filter(function (d) { return !values.includes(d); }); }
			return data;
		}
	});

	frappe.ui.form.ControlMultiSelectList = frappe.ui.form.ControlData.extend({
		trigger_change_on_input_event: false,
		make_input: function make_input() {
			var this$1 = this;

			var template  = "\n\t\t\t<div class=\"multiselect-list dropdown\">\n\t\t\t\t<div class=\"form-control cursor-pointer input-xs\" data-toggle=\"dropdown\" tabindex=0>\n\t\t\t\t\t<div class=\"status-text ellipsis\"></div>\n\t\t\t\t</div>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li class=\"dropdown-input-wrapper\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control input-xs\">\n\t\t\t\t\t</li>\n\t\t\t\t\t<div class=\"selectable-items\">\n\t\t\t\t\t</div>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t";

			this.$list_wrapper = $(template);
			this.$input = $('<input>');
			this.input = this.$input.get(0);
			this.has_input = true;
			this.$list_wrapper.prependTo(this.input_area);
			this.$filter_input = this.$list_wrapper.find('input');
			this.$list_wrapper.on('click', '.dropdown-menu', function (e) {
				e.stopPropagation();
			});
			this.$list_wrapper.on('click', '.selectable-item', function (e) {
				var $target = $(e.currentTarget);
				this$1.toggle_select_item($target);
			});
			this.$list_wrapper.on('input', 'input', frappe.utils.debounce(function (e) {
				this$1.set_options()
					.then(function () {
						var txt = e.target.value;
						var filtered_options = this$1._options.filter(function (opt) {
							var match = false;
							if (this$1.values.includes(opt.value)) {
								return true;
							}
							match = Awesomplete.FILTER_CONTAINS(opt.label, txt)
								|| Awesomplete.FILTER_CONTAINS(opt.value, txt)
								|| Awesomplete.FILTER_CONTAINS(opt.description, txt);

							return match;
						});
						var options = this$1._selected_values
							.concat(filtered_options)
							.uniqBy(function (opt) { return opt.value; });
						this$1.set_selectable_items(options);
					});
			}, 300));
			this.$list_wrapper.on('keydown', 'input', function (e) {
				if (e.key === 'ArrowDown') {
					this$1.highlight_item(1);
				} else if (e.key === 'ArrowUp') {
					this$1.highlight_item(-1);
				} else if (e.key === 'Enter') {
					if (this$1._$last_highlighted) {
						this$1.toggle_select_item(this$1._$last_highlighted);
						return false;
					}
				}
			});

			this.$list_wrapper.on('keydown', function (e) {
				if ($(e.target).is('input')) {
					return;
				}
				if (e.key === 'Backspace') {
					this$1.set_value([]);
				}
			});

			this.$list_wrapper.on('show.bs.dropdown', function () {
				this$1.set_options()
					.then(function () {
						this$1.set_selectable_items(this$1._options);
					});
			});

			this.set_input_attributes();
			this.values = [];
			this._options = [];
			this._selected_values = [];
			this.highlighted = -1;
		},

		set_input_attributes: function set_input_attributes() {
			this.$list_wrapper
				.attr("data-fieldtype", this.df.fieldtype)
				.attr("data-fieldname", this.df.fieldname);

			this.set_status(this.get_placeholder_text());

			if (this.doctype) {
				this.$list_wrapper.attr("data-doctype", this.doctype);
			}
			if(this.df.input_css) {
				this.$list_wrapper.css(this.df.input_css);
			}
			if(this.df.input_class) {
				this.$list_wrapper.addClass(this.df.input_class);
			}
		},

		toggle_select_item: function toggle_select_item($selectable_item) {
			$selectable_item.toggleClass('selected');
			var value = decodeURIComponent($selectable_item.data().value);

			if ($selectable_item.hasClass('selected')) {
				this.values = this.values.slice();
				this.values.push(value);
			} else {
				this.values = this.values.filter(function (val) { return val !== value; });
			}
			this.update_selected_values(value);
			this.parse_validate_and_set_in_model('');
			this.update_status();
		},

		set_value: function set_value(value) {
			var this$1 = this;

			if (!value) { return Promise.resolve(); }
			if (typeof value === 'string') {
				value = [value];
			}
			this.values = value;
			this.values.forEach(function (value) {
				this$1.update_selected_values(value);
			});
			this.parse_validate_and_set_in_model('');
			this.update_status();
			return Promise.resolve();
		},

		update_selected_values: function update_selected_values(value) {
			this._selected_values = this._selected_values || [];
			var option = this._options.find(function (opt) { return opt.value === value; });
			if (option) {
				if (this.values.includes(value)) {
					this._selected_values.push(option);
				} else {
					this._selected_values = this._selected_values.filter(function (opt) { return opt.value !== value; });
				}
			}
		},

		update_status: function update_status() {
			var text;
			if (this.values.length === 0) {
				text = this.get_placeholder_text();
			} else if (this.values.length === 1) {
				var val = this.values[0];
				var option = this._options.find(function (opt) { return opt.value === val; });
				text = option ? option.label : val;
			} else {
				text = __('{0} values selected', [this.values.length]);
			}
			this.set_status(text);
		},

		get_placeholder_text: function get_placeholder_text() {
			return ("<span class=\"text-extra-muted\">" + (this.df.placeholder || '') + "</span>");
		},

		set_status: function set_status(text) {
			this.$list_wrapper.find('.status-text').html(text);
		},

		set_options: function set_options() {
			var this$1 = this;

			var promise = Promise.resolve();

			function process_options(options) {
				return options.map(function (option) {
					if (typeof option === 'string') {
						return {
							label: option,
							value: option
						};
					}
					if (!option.label) {
						option.label = option.value;
					}
					return option;
				});
			}

			if (this.df.get_data) {
				var txt = this.$filter_input.val();
				var value = this.df.get_data(txt);
				if (!value) {
					this._options = [];
				} else if (value.then) {
					promise = value.then(function (options) {
						this$1._options = process_options(options);
					});
				} else {
					this._options = process_options(value);
				}
			} else {
				this._options = process_options(this.df.options);
			}
			return promise;
		},

		set_selectable_items: function set_selectable_items(options) {
			var this$1 = this;

			var html = options.map(function (option) {
				var encoded_value = encodeURIComponent(option.value);
				var selected = this$1.values.includes(option.value) ? 'selected' : '';
				return ("<li class=\"selectable-item " + selected + "\" data-value=\"" + encoded_value + "\">\n\t\t\t\t<div>\n\t\t\t\t\t<strong>" + (option.label) + "</strong>\n\t\t\t\t\t<div class=\"small\">" + (option.description) + "</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"multiselect-check\">" + (frappe.utils.icon('tick', 'xs')) + "</div>\n\t\t\t</li>");
			}).join('');
			if (!html) {
				html = "<li class=\"text-muted\">" + (__('No values to show')) + "</li>";
			}
			this.$list_wrapper
				.find('.selectable-items')
				.html(html);

			this.highlighted = -1;
		},

		get_value: function get_value() {
			return this.values;
		},

		highlight_item: function highlight_item(value) {
			this.highlighted += value;

			if (this.highlighted < 0) {
				this.highlighted = 0;
			}
			var $items = this.$list_wrapper.find('.selectable-item');
			if (this.highlighted > $items.length - 1) {
				this.highlighted = $items.length - 1;
			}

			var $item = $items[this.highlighted];

			if (this._$last_highlighted) {
				this._$last_highlighted.removeClass('highlighted');
			}
			this._$last_highlighted = $($item).addClass('highlighted');
			this.scroll_dropdown_if_needed($item);
		},

		scroll_dropdown_if_needed: function scroll_dropdown_if_needed($item) {
			if ($item.scrollIntoView) {
				$item.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });
			} else {
				$item.parentNode.scrollTop = $item.offsetTop - $item.parentNode.offsetTop;
			}
		}
	});

	frappe.ui.form.ControlRating  = frappe.ui.form.ControlInt.extend({
		make_input: function make_input() {
			var this$1 = this;

			this._super();
			var stars = '';
			[1, 2, 3, 4, 5].forEach(function (i) {
				stars += "<svg class=\"icon icon-md\" data-rating=" + i + ">\n\t\t\t\t<use href=\"#icon-star\"></use>\n\t\t\t</svg>";
			});
			var star_template = "\n\t\t\t<div class=\"rating\">\n\t\t\t\t" + stars + "\n\t\t\t</div>\n\t\t";

			$(this.input_area).html(star_template);

			$(this.input_area).find('svg').hover(function (ev) {
				var el = $(ev.currentTarget);
				var star_value = el.data('rating');
				el.parent().children('svg').each( function(e) {
					if (e < star_value) {
						$(this).addClass('star-hover');
					} else {
						$(this).removeClass('star-hover');
					}
				});
			}, function (ev) {
				var el = $(ev.currentTarget);
				el.parent().children('svg').each( function() {
					$(this).removeClass('star-hover');
				});
			});

			$(this.input_area).find('svg').click(function (ev) {
				var el = $(ev.currentTarget);
				var star_value = el.data('rating');
				el.parent().children('svg').each( function(e) {
					if (e < star_value) {
						$(this).addClass('star-click');
					} else {
						$(this).removeClass('star-click');
					}
				});
				this$1.validate_and_set_in_model(star_value, ev);
				if (this$1.doctype && this$1.docname) {
					this$1.set_input(star_value);
				}
			});
		},
		get_value: function get_value() {
			return cint(this.value, null);
		},
		set_formatted_input: function set_formatted_input(value) {
			var el = $(this.input_area).find('svg');
			el.children('svg').prevObject.each( function(e) {
				if (e < value) {
					$(this).addClass('star-click');
				} else {
					$(this).removeClass('star-click');
				}
			});
		}
	});

	frappe.ui.form.ControlDuration = frappe.ui.form.ControlData.extend({
		make_input: function() {
			this._super();
			this.make_picker();
		},

		make_picker: function() {
			this.inputs = [];
			this.set_duration_options();
			this.$picker = $(
				"<div class=\"duration-picker\">\n\t\t\t\t<div class=\"picker-row row\"></div>\n\t\t\t</div>"
			);
			this.$wrapper.append(this.$picker);
			this.build_numeric_input("days", this.duration_options.hide_days);
			this.build_numeric_input("hours", false);
			this.build_numeric_input("minutes", false);
			this.build_numeric_input("seconds", this.duration_options.hide_seconds);
			this.set_duration_picker_value(this.value);
			this.$picker.hide();
			this.bind_events();
			this.refresh();
		},

		build_numeric_input: function(label, hidden, max) {
			var $duration_input = $(("\n\t\t\t<input class=\"input-sm duration-input\" data-duration=\"" + label + "\" type=\"number\" min=\"0\" value=\"0\">\n\t\t"));

			var $input = $("<div class=\"row duration-row\"></div>").prepend($duration_input);

			if (max) {
				$duration_input.attr("max", max);
			}

			this.inputs[label] = $duration_input;

			var $control = $(("\n\t\t\t<div class=\"col duration-col\">\n\t\t\t\t<div class=\"row duration-row duration-label\">" + (__(label)) + "</div>\n\t\t\t</div>")
			);

			if (hidden) {
				$control.addClass("hidden");
			}
			$control.prepend($input);
			$control.appendTo(this.$picker.find(".picker-row"));
		},

		set_duration_options: function set_duration_options() {
			this.duration_options = frappe.utils.get_duration_options(this.df);
		},

		set_duration_picker_value: function(value) {
			var this$1 = this;

			var total_duration = frappe.utils.seconds_to_duration(value, this.duration_options);

			if (this.$picker) {
				Object.keys(total_duration).forEach(function (duration) {
					this$1.inputs[duration].prop("value", total_duration[duration]);
				});
			}
		},

		bind_events: function() {
			var this$1 = this;

			// flag to handle the display property of the picker
			var clicked = false;

			this.$wrapper.find(".duration-input").mousedown(function () {
				// input in individual duration boxes
				clicked = true;
			});

			this.$picker.on("change", ".duration-input", function () {
				// duration changed in individual boxes
				clicked = false;
				var duration = this$1.get_duration();
				var value = frappe.utils.duration_to_seconds(
					duration.days,
					duration.hours,
					duration.minutes,
					duration.seconds
				);
				this$1.set_value(value);
				this$1.set_focus();
			});

			this.$input.on("focus", function () {
				this$1.$picker.show();
				var is_picker_set = this$1.is_duration_picker_set(this$1.inputs);
				if (!is_picker_set) {
					this$1.set_duration_picker_value(this$1.value);
				}
			});

			this.$input.on("blur", function () {
				// input in duration boxes, don't close the picker
				if (clicked) {
					clicked = false;
				} else {
					// blur event was not due to duration inputs
					this$1.$picker.hide();
				}
			});
		},

		get_value: function get_value() {
			return cint(this.value);
		},

		refresh_input: function() {
			this._super();
			this.set_duration_options();
			this.set_duration_picker_value(this.value);
		},

		format_for_input: function(value) {
			return frappe.utils.get_formatted_duration(value, this.duration_options);
		},

		get_duration: function get_duration() {
			// returns an object of days, hours, minutes and seconds from the inputs array
			var total_duration = {
				minutes: 0,
				hours: 0,
				days: 0,
				seconds: 0
			};
			if (this.inputs) {
				total_duration.minutes = parseInt(this.inputs.minutes.val());
				total_duration.hours = parseInt(this.inputs.hours.val());
				if (!this.duration_options.hide_days) {
					total_duration.days = parseInt(this.inputs.days.val());
				}
				if (!this.duration_options.hide_seconds) {
					total_duration.seconds = parseInt(this.inputs.seconds.val());
				}
			}
			return total_duration;
		},

		is_duration_picker_set: function is_duration_picker_set(inputs) {
			var is_set = false;
			Object.values(inputs).forEach(function (duration) {
				if (duration.prop("value") != 0) {
					is_set = true;
				}
			});
			return is_set;
		}
	});

	class Picker$1 {
		constructor(opts) {
			this.parent = opts.parent;
			this.width = opts.width;
			this.height = opts.height;
			this.set_icon(opts.icon);
			this.icons = opts.icons;
			this.setup_picker();
		}

		refresh() {
			this.update_icon_selected(true);
		}

		setup_picker() {
			this.icon_picker_wrapper = $(("\n\t\t\t<div class=\"icon-picker\">\n\t\t\t\t<div class=\"search-icons\">\n\t\t\t\t\t<input type=\"search\" placeholder=\"Search for icons..\" class=\"form-control\">\n\t\t\t\t\t<span class=\"search-icon\">" + (frappe.utils.icon('search', "sm")) + "</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"icon-section\">\n\t\t\t\t\t<div class=\"icons\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"));
			this.parent.append(this.icon_picker_wrapper);
			this.icon_wrapper = this.icon_picker_wrapper.find('.icons');
			this.search_input = this.icon_picker_wrapper.find('.search-icons > input');
			this.refresh();
			this.setup_icons();
		}

		setup_icons() {
			var this$1 = this;

			this.icons.forEach(function (icon) {
				var $icon = $(("<div id=\"" + icon + "\" class=\"icon-wrapper\">" + (frappe.utils.icon(icon, "md")) + "</div>"));
				this$1.icon_wrapper.append($icon);
				var set_values = function () {
					this$1.set_icon(icon);
					this$1.update_icon_selected();
				};
				$icon.on('click', function () {
					set_values();
				});
				$icon.keydown(function (e) {
					var key_code = e.keyCode;
					if ([13, 32].includes(key_code)) {
						e.preventDefault();
						set_values();
					}
				});
				this$1.search_input.keyup(function (e) {
					e.preventDefault();
					this$1.filter_icons();
				});

				this$1.search_input.on('search', function () {
					this$1.filter_icons();
				});
			});
		}

		filter_icons() {
			var value = this.search_input.val();
			if (!value) {
				this.icon_wrapper.find(".icon-wrapper").removeClass('hidden');
			} else {
				this.icon_wrapper.find(".icon-wrapper").addClass('hidden');
				this.icon_wrapper.find((".icon-wrapper[id*='" + value + "']")).removeClass('hidden');
			}
		}

		update_icon_selected(silent) {
			!silent && this.on_change && this.on_change(this.get_icon());
		}

		set_icon(icon) {
			this.icon = icon || '';
		}

		get_icon() {
			return this.icon || '';
		}
	}

	frappe.ui.form.ControlIcon = class ControlIcon extends frappe.ui.form.ControlData {
		make_input() {
			this.df.placeholder = this.df.placeholder || __('Choose an icon');
			super.make_input();
			this.get_all_icons();
			this.make_icon_input();
		}

		get_all_icons() {
			frappe.symbols = [];
			$("#frappe-symbols > symbol[id]").each(function() {
				frappe.symbols.push(this.id.replace('icon-', ''));
			});
		}

		make_icon_input() {
			var this$1 = this;

			var picker_wrapper = $('<div>');
			this.picker = new Picker$1({
				parent: picker_wrapper,
				icon: this.get_icon(),
				icons: frappe.symbols
			});

			this.$wrapper.popover({
				trigger: 'manual',
				offset: ((-this.$wrapper.width() / 4.5) + ", 5"),
				boundary: 'viewport',
				placement: 'bottom',
				template: "\n\t\t\t\t<div class=\"popover icon-picker-popover\">\n\t\t\t\t\t<div class=\"picker-arrow arrow\"></div>\n\t\t\t\t\t<div class=\"popover-body popover-content\"></div>\n\t\t\t\t</div>\n\t\t\t",
				content: function () { return picker_wrapper; },
				html: true
			}).on('show.bs.popover', function () {
				setTimeout(function () {
					this$1.picker.refresh();
				}, 10);
			}).on('hidden.bs.popover', function () {
				$('body').off('click.icon-popover');
				$(window).off('hashchange.icon-popover');
			});

			this.picker.on_change = function (icon) {
				this$1.set_value(icon);
			};

			if (!this.selected_icon) {
				this.selected_icon = $(("<div class=\"selected-icon\">" + (frappe.utils.icon("folder-normal", "md")) + "</div>"));
				this.selected_icon.insertAfter(this.$input);
			}

			this.$wrapper.find('.selected-icon').parent().on('click', function (e) {
				this$1.$wrapper.popover('toggle');
				if (!this$1.get_icon()) {
					this$1.$input.val('');
				}
				e.stopPropagation();
				$('body').on('click.icon-popover', function (ev) {
					if (!$(ev.target).parents().is('.popover')) {
						this$1.$wrapper.popover('hide');
					}
				});
				$(window).on('hashchange.icon-popover', function () {
					this$1.$wrapper.popover('hide');
				});
			});
		}

		refresh() {
			super.refresh();
			var icon = this.get_icon();
			if (this.picker && this.picker.icon !== icon) {
				this.picker.icon = icon;
				this.picker.refresh();
			}
		}

		set_formatted_input(value) {
			super.set_formatted_input(value);
			this.$input.val(value);
			this.selected_icon.find("use").attr("href", "#icon-"+(value || "folder-normal"));
			this.selected_icon.toggleClass('no-value', !value);
		}

		get_icon() {
			return this.get_value() || 'folder-normal';
		}
	};

	frappe.ui.form.make_control = function (opts) {
		var control_class_name = "Control" + opts.df.fieldtype.replace(/ /g, "");
		if(frappe.ui.form[control_class_name]) {
			return new frappe.ui.form[control_class_name](opts);
		} else {
			// eslint-disable-next-line
			console.log("Invalid Control Name: " + opts.df.fieldtype);
		}
	};

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt

	frappe.provide('frappe.views.formview');

	frappe.views.FormFactory = class FormFactory extends frappe.views.Factory {
		make(route) {
			var this$1 = this;

			var doctype = route[1],
				doctype_layout = frappe.router.doctype_layout || doctype;

			if (!frappe.views.formview[doctype_layout]) {
				frappe.model.with_doctype(doctype, function () {
					this$1.page = frappe.container.add_page(doctype_layout);
					frappe.views.formview[doctype_layout] = this$1.page;
					this$1.make_and_show(doctype, route);
				});
			} else {
				this.show_doc(route);
			}

			this.setup_events();
		}

		make_and_show(doctype, route) {
			var this$1 = this;

			if (frappe.router.doctype_layout) {
				frappe.model.with_doc('DocType Layout', frappe.router.doctype_layout, function () {
					this$1.make_form(doctype);
					this$1.show_doc(route);
				});
			} else {
				this.make_form(doctype);
				this.show_doc(route);
			}
		}

		make_form(doctype) {
			this.page.frm = new frappe.ui.form.Form(doctype, this.page, true, frappe.router.doctype_layout);
		}

		setup_events() {
			if (!this.initialized) {
				$(document).on("page-change", function() {
					frappe.ui.form.close_grid_form();
				});

				frappe.realtime.on("doc_viewers", function(data) {
					// set users that currently viewing the form
					frappe.ui.form.FormViewers.set_users(data, 'viewers');
				});

				frappe.realtime.on("doc_typers", function(data) {
					// set users that currently typing on the form
					frappe.ui.form.FormViewers.set_users(data, 'typers');
				});
			}
			this.initialized = true;
		}

		show_doc(route) {
			var doctype = route[1],
				doctype_layout = frappe.router.doctype_layout || doctype,
				name = route.slice(2).join("/");

			if (frappe.model.new_names[name]) {
				// document has been renamed, reroute
				name = frappe.model.new_names[name];
				frappe.set_route("Form", doctype_layout, name);
				return;
			}

			var doc = frappe.get_doc(doctype, name);
			if (doc && frappe.model.get_docinfo(doctype, name) && (doc.__islocal || frappe.model.is_fresh(doc))) {
				// is document available and recent?
				this.render(doctype_layout, name);
			} else {
				this.fetch_and_render(doctype, name, doctype_layout);
			}
		}

		fetch_and_render(doctype, name, doctype_layout) {
			var this$1 = this;

			frappe.model.with_doc(doctype, name, function (name, r) {
				if (r && r['403']) { return; } // not permitted

				if (!(locals[doctype] && locals[doctype][name])) {
					if (name && name.substr(0, 3) === 'new') {
						this$1.render_new_doc(doctype, name, doctype_layout);
					} else {
						frappe.show_not_found();
					}
					return;
				}
				this$1.render(doctype_layout, name);
			});
		}

		render_new_doc(doctype, name, doctype_layout) {
			var new_name = frappe.model.make_new_doc_and_get_name(doctype, true);
			if (new_name===name) {
				this.render(doctype_layout, name);
			} else {
				frappe.route_flags.replace_route = true;
				frappe.set_route("Form", doctype_layout, new_name);
			}
		}

		render(doctype_layout, name) {
			frappe.container.change_to(doctype_layout);
			frappe.views.formview[doctype_layout].frm.refresh(name);
		}
	};

	frappe.provide('frappe.ui.form');

	frappe.quick_edit = function(doctype, name) {
		frappe.db.get_doc(doctype, name).then(function (doc) {
			frappe.ui.form.make_quick_entry(doctype, null, null, doc);
		});
	};

	frappe.ui.form.make_quick_entry = function (doctype, after_insert, init_callback, doc, force) {
		var trimmed_doctype = doctype.replace(/ /g, '');
		var controller_name = "QuickEntryForm";

		if(frappe.ui.form[trimmed_doctype + "QuickEntryForm"]){
			controller_name = trimmed_doctype + "QuickEntryForm";
		}

		frappe.quick_entry = new frappe.ui.form[controller_name](doctype, after_insert, init_callback, doc, force);
		return frappe.quick_entry.setup();
	};

	frappe.ui.form.QuickEntryForm = Class.extend({
		init: function(doctype, after_insert, init_callback, doc, force) {
			this.doctype = doctype;
			this.after_insert = after_insert;
			this.init_callback = init_callback;
			this.doc = doc;
			this.force = force ? force : false;
		},

		setup: function() {
			var this$1 = this;

			return new Promise(function (resolve) {
				frappe.model.with_doctype(this$1.doctype, function () {
					this$1.check_quick_entry_doc();
					this$1.set_meta_and_mandatory_fields();
					if (this$1.is_quick_entry() || this$1.force) {
						this$1.render_dialog();
						resolve(this$1);
					} else {
						// no quick entry, open full form
						frappe.quick_entry = null;
						frappe.set_route('Form', this$1.doctype, this$1.doc.name)
							.then(function () { return resolve(this$1); });
						// call init_callback for consistency
						if (this$1.init_callback) {
							this$1.init_callback(this$1.doc);
						}
					}
				});
			});
		},

		set_meta_and_mandatory_fields: function() {
			this.meta = frappe.get_meta(this.doctype);
			var fields = this.meta.fields;

			// prepare a list of mandatory, bold and allow in quick entry fields
			this.mandatory = fields.filter(function (df) {
				return ((df.reqd || df.bold || df.allow_in_quick_entry) && !df.read_only);
			});
		},

		check_quick_entry_doc: function() {
			if (!this.doc) {
				this.doc = frappe.model.get_new_doc(this.doctype, null, null, true);
			}
		},

		is_quick_entry: function() {
			if(this.meta.quick_entry != 1) {
				return false;
			}

			this.validate_for_prompt_autoname();

			if (this.has_child_table() || !this.mandatory.length) {
				return false;
			}

			return true;
		},

		too_many_mandatory_fields: function() {
			if(this.mandatory.length > 7) {
				// too many fields, show form
				return true;
			}
			return false;
		},

		has_child_table: function(){
			if($.map(this.mandatory, function(d) {
				return d.fieldtype==='Table' ? d : null; }).length) {
				// has mandatory table, quit!
				return true;
			}
			return false;
		},

		validate_for_prompt_autoname: function() {
			if(this.meta.autoname && this.meta.autoname.toLowerCase()==='prompt') {
				this.mandatory = [{fieldname:'__newname', label:__('{0} Name', [this.meta.name]),
					reqd: 1, fieldtype:'Data'}].concat(this.mandatory);
			}
		},

		render_dialog: function() {
			var me = this;
			this.dialog = new frappe.ui.Dialog({
				title: __("New {0}", [__(this.doctype)]),
				fields: this.mandatory,
				doc: this.doc
			});

			this.register_primary_action();
			!this.force && this.render_edit_in_full_page_link();
			// ctrl+enter to save
			this.dialog.wrapper.keydown(function(e) {
				if((e.ctrlKey || e.metaKey) && e.which==13) {
					if(!frappe.request.ajax_count) {
						// not already working -- double entry
						me.dialog.get_primary_btn().trigger("click");
						e.preventDefault();
						return false;
					}
				}
			});

			this.dialog.onhide = function () { return frappe.quick_entry = null; };
			this.dialog.show();

			this.dialog.refresh_dependency();
			this.set_defaults();

			if (this.init_callback) {
				this.init_callback(this.dialog);
			}
		},

		register_primary_action: function() {
			var me = this;
			this.dialog.set_primary_action(__('Save'), function() {
				if(me.dialog.working) {
					return;
				}
				var data = me.dialog.get_values();

				if(data) {
					me.dialog.working = true;
					me.dialog.set_message(__('Saving...'));
					me.insert().then(function () {
						me.dialog.clear_message();
					});
				}
			});
		},

		insert: function() {
			var me = this;
			return new Promise(function (resolve) {
				me.update_doc();
				frappe.call({
					method: "frappe.client.save",
					args: {
						doc: me.dialog.doc
					},
					callback: function(r) {

						if (frappe.model.is_submittable(me.doctype)) {
							frappe.run_serially([
								function () { return me.dialog.working = true; },
								function () {
									me.dialog.set_primary_action(__('Submit'), function() {
										me.submit(r.message);
									});
								}
							]);
						} else {
							me.dialog.hide();
							// delete the old doc
							frappe.model.clear_doc(me.dialog.doc.doctype, me.dialog.doc.name);
							me.dialog.doc = r.message;
							if(frappe._from_link) {
								frappe.ui.form.update_calling_link(me.dialog.doc);
							} else {
								if(me.after_insert) {
									me.after_insert(me.dialog.doc);
								} else {
									me.open_form_if_not_list();
								}
							}
						}
					},
					error: function() {
						if (!me.skip_redirect_on_error) {
							me.open_doc(true);
						}
					},
					always: function() {
						me.dialog.working = false;
						resolve(me.dialog.doc);
					},
					freeze: true
				});
			});
		},

		submit: function(doc) {
			var me = this;
			frappe.call({
				method: "frappe.client.submit",
				args : {
					doc: doc
				},
				callback: function(r) {
					me.dialog.hide();
					// delete the old doc
					frappe.model.clear_doc(me.dialog.doc.doctype, me.dialog.doc.name);
					me.dialog.doc = r.message;
					if (frappe._from_link) {
						frappe.ui.form.update_calling_link(me.dialog.doc);
					} else {
						if (me.after_insert) {
							me.after_insert(me.dialog.doc);
						} else {
							me.open_form_if_not_list();
						}
					}

					cur_frm && cur_frm.reload_doc();
				}
			});
		},

		open_form_if_not_list: function() {
			var route = frappe.get_route();
			var doc = this.dialog.doc;
			if (route && !(route[0]==='List' && route[1]===doc.doctype)) {
				frappe.run_serially([
					function () { return frappe.set_route('Form', doc.doctype, doc.name); }
				]);
			}
		},

		update_doc: function(){
			var me = this;
			var data = this.dialog.get_values(true);
			$.each(data, function(key, value) {
				if (!is_null(value)) {
					me.dialog.doc[key] = value;
				}
			});
			return this.dialog.doc;
		},

		open_doc: function(set_hooks) {
			var this$1 = this;

			this.dialog.hide();
			this.update_doc();
			if (set_hooks && this.after_insert) {
				frappe.route_options = frappe.route_options || {};
				frappe.route_options.after_save = function (frm) {
					this$1.after_insert(frm);
				};
			}
			frappe.set_route('Form', this.doctype, this.doc.name);
		},

		render_edit_in_full_page_link: function() {
			var me = this;
			this.dialog.add_custom_action(
				("" + (__("Edit in full page"))),
				function () { return me.open_doc(true); }
			);
		},

		set_defaults: function() {
			var me = this;
			// set defaults
			$.each(this.dialog.fields_dict, function(fieldname, field) {
				field.doctype = me.doc.doctype;
				field.docname = me.doc.name;

				if (!is_null(me.doc[fieldname])) {
					field.set_input(me.doc[fieldname]);
				}
			});
		}
	});

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt


	frappe.ui.form.LinkedWith = class LinkedWith {

		constructor(opts) {
			$.extend(this, opts);
		}

		show() {
			if(!this.dialog)
				{ this.make_dialog(); }

			$(this.dialog.body).html(
				("<div class=\"text-muted text-center\" style=\"padding: 30px 0px\">\n\t\t\t\t" + (__("Loading")) + "...\n\t\t\t</div>"));

			this.dialog.show();
		}

		make_dialog() {
			var this$1 = this;


			this.dialog = new frappe.ui.Dialog({
				title: __("Linked With")
			});

			this.dialog.on_page_show = function () {
				// execute ajax calls sequentially
				// 1. get linked doctypes
				// 2. load all doctypes
				// 3. load linked docs
				this$1.get_linked_doctypes()
					.then(function () { return this$1.load_doctypes(); })
					.then(function () { return this$1.links_not_permitted_or_missing(); })
					.then(function () { return this$1.get_linked_docs(); })
					.then(function () { return this$1.make_html(); });
			};
		}

		make_html() {
			var this$1 = this;

			var linked_docs = this.frm.__linked_docs;

			var html = '';

			var linked_doctypes = Object.keys(linked_docs);

			if (linked_doctypes.length === 0) {
				html = __("Not Linked to any record");
			} else {
				html = linked_doctypes.map(function (doctype) {
					var docs = linked_docs[doctype];
					return ("\n\t\t\t\t\t<div class=\"list-item-table margin-bottom\">\n\t\t\t\t\t\t" + (this$1.make_doc_head(doctype)) + "\n\t\t\t\t\t\t" + (docs.map(function (doc) { return this$1.make_doc_row(doc, doctype); }).join('')) + "\n\t\t\t\t\t</div>\n\t\t\t\t");
				}).join('');
			}

			$(this.dialog.body).html(html);
		}

		load_doctypes() {
			var this$1 = this;

			var already_loaded = Object.keys(locals.DocType);
			var doctypes_to_load = [];

			if (this.frm.__linked_doctypes) {
				doctypes_to_load =
					Object.keys(this.frm.__linked_doctypes)
						.filter(function (doctype) { return !already_loaded.includes(doctype); });
			}

			// load all doctypes asynchronously using with_doctype
			var promises = doctypes_to_load.map(function (dt) {
				return frappe.model.with_doctype(dt, function () {
					if(frappe.listview_settings[dt]) {
						// add additional fields to __linked_doctypes
						this$1.frm.__linked_doctypes[dt].add_fields =
							frappe.listview_settings[dt].add_fields;
					}
				});
			});

			return Promise.all(promises);
		}

		links_not_permitted_or_missing() {
			var links = null;

			if (this.frm.__linked_doctypes) {
				links =
					Object.keys(this.frm.__linked_doctypes)
						.filter(frappe.model.can_get_report);
			}

			var flag;
			if(!links) {
				$(this.dialog.body).html(("" + (this.frm.__linked_doctypes
					? __("Not enough permission to see links")
					: __("Not Linked to any record"))));
				flag = true;
			}
			flag = false;

			// reject Promise if not_permitted or missing
			return new Promise(
				function (resolve, reject) { return flag ? reject() : resolve(); }
			);
		}

		get_linked_doctypes() {
			var this$1 = this;

			return new Promise(function (resolve) {
				if (this$1.frm.__linked_doctypes) {
					resolve();
				}

				frappe.call({
					method: "frappe.desk.form.linked_with.get_linked_doctypes",
					args: {
						doctype: this$1.frm.doctype
					},
					callback: function (r) {
						this$1.frm.__linked_doctypes = r.message;
						resolve();
					}
				});
			});
		}

		get_linked_docs() {
			var this$1 = this;

			return frappe.call({
				method: "frappe.desk.form.linked_with.get_linked_docs",
				args: {
					doctype: this.frm.doctype,
					name: this.frm.docname,
					linkinfo: this.frm.__linked_doctypes,
					for_doctype: this.for_doctype
				},
				callback: function (r) {
					this$1.frm.__linked_docs = r.message || {};
				}
			});
		}

		make_doc_head(heading) {
			return ("\n\t\t\t<header class=\"level list-row list-row-head text-muted small\">\n\t\t\t\t<div>" + (__(heading)) + "</div>\n\t\t\t</header>\n\t\t");
		}

		make_doc_row(doc, doctype) {
			return ("<div class=\"list-row-container\">\n\t\t\t<div class=\"level list-row small\">\n\t\t\t\t<div class=\"level-left bold\">\n\t\t\t\t\t<a href=\"/app/" + (frappe.router.slug(doctype)) + "/" + (doc.name) + "\">" + (doc.name) + "</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>");
		}
	};

	frappe.ui.form.FormViewers = class FormViewers {
		constructor(ref) {
		var frm = ref.frm;
		var parent = ref.parent;

			this.frm = frm;
			this.parent = parent;
			this.parent.tooltip({ title: __('Currently Viewing') });
		}

		refresh() {
			var users = this.frm.get_docinfo()['viewers'];
			if (!users || !users.current || !users.current.length) {
				this.parent.empty();
				return;
			}

			var currently_viewing = users.current.filter(function (user) { return user != frappe.session.user; });
			var avatar_group = frappe.avatar_group(currently_viewing, 5, {'align': 'left', 'overlap': true});
			this.parent.empty().append(avatar_group);
		}
	};

	frappe.ui.form.FormViewers.set_users = function(data, type) {
		var doctype = data.doctype;
		var docname = data.docname;
		var docinfo = frappe.model.get_docinfo(doctype, docname);

		var past_users = ((docinfo && docinfo[type]) || {}).past || [];
		var users = data.users || [];
		var new_users = users.filter(function (user) { return !past_users.includes(user); });

		frappe.model.set_docinfo(doctype, docname, type, {
			past: past_users.concat(new_users),
			new: new_users,
			current: users
		});

		if (
			cur_frm &&
			cur_frm.doc &&
			cur_frm.doc.doctype === doctype &&
			cur_frm.doc.name == docname &&
			cur_frm.viewers
		) {
			cur_frm.viewers.refresh(true, type);
		}
	};

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors

	frappe.ui.form.Toolbar = class Toolbar {
		constructor(opts) {
			$.extend(this, opts);
			this.refresh();
			this.add_update_button_on_dirty();
			this.setup_editable_title();
		}
		refresh() {
			this.make_menu();
			this.make_viewers();
			this.set_title();
			this.page.clear_user_actions();
			this.show_title_as_dirty();
			this.set_primary_action();

			if(this.frm.meta.hide_toolbar) {
				this.page.hide_menu();
			} else {
				if(this.frm.doc.__islocal) {
					this.page.hide_menu();
					this.print_icon && this.print_icon.addClass("hide");
				} else {
					this.page.show_menu();
					this.print_icon && this.print_icon.removeClass("hide");
				}
			}
		}
		set_title() {
			var this$1 = this;

			if (this.frm.is_new()) {
				var title = __('New {0}', [__(this.frm.meta.name)]);
			} else if (this.frm.meta.title_field) {
				var title_field = (this.frm.doc[this.frm.meta.title_field] || "").toString().trim();
				var title = strip_html(title_field || this.frm.docname);
				if(this.frm.doc.__islocal || title === this.frm.docname || this.frm.meta.autoname==="hash") {
					this.page.set_title_sub("");
				} else {
					this.page.set_title_sub(this.frm.docname);
					this.page.$sub_title_area.css("cursor", "copy");
					this.page.$sub_title_area.on('click', function (event) {
						event.stopImmediatePropagation();
						frappe.utils.copy_to_clipboard(this$1.frm.docname);
					});
				}
			} else {
				var title = this.frm.docname;
			}
			title = __(title);
			this.page.set_title(title);
			if(this.frm.meta.title_field) {
				frappe.utils.set_title(title + " - " + this.frm.docname);
			}
			this.page.$title_area.toggleClass("editable-title",
				!!(this.is_title_editable() || this.can_rename()));

			this.set_indicator();
		}
		is_title_editable() {
			var title_field = this.frm.meta.title_field;
			var doc_field = this.frm.get_docfield(title_field);

			if (title_field
				&& this.frm.perm[0].write
				&& !this.frm.doc.__islocal
				&& doc_field.fieldtype === "Data"
				&& !doc_field.read_only) {
				return true;
			} else {
				return false;
			}
		}
		can_rename() {
			return this.frm.perm[0].write && this.frm.meta.allow_rename && !this.frm.doc.__islocal;
		}
		show_unchanged_document_alert() {
			frappe.show_alert({
				indicator: "info",
				message: __("Unchanged")
			});
		}
		rename_document_title(new_name, new_title, merge) {
			var this$1 = this;
			if ( merge === void 0 ) merge=false;

			var docname = this.frm.doc.name;
			var title_field = this.frm.meta.title_field || '';
			var doctype = this.frm.doctype;

			var confirm_message=null;

			if (new_name) {
				var warning = __("This cannot be undone");
				var message = __("Are you sure you want to merge {0} with {1}?", [docname.bold(), new_name.bold()]);
				confirm_message = message + "<br><b>" + warning + "<b>";
			}

			var rename_document = function () {
				return frappe.xcall("frappe.model.rename_doc.update_document_title", {
					doctype: doctype,
					docname: docname,
					new_name: new_name,
					title_field: title_field,
					old_title: this$1.frm.doc[title_field],
					new_title: new_title,
					merge: merge,
					freeze: true, 
					freeze_message: __("Updating related fields...")
				}).then(function (new_docname) {
					if (new_name != docname) {
						$(document).trigger("rename", [doctype, docname, new_docname || new_name]);
						if (locals[doctype] && locals[doctype][docname]) { delete locals[doctype][docname]; }
					}
					this$1.frm.reload_doc();
				});
			};

			return new Promise(function (resolve, reject) {
				if (new_title === this$1.frm.doc[title_field] && new_name === docname) {
					this$1.show_unchanged_document_alert();
					resolve();
				} else if (merge) {
					frappe.confirm(confirm_message, function () {
						rename_document().then(resolve).catch(reject);
					}, reject);
				} else {
					rename_document().then(resolve).catch(reject);
				}
			});
		}
		setup_editable_title () {
			var this$1 = this;

			var me = this;

			this.page.$title_area.find(".title-text").on("click", function () {
				var fields = [];
				var docname = me.frm.doc.name;
				var title_field = me.frm.meta.title_field || '';

				// check if title is updatable
				if (me.is_title_editable()) {
					var title_field_label = me.frm.get_docfield(title_field).label;

					fields.push({
						label: __("New {0}", [__(title_field_label)]),
						fieldname: "title",
						fieldtype: "Data",
						reqd: 1,
						default: me.frm.doc[title_field]
					});
				}

				// check if docname is updatable
				if (me.can_rename()) {
					fields.push.apply(fields, [{
						label: __("New Name"),
						fieldname: "name",
						fieldtype: "Data",
						reqd: 1,
						default: docname
					}, {
						label: __("Merge with existing"),
						fieldname: "merge",
						fieldtype: "Check",
						default: 0
					}]);
				}

				// create dialog
				if (fields.length > 0) {
					var d = new frappe.ui.Dialog({
						title: __("Rename"),
						fields: fields
					});
					d.show();
					d.set_primary_action(__("Rename"), function (values) {
						d.disable_primary_action();
						d.hide();
						this$1.rename_document_title(values.name, values.title, values.merge)
							.then(function () {
								d.hide();
							})
							.catch(function () {
								d.enable_primary_action();
							});
					});
				}
			});
		}
		get_dropdown_menu(label) {
			return this.page.add_dropdown(label);
		}
		set_indicator() {
			var indicator = frappe.get_indicator(this.frm.doc);
			if (this.frm.save_disabled && indicator && [__('Saved'), __('Not Saved')].includes(indicator[0])) {
				return;
			}
			if(indicator) {
				this.page.set_indicator(indicator[0], indicator[1]);
			} else {
				this.page.clear_indicator();
			}
		}
		make_menu() {
			this.page.clear_icons();
			this.page.clear_menu();

			if (frappe.boot.desk_settings.form_sidebar) {
				this.make_navigation();
				this.make_menu_items();
			}
		}

		make_viewers() {
			if (this.frm.viewers) {
				return;
			}
			this.frm.viewers = new frappe.ui.form.FormViewers({
				frm: this.frm,
				parent: $('<div class="form-viewers d-flex"></div>').prependTo(this.frm.page.page_actions)
			});
		}

		make_navigation() {
			var this$1 = this;

			// Navigate
			if (!this.frm.is_new() && !this.frm.meta.issingle) {
				this.page.add_action_icon("left", function () {
					this$1.frm.navigate_records(1);
				}, 'prev-doc', __("Previous Document"));
				this.page.add_action_icon("right", function (){
					this$1.frm.navigate_records(0);
				}, 'next-doc', __("Next Document"));
			}
		}

		make_menu_items() {
			var this$1 = this;

			// Print
			var me = this;
			var p = this.frm.perm[0];
			var docstatus = cint(this.frm.doc.docstatus);
			var is_submittable = frappe.model.is_submittable(this.frm.doc.doctype);

			var print_settings = frappe.model.get_doc(":Print Settings", "Print Settings");
			var allow_print_for_draft = cint(print_settings.allow_print_for_draft);
			var allow_print_for_cancelled = cint(print_settings.allow_print_for_cancelled);

			if (!is_submittable || docstatus == 1  ||
				(allow_print_for_cancelled && docstatus == 2)||
				(allow_print_for_draft && docstatus == 0)) {
				if (frappe.model.can_print(null, me.frm) && !this.frm.meta.issingle) {
					this.page.add_menu_item(__("Print"), function() {
						me.frm.print_doc();
					}, true);
					this.print_icon = this.page.add_action_icon("printer", function() {
						me.frm.print_doc();
					}, '', __("Print"));
				}
			}

			// email
			if(frappe.model.can_email(null, me.frm) && me.frm.doc.docstatus < 2) {
				this.page.add_menu_item(__("Email"), function() {
					me.frm.email_doc();
				}, true, {
					shortcut: 'Ctrl+E',
					condition: function () { return !this$1.frm.is_new(); }
				});
			}

			// go to field modal
			this.page.add_menu_item(__("Jump to field"), function() {
				me.show_jump_to_field_dialog();
			}, true, 'Ctrl+J');

			// Linked With
			if(!me.frm.meta.issingle) {
				this.page.add_menu_item(__('Links'), function() {
					me.show_linked_with();
				}, true);
			}

			// duplicate
			if(in_list(frappe.boot.user.can_create, me.frm.doctype) && !me.frm.meta.allow_copy) {
				this.page.add_menu_item(__("Duplicate"), function() {
					me.frm.copy_doc();
				}, true);
			}

			// copy doc to clipboard
			this.page.add_menu_item(__("Copy to Clipboard"), function() {
				frappe.utils.copy_to_clipboard(JSON.stringify(me.frm.doc));
			}, true);

			// rename
			if(this.can_rename()) {
				this.page.add_menu_item(__("Rename"), function() {
					me.frm.rename_doc();
				}, true);
			}

			// reload
			this.page.add_menu_item(__("Reload"), function() {
				me.frm.reload_doc();
			}, true);

			// delete
			if((cint(me.frm.doc.docstatus) != 1) && !me.frm.doc.__islocal
				&& frappe.model.can_delete(me.frm.doctype)) {
				this.page.add_menu_item(__("Delete"), function() {
					me.frm.savetrash();
				}, true, {
					shortcut: 'Shift+Ctrl+D',
					condition: function () { return !this$1.frm.is_new(); }
				});
			}

			this.make_customize_buttons();

			// Auto Repeat
			if(this.can_repeat()) {
				this.page.add_menu_item(__("Repeat"), function(){
					frappe.utils.new_auto_repeat_prompt(me.frm);
				}, true);
			}

			// New
			if(p[CREATE] && !this.frm.meta.issingle) {
				this.page.add_menu_item(__("New {0}", [__(me.frm.doctype)]), function() {
					frappe.new_doc(me.frm.doctype, true);
				}, true, {
					shortcut: 'Ctrl+B',
					condition: function () { return !this$1.frm.is_new(); }
				});
			}
		}

		make_customize_buttons() {
			var this$1 = this;

			if (frappe.user_roles.includes("System Manager")) {
				var is_doctype_form = this.frm.doctype === 'DocType';
				var doctype = is_doctype_form ? this.frm.docname : this.frm.doctype;
				var is_doctype_custom = is_doctype_form ? this.frm.doc.custom : false;

				if (doctype != 'DocType' && !is_doctype_custom && this.frm.meta.issingle === 0) {
					this.page.add_menu_item(__("Customize"), function () {
						if (this$1.frm.meta && this$1.frm.meta.custom) {
							frappe.set_route('Form', 'DocType', doctype);
						} else {
							frappe.set_route('Form', 'Customize Form', {
								doc_type: doctype
							});
						}
					}, true);
				}

				if (frappe.boot.developer_mode===1 && !is_doctype_form) {
					// edit doctype
					this.page.add_menu_item(__("Edit DocType"), function () {
						frappe.set_route('Form', 'DocType', this$1.frm.doctype);
					}, true);
				}
			}

		}

		can_repeat() {
			return this.frm.meta.allow_auto_repeat
				&& !this.frm.is_new()
				&& !this.frm.doc.auto_repeat;
		}
		can_save() {
			return this.get_docstatus()===0;
		}
		can_submit() {
			return this.get_docstatus()===0
				&& !this.frm.doc.__islocal
				&& !this.frm.doc.__unsaved
				&& this.frm.perm[0].submit
				&& !this.has_workflow();
		}
		can_update() {
			return this.get_docstatus()===1
				&& !this.frm.doc.__islocal
				&& this.frm.perm[0].submit
				&& this.frm.doc.__unsaved;
		}
		can_cancel() {
			return this.get_docstatus()===1
				&& this.frm.perm[0].cancel
				&& !this.read_only;
		}
		can_amend() {
			return this.get_docstatus()===2
				&& this.frm.perm[0].amend
				&& !this.read_only;
		}
		has_workflow() {
			if(this._has_workflow === undefined)
				{ this._has_workflow = frappe.get_list("Workflow", {document_type: this.frm.doctype}).length; }
			return this._has_workflow;
		}
		get_docstatus() {
			return cint(this.frm.doc.docstatus);
		}
		show_linked_with() {
			if(!this.frm.linked_with) {
				this.frm.linked_with = new frappe.ui.form.LinkedWith({
					frm: this.frm
				});
			}
			this.frm.linked_with.show();
		}
		set_primary_action(dirty) {
			var this$1 = this;

			if (!dirty) {
				// don't clear actions menu if dirty
				this.page.clear_user_actions();
			}

			var status = this.get_action_status();
			if (status) {
				// When moving from a page with status amend to another page with status amend
				// We need to check if document is already amend specifically and hide
				// or clear the menu actions accordingly

				if (status !== this.current_status && status === 'Amend') {
					var doc = this.frm.doc;
					frappe.xcall('frappe.client.is_document_amended', {
						'doctype': doc.doctype,
						'docname': doc.name
					}).then(function (is_amended) {
						if (is_amended) {
							this$1.page.clear_actions();
							return;
						}
						this$1.set_page_actions(status);
					});
				} else {
					this.set_page_actions(status);
				}
			} else {
				this.page.clear_actions();
				this.current_status = null;
			}
		}
		get_action_status() {
			var status = null;
			if (this.frm.page.current_view_name==='print' || this.frm.hidden) {
				status = "Edit";
			} else if (this.can_submit()) {
				status = "Submit";
			} else if (this.can_save()) {
				if (!this.frm.save_disabled) {
					//Show the save button if there is no workflow or if there is a workflow and there are changes
					if (this.has_workflow() ? this.frm.doc.__unsaved : true) {
						status = "Save";
					}
				}
			} else if (this.can_update()) {
				status = "Update";
			} else if (this.can_cancel()) {
				status = "Cancel";
			} else if (this.can_amend()) {
				status = "Amend";
			}
			return status;
		}
		set_page_actions(status) {
			var this$1 = this;

			var me = this;
			this.page.clear_actions();

			if(status!== 'Edit') {
				var perm_to_check = this.frm.action_perm_type_map[status];
				if(!this.frm.perm[0][perm_to_check]) {
					return;
				}
			}

			if(status === "Edit") {
				this.page.set_primary_action(__("Edit"), function() {
					me.frm.page.set_view('main');
				}, 'edit');
			} else if(status === "Cancel") {
				var add_cancel_button = function () {
					this$1.page.set_secondary_action(__(status), function() {
						me.frm.savecancel(this);
					});
				};
				if (this.has_workflow()) {
					frappe.xcall('frappe.model.workflow.can_cancel_document', {
						'doctype': this.frm.doc.doctype,
					}).then(function (can_cancel) {
						if (can_cancel) {
							add_cancel_button();
						}
					});
				} else {
					add_cancel_button();
				}
			} else {
				var click = {
					"Save": function() {
						return me.frm.save('Save', null, this);
					},
					"Submit": function() {
						return me.frm.savesubmit(this);
					},
					"Update": function() {
						return me.frm.save('Update', null, this);
					},
					"Amend": function() {
						return me.frm.amend_doc();
					}
				}[status];

				var icon = {
					"Update": "edit",
				}[status];

				this.page.set_primary_action(__(status), click, icon);
			}

			this.current_status = status;
		}
		add_update_button_on_dirty() {
			var me = this;
			$(this.frm.wrapper).on("dirty", function() {
				me.show_title_as_dirty();

				// clear workflow actions
				me.frm.page.clear_actions_menu();

				// enable save action
				if(!me.frm.save_disabled) {
					me.set_primary_action(true);
				}
			});
		}
		show_title_as_dirty() {
			if(this.frm.save_disabled)
				{ return; }

			if(this.frm.doc.__unsaved) {
				this.page.set_indicator(__("Not Saved"), "orange");
			}

			$(this.frm.wrapper).attr("data-state", this.frm.doc.__unsaved ? "dirty" : "clean");
		}

		show_jump_to_field_dialog() {
			var this$1 = this;

			var visible_fields_filter = function (f) { return !['Section Break', 'Column Break'].includes(f.df.fieldtype)
				&& !f.df.hidden
				&& f.disp_status !== 'None'; };

			var fields = this.frm.fields
				.filter(visible_fields_filter)
				.map(function (f) { return ({ label: __(f.df.label), value: f.df.fieldname }); });

			var dialog = new frappe.ui.Dialog({
				title: __('Jump to field'),
				fields: [
					{
						fieldtype: 'Autocomplete',
						fieldname: 'fieldname',
						label: __('Select Field'),
						options: fields,
						reqd: 1
					}
				],
				primary_action_label: __('Go'),
				primary_action: function (ref) {
					var fieldname = ref.fieldname;

					dialog.hide();
					this$1.frm.scroll_to_field(fieldname);
				}
			});

			dialog.show();
		}
	};

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt

	frappe.ui.form.Dashboard = class FormDashboard {
		constructor(opts) {
			$.extend(this, opts);
			this.setup_dashboard_sections();
		}

		setup_dashboard_sections() {
			this.progress_area = new Section(this.parent, {
				css_class: 'progress-area',
				hidden: 1,
				collapsible: 1
			});

			this.heatmap_area = new Section(this.parent, {
				title: __("Overview"),
				css_class: 'form-heatmap',
				hidden: 1,
				collapsible: 1,
				body_html: ("\n\t\t\t\t<div id=\"heatmap-" + (frappe.model.scrub(this.frm.doctype)) + "\" class=\"heatmap\"></div>\n\t\t\t\t<div class=\"text-muted small heatmap-message hidden\"></div>\n\t\t\t")
			});

			this.chart_area = new Section(this.parent, {
				title: __("Graph"),
				css_class: 'form-graph',
				hidden: 1,
				collapsible: 1
			});

			this.stats_area_row = $("<div class=\"row\"></div>");
			this.stats_area = new Section(this.parent, {
				title: __("Stats"),
				css_class: 'form-stats',
				hidden: 1,
				collapsible: 1,
				body_html: this.stats_area_row
			});

			this.transactions_area = $("<div class=\"transactions\"></div");
			this.links_area = new Section(this.parent, {
				title: __("Connections"),
				css_class: 'form-links',
				hidden: 1,
				collapsible: 1,
				body_html: this.transactions_area
			});


		}

		reset() {
			this.hide();

			// clear progress
			this.progress_area.body.empty();
			this.progress_area.hide();

			// clear links
			this.links_area.body.find('.count, .open-notification').addClass('hidden');
			this.links_area.hide();

			// clear stats
			this.stats_area_row.empty();
			this.stats_area.hide();

			// clear custom
			this.parent.find('.custom').remove();
			this.hide();
		}

		add_section(body_html, title, css_class, hidden) {
			if ( title === void 0 ) title=null;
			if ( css_class === void 0 ) css_class="custom";
			if ( hidden === void 0 ) hidden=false;

			var options = {
				title: title,
				css_class: css_class,
				hidden: hidden,
				body_html: body_html,
				make_card: true,
				collapsible: 1
			};
			return new Section(this.parent, options).body;
		}

		add_progress(title, percent, message) {
			var progress_chart = this.make_progress_chart(title);

			if (!$.isArray(percent)) {
				percent = this.format_percent(title, percent);
			}

			var progress = $('<div class="progress"></div>').appendTo(progress_chart);

			$.each(percent, function(i, opts) {
				$(("<div class=\"progress-bar " + (opts.progress_class) + "\" style=\"width: " + (opts.width) + "\" title=\"" + (opts.title) + "\"></div>")).appendTo(progress);
			});

			if (!message) { message = ''; }
			$(("<p class=\"progress-message text-muted small\">" + message + "</p>")).appendTo(progress_chart);

			this.show();

			return progress_chart;
		}

		show_progress(title, percent, message) {
			this._progress_map = this._progress_map || {};
			var progress_chart = this._progress_map[title];
			// create a new progress chart if it doesnt exist
			// or the previous one got detached from the DOM
			if (!progress_chart || progress_chart.parent().length == 0) {
				progress_chart = this.add_progress(title, percent, message);
				this._progress_map[title] = progress_chart;
			}

			if (!$.isArray(percent)) {
				percent = this.format_percent(title, percent);
			}
			progress_chart.find('.progress-bar').each(function (i, progress_bar) {
				var ref = percent[i];
				var progress_class = ref.progress_class;
				var width = ref.width;
				$(progress_bar).css('width', width)
					.removeClass('progress-bar-danger progress-bar-success')
					.addClass(progress_class);
			});

			if (!message) { message = ''; }
			progress_chart.find('.progress-message').text(message);
		}

		hide_progress(title) {
			if (title) {
				this._progress_map[title].remove();
				delete this._progress_map[title];
			} else {
				this._progress_map = {};
				this.progress_area.hide();
			}
		}

		format_percent(title, percent) {
			var percentage = cint(percent);
			var width = percentage < 0 ? 100 : percentage;
			var progress_class = percentage < 0 ? "progress-bar-danger" : "progress-bar-success";

			return [{
				title: title,
				width: width + '%',
				progress_class: progress_class
			}];
		}

		make_progress_chart(title) {
			this.progress_area.show();
			var progress_chart = $('<div class="progress-chart" title="'+(title || '')+'"></div>')
				.appendTo(this.progress_area.body);
			return progress_chart;
		}

		refresh() {
			this.reset();
			if (this.frm.doc.__islocal || !frappe.boot.desk_settings.dashboard) {
				return;
			}

			if (!this.data) {
				this.init_data();
			}

			var show = false;

			if (this.data && ((this.data.transactions || []).length
				|| (this.data.reports || []).length)) {
				if (this.data.docstatus && this.frm.doc.docstatus !== this.data.docstatus) {
					// limited docstatus
					return;
				}
				this.render_links();
				show = true;
			}

			if (this.data.heatmap) {
				this.render_heatmap();
				show = true;
			}

			if (this.data.graph) {
				this.setup_graph();
				// show = true;
			}

			if (show) {
				this.show();
			}
		}

		after_refresh() {
			var me = this;
			// show / hide new buttons (if allowed)
			this.links_area.body.find('.btn-new').each(function() {
				if (me.frm.can_create($(this).attr('data-doctype'))) {
					$(this).removeClass('hidden');
				}
			});
			!this.frm.is_new() && this.set_open_count();
		}

		init_data() {
			this.data = this.frm.meta.__dashboard || {};
			if (!this.data.transactions) { this.data.transactions = []; }
			if (!this.data.internal_links) { this.data.internal_links = {}; }
			this.filter_permissions();
		}

		add_transactions(opts) {
			var this$1 = this;

			// add additional data on dashboard
			var group_added = [];

			if (!Array.isArray(opts)) { opts=[opts]; }

			if (!this.data) {
				this.init_data();
			}

			if (this.data && (this.data.transactions || []).length) {
				// check if label already exists, add items to it
				this.data.transactions.map(function (group) {
					opts.map(function (d) {
						var ref;

						if (d.label == group.label) {
							group_added.push(d.label);
							(ref = group.items).push.apply(ref, d.items);
						}
					});
				});

				// if label not already present, add new label and items under it
				opts.map(function (d) {
					if (!group_added.includes(d.label)) {
						this$1.data.transactions.push(d);
					}
				});

				this.filter_permissions();
			}
		}

		filter_permissions() {
			// filter out transactions for which the user
			// does not have permission
			var transactions = [];
			(this.data.transactions || []).forEach(function(group) {
				var items = [];
				group.items.forEach(function(doctype) {
					if (frappe.model.can_read(doctype)) {
						items.push(doctype);
					}
				});

				// only add this group, if there is at-least
				// one item with permission
				if (items.length) {
					group.items = items;
					transactions.push(group);
				}
			});
			this.data.transactions = transactions;
		}

		render_links() {
			var me = this;
			this.links_area.show();
			this.links_area.body.find('.btn-new').addClass('hidden');
			if (this.data_rendered) {
				return;
			}

			this.data.frm = this.frm;

			var transactions_area_body = this.transactions_area;

			$(frappe.render_template('form_links', this.data))
				.appendTo(transactions_area_body);

			this.render_report_links();

			// bind links
			transactions_area_body.find(".badge-link").on('click', function() {
				me.open_document_list($(this).closest('.document-link'));
			});

			// bind open notifications
			transactions_area_body.find('.open-notification').on('click', function() {
				me.open_document_list($(this).parent(), true);
			});

			// bind new
			transactions_area_body.find('.btn-new').on('click', function() {
				me.frm.make_new($(this).attr('data-doctype'));
			});

			this.data_rendered = true;
		}

		render_report_links() {
			var this$1 = this;

			var parent = this.transactions_area;
			if (this.data.reports && this.data.reports.length) {
				$(frappe.render_template('report_links', this.data))
					.appendTo(parent);
				// bind reports
				parent.find(".report-link").on('click', function (e) {
					this$1.open_report($(e.target).parent());
				});
			}
		}

		open_report($link) {
			var report = $link.attr('data-report');

			var fieldname = this.data.non_standard_fieldnames
				? (this.data.non_standard_fieldnames[report] || this.data.fieldname)
				: this.data.fieldname;

			frappe.provide('frappe.route_options');
			frappe.route_options[fieldname] = this.frm.doc.name;
			frappe.set_route("query-report", report);
		}

		open_document_list($link, show_open) {
			// show document list with filters
			var doctype = $link.attr('data-doctype'),
				names = $link.attr('data-names') || [];

			if (this.data.internal_links[doctype]) {
				if (names.length) {
					frappe.route_options = {'name': ['in', names]};
				} else {
					return false;
				}
			} else if (this.data.fieldname) {
				frappe.route_options = this.get_document_filter(doctype);
				if (show_open && frappe.ui.notifications) {
					frappe.ui.notifications.show_open_count_list(doctype);
				}
			}

			frappe.set_route("List", doctype, "List");
		}

		get_document_filter(doctype) {
			// return the default filter for the given document
			// like {"customer": frm.doc.name}
			var filter = {};
			var fieldname = this.data.non_standard_fieldnames
				? (this.data.non_standard_fieldnames[doctype] || this.data.fieldname)
				: this.data.fieldname;

			if (this.data.dynamic_links && this.data.dynamic_links[fieldname]) {
				var dynamic_fieldname = this.data.dynamic_links[fieldname][1];
				filter[dynamic_fieldname] = this.data.dynamic_links[fieldname][0];
			}

			filter[fieldname] = this.frm.doc.name;
			return filter;
		}

		set_open_count() {
			if (!this.data.transactions || !this.data.fieldname) {
				return;
			}

			// list all items from the transaction list
			var items = [],
				me = this;

			this.data.transactions.forEach(function(group) {
				group.items.forEach(function(item) {
					items.push(item);
				});
			});

			var method = this.data.method || 'frappe.desk.notifications.get_open_count';
			frappe.call({
				type: "GET",
				method: method,
				args: {
					doctype: this.frm.doctype,
					name: this.frm.docname,
					items: items
				},
				callback: function(r) {
					if (r.message.timeline_data) {
						me.update_heatmap(r.message.timeline_data);
					}

					// update badges
					$.each(r.message.count, function(i, d) {
						me.frm.dashboard.set_badge_count(d.name, cint(d.open_count), cint(d.count));
					});

					// update from internal links
					$.each(me.data.internal_links, function (doctype, link) {
						var names = [];
						if (typeof link === 'string' || link instanceof String) {
							// get internal links in parent document
							var value = me.frm.doc[link];
							if (value && !names.includes(value)) {
								names.push(value);
							}
						} else if (Array.isArray(link)) {
							// get internal links in child documents
							var table_fieldname = link[0];
							var link_fieldname = link[1];
							(me.frm.doc[table_fieldname] || []).forEach(function (d) {
								var value = d[link_fieldname];
								if (value && !names.includes(value)) {
									names.push(value);
								}
							});
						}
						me.frm.dashboard.set_badge_count(doctype, 0, names.length, names);
					});

					me.frm.dashboard_data = r.message;
					me.frm.trigger('dashboard_update');
				}
			});

		}

		set_badge_count(doctype, open_count, count, names) {
			var $link = $(this.transactions_area)
				.find('.document-link[data-doctype="'+doctype+'"]');

			if (open_count) {
				$link.find('.open-notification')
					.removeClass('hidden')
					.html((open_count > 99) ? '99+' : open_count);
			}

			if (count) {
				$link.find('.count')
					.removeClass('hidden')
					.text((count > 99) ? '99+' : count);
			}

			if (this.data.internal_links[doctype]) {
				if (names && names.length) {
					$link.attr('data-names', names ? names.join(',') : '');
				} else {
					$link.find('a').attr('disabled', true);
				}
			}
		}

		update_heatmap(data) {
			if (this.heatmap) {
				this.heatmap.update({dataPoints: data});
			}
		}

		// heatmap
		render_heatmap() {
			if (!this.heatmap) {
				this.heatmap = new frappe.Chart("#heatmap-" + frappe.model.scrub(this.frm.doctype), {
					type: 'heatmap',
					start: new Date(moment().subtract(1, 'year').toDate()),
					count_label: "interactions",
					discreteDomains: 1,
					radius: 3,
					data: {},
				});

				// center the heatmap
				this.heatmap_area.show();
				this.heatmap_area.body.find('svg').css({'margin': 'auto'});

				// message
				var heatmap_message = this.heatmap_area.body.find('.heatmap-message');
				if (this.data.heatmap_message) {
					heatmap_message.removeClass('hidden').html(this.data.heatmap_message);
				} else {
					heatmap_message.addClass('hidden');
				}
			}
		}

		add_indicator(label, color) {
			this.show();
			this.stats_area.show();


			// set colspan
			var indicators = this.stats_area_row.find('.indicator-column');
			var n_indicators = indicators.length + 1;
			var colspan;
			if (n_indicators > 4) {
				colspan = 3;
			} else {
				colspan = 12 / n_indicators;
			}

			// reset classes in existing indicators
			if (indicators.length) {
				indicators.removeClass().addClass('col-sm-'+colspan).addClass('indicator-column');
			}

			var indicator = $('<div class="col-sm-'+colspan+' indicator-column"><span class="indicator '+color+'">'
				+label+'</span></div>').appendTo(this.stats_area_row);

			return indicator;
		}

		// graphs
		setup_graph() {
			var me = this;
			var method = this.data.graph_method;
			var args = {
				doctype: this.frm.doctype,
				docname: this.frm.doc.name,
			};
			$.extend(args, this.data.graph_method_args);

			frappe.call({
				type: "GET",
				method: method,
				args: args,

				callback: function(r) {
					if (r.message) {
						me.render_graph(r.message);
						me.show();
					} else {
						me.hide();
					}
				}
			});
		}

		render_graph(args) {
			this.chart_area.show();
			this.chart_area.body.empty();
			$.extend({
				type: 'line',
				colors: ['green'],
				truncateLegends: 1,
				axisOptions: {
					shortenYAxisNumbers: 1
				}
			}, args);
			this.show();

			this.chart = new frappe.Chart('.form-graph', args);
			if (!this.chart) {
				this.hide();
			}
		}

		show() {
			this.toggle_visibility(true);
		}

		hide() {
			this.toggle_visibility(false);
		}

		toggle_visibility(show) {
			this.parent.toggleClass('visible-section', show);
			this.parent.toggleClass('empty-section', !show);
		}

		// TODO: Review! code related to headline should be the part of layout/form
		set_headline(html, color) {
			this.frm.layout.show_message(html, color);
		}

		clear_headline() {
			this.frm.layout.show_message();
		}

		add_comment(text, alert_class, permanent) {
			var me = this;
			this.set_headline_alert(text, alert_class);
			if (!permanent) {
				setTimeout(function() {
					me.clear_headline();
				}, 10000);
			}
		}

		clear_comment() {
			this.clear_headline();
		}

		set_headline_alert(text, color) {
			if (text) {
				this.set_headline(("<div>" + text + "</div>"), color);
			} else {
				this.clear_headline();
			}
		}
	};

	class Section {
		constructor(parent, options) {
			this.parent = parent;
			this.df = options || {};
			this.make();

			if (this.df.title && this.df.collapsible && localStorage.getItem(options.css_class + '-closed')) {
				this.collapse();
			}
			this.refresh();
		}

		make() {
			this.wrapper = $(("<div class=\"form-dashboard-section " + (this.df.make_card ? "card-section" : "") + "\">"))
				.appendTo(this.parent);

			if (this.df) {
				if (this.df.title) {
					this.make_head();
				}
				if (this.df.description) {
					this.description_wrapper = $(
						("<div class=\"col-sm-12 form-section-description\">\n\t\t\t\t\t\t" + (__(this.df.description)) + "\n\t\t\t\t\t</div>")
					);

					this.wrapper.append(this.description_wrapper);
				}
				if (this.df.css_class) {
					this.wrapper.addClass(this.df.css_class);
				}
				if (this.df.hide_border) {
					this.wrapper.toggleClass("hide-border", true);
				}
			}

			this.body = $('<div class="section-body">').appendTo(this.wrapper);

			if (this.df.body_html) {
				this.body.append(this.df.body_html);
			}
		}

		make_head() {
			var this$1 = this;

			this.head = $(("\n\t\t\t<div class=\"section-head\">\n\t\t\t\t" + (__(this.df.title)) + "\n\t\t\t\t<span class=\"ml-2 collapse-indicator mb-1\"></span>\n\t\t\t</div>\n\t\t"));

			this.head.appendTo(this.wrapper);
			this.indicator = this.head.find('.collapse-indicator');
			this.indicator.hide();

			if (this.df.collapsible) {
				// show / hide based on status
				this.collapse_link = this.head.on("click", function () {
					this$1.collapse();
				});
				this.set_icon();
				this.indicator.show();
			}
		}

		refresh() {
			if (!this.df) { return; }

			// hide if explicitly hidden
			var hide = this.df.hidden;
			this.wrapper.toggle(!hide);
		}

		collapse(hide) {
			if (hide === undefined) {
				hide = !this.body.hasClass("hide");
			}

			this.body.toggleClass("hide", hide);
			this.head && this.head.toggleClass("collapsed", hide);

			this.set_icon(hide);

			// save state for next reload ('' is falsy)
			localStorage.setItem(this.df.css_class + '-closed', hide ? '1' : '');
		}

		set_icon(hide) {
			var indicator_icon = hide ? 'down' : 'up-line';
			this.indicator && this.indicator.html(frappe.utils.icon(indicator_icon, 'sm', 'mb-1'));
		}

		is_collapsed() {
			return this.body.hasClass('hide');
		}

		hide() {
			this.wrapper.hide();
		}

		show() {
			this.wrapper.show();
		}
	}

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt

	frappe.ui.form.States = Class.extend({
		init: function(opts) {
			$.extend(this, opts);
			this.state_fieldname = frappe.workflow.get_state_fieldname(this.frm.doctype);

			// no workflow?
			if(!this.state_fieldname)
				{ return; }

			this.update_fields = frappe.workflow.get_update_fields(this.frm.doctype);

			var me = this;
			$(this.frm.wrapper).bind("render_complete", function() {
				me.refresh();
			});
		},

		setup_help: function() {
			var me = this;
			this.frm.page.add_action_item(__("Help"), function() {
				frappe.workflow.setup(me.frm.doctype);
				var state = me.get_state();
				var d = new frappe.ui.Dialog({
					title: "Workflow: "
						+ frappe.workflow.workflows[me.frm.doctype].name
				});

				frappe.workflow.get_transitions(me.frm.doc).then(function (transitions) {
					var next_actions = $.map(transitions, function (d) { return ((d.action.bold()) + " " + (__("by Role")) + " " + (d.allowed)); })
						.join(", ") || __("None: End of Workflow").bold();

					var document_editable_by = frappe.workflow.get_document_state(me.frm.doctype, state).allow_edit.bold();

					$(d.body).html(("\n\t\t\t\t\t<p>" + (__("Current status")) + ": " + (state.bold()) + "</p>\n\t\t\t\t\t<p>" + (__("Document is only editable by users with role")) + ": " + document_editable_by + "</p>\n\t\t\t\t\t<p>" + (__("Next actions")) + ": " + next_actions + "</p>\n\t\t\t\t\t<p>" + (__("{0}: Other permission rules may also apply", [__('Note').bold()])) + "</p>\n\t\t\t\t")).css({padding: '15px'});

					d.show();
				});
			}, true);
		},

		refresh: function() {
			// hide if its not yet saved
			if(this.frm.doc.__islocal) {
				this.set_default_state();
				return;
			}

			// state text
			var state = this.get_state();

			if(state) {
				// show actions from that state
				this.show_actions(state);
			}
		},

		show_actions: function() {
			var this$1 = this;

			var added = false;
			var me = this;

			// if the loaded doc is dirty, don't show workflow buttons
			if (this.frm.doc.__unsaved===1) {
				return;
			}

			function has_approval_access(transition) {
				var approval_access = false;
				var user = frappe.session.user;
				if (user === 'Administrator'
					|| transition.allow_self_approval
					|| user !== me.frm.doc.owner) {
					approval_access = true;
				}
				return approval_access;
			}

			frappe.workflow.get_transitions(this.frm.doc).then(function (transitions) {
				this$1.frm.page.clear_actions_menu();
				transitions.forEach(function (d) {
					if (frappe.user_roles.includes(d.allowed) && has_approval_access(d)) {
						added = true;
						me.frm.page.add_action_item(__(d.action), function() {
							// set the workflow_action for use in form scripts
							me.frm.selected_workflow_action = d.action;
							me.frm.script_manager.trigger('before_workflow_action').then(function () {
								frappe.xcall('frappe.model.workflow.apply_workflow',
									{doc: me.frm.doc, action: d.action})
									.then(function (doc) {
										frappe.model.sync(doc);
										me.frm.refresh();
										me.frm.selected_workflow_action = null;
										me.frm.script_manager.trigger("after_workflow_action");
									});
							});
						});
					}
				});

				this$1.setup_btn(added);
			});

		},

		setup_btn: function(action_added) {
			if(action_added) {
				this.frm.page.btn_primary.addClass("hide");
				this.frm.page.btn_secondary.addClass("hide");
				this.frm.toolbar.current_status = "";
				this.setup_help();
			}
		},

		set_default_state: function() {
			var default_state = frappe.workflow.get_default_state(this.frm.doctype, this.frm.doc.docstatus);
			if(default_state) {
				this.frm.set_value(this.state_fieldname, default_state);
			}
		},

		get_state: function() {
			if(!this.frm.doc[this.state_fieldname]) {
				this.set_default_state();
			}
			return this.frm.doc[this.state_fieldname];
		}
	});

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt



	frappe.ui.form.save = function (frm, action, callback, btn) {
		$(btn).prop("disabled", true);

		// specified here because there are keyboard shortcuts to save
		var working_label = {
			"Save": __("Saving", null, "Freeze message while saving a document"),
			"Submit": __("Submitting", null, "Freeze message while submitting a document"),
			"Update": __("Updating", null, "Freeze message while updating a document"),
			"Amend": __("Amending", null, "Freeze message while amending a document"),
			"Cancel": __("Cancelling", null, "Freeze message while cancelling a document"),
		}[toTitle(action)];

		var freeze_message = working_label ? __(working_label) : "";

		var save = function () {
			remove_empty_rows();

			$(frm.wrapper).addClass('validated-form');
			if ((action !== 'Save' || frm.is_dirty()) && check_mandatory()) {
				_call({
					method: "frappe.desk.form.save.savedocs",
					args: { doc: frm.doc, action: action },
					callback: function (r) {
						$(document).trigger("save", [frm.doc]);
						callback(r);
					},
					error: function (r) {
						callback(r);
					},
					btn: btn,
					freeze_message: freeze_message
				});
			} else {
				!frm.is_dirty() && frappe.show_alert({message: __("No changes in document"), indicator: "orange"});
				$(btn).prop("disabled", false);
			}
		};

		var remove_empty_rows = function() {
			/*
				This function removes empty rows. Note that in this function, a row is considered
				empty if the fields with `in_list_view: 1` are undefined or falsy because that's
				what users also consider to be an empty row
			*/
			var docs = frappe.model.get_all_docs(frm.doc);

			// we should only worry about table data
			var tables = docs.filter(function (d) {
				return frappe.model.is_table(d.doctype);
			});

			var modified_table_fields = [];

			tables.map(function (doc) {
				var cells = frappe.meta.docfield_list[doc.doctype] || [];

				var in_list_view_cells = cells.filter(function (df) {
					return cint(df.in_list_view) === 1;
				});

				var is_empty_row = function(cells) {
					for (var i = 0; i < cells.length; i++) {
						if (locals[doc.doctype][doc.name][cells[i].fieldname]) {
							return false;
						}
					}
					return true;
				};

				if (is_empty_row(in_list_view_cells)) {
					frappe.model.clear_doc(doc.doctype, doc.name);
					modified_table_fields.push(doc.parentfield);
				}
			});

			modified_table_fields.forEach(function (field) {
				frm.refresh_field(field);
			});
		};

		var cancel = function () {
			var args = {
				doctype: frm.doc.doctype,
				name: frm.doc.name
			};

			// update workflow state value if workflow exists
			var workflow_state_fieldname = frappe.workflow.get_state_fieldname(frm.doctype);
			if (workflow_state_fieldname) {
				$.extend(args, {
					workflow_state_fieldname: workflow_state_fieldname,
					workflow_state: frm.doc[workflow_state_fieldname]

				});
			}

			_call({
				method: "frappe.desk.form.save.cancel",
				args: args,
				callback: function (r) {
					$(document).trigger("save", [frm.doc]);
					callback(r);
				},
				btn: btn,
				freeze_message: freeze_message
			});
		};

		var check_mandatory = function () {
			var has_errors = false;
			frm.scroll_set = false;

			if (frm.doc.docstatus == 2) { return true; } // don't check for cancel

			$.each(frappe.model.get_all_docs(frm.doc), function (i, doc) {
				var error_fields = [];
				var folded = false;

				$.each(frappe.meta.docfield_list[doc.doctype] || [], function (i, docfield) {
					if (docfield.fieldname) {
						var df = frappe.meta.get_docfield(doc.doctype,
							docfield.fieldname, doc.name);

						if (df.fieldtype === "Fold") {
							folded = frm.layout.folded;
						}

						if (df.reqd && !frappe.model.has_value(doc.doctype, doc.name, df.fieldname)) {
							has_errors = true;
							error_fields[error_fields.length] = __(df.label);
							// scroll to field
							if (!frm.scroll_set) {
								scroll_to(doc.parentfield || df.fieldname);
							}

							if (folded) {
								frm.layout.unfold();
								folded = false;
							}
						}

					}
				});

				if (frm.is_new() && frm.meta.autoname === 'Prompt' && !frm.doc.__newname) {
					has_errors = true;
					error_fields = [__('Name') ].concat( error_fields);
				}

				if (error_fields.length) {
					var meta = frappe.get_meta(doc.doctype);
					if (meta.istable) {
						var table_label = __(frappe.meta.docfield_map[doc.parenttype][doc.parentfield].label).bold();
						var message = __('Mandatory fields required in table {0}, Row {1}', [table_label, doc.idx]);
					} else {
						var message = __('Mandatory fields required in {0}', [__(doc.doctype)]);
					}
					message = message + '<br><br><ul><li>' + error_fields.join('</li><li>') + "</ul>";
					frappe.msgprint({
						message: message,
						indicator: 'red',
						title: __('Missing Fields')
					});
					frm.refresh();
				}
			});

			return !has_errors;
		};

		var scroll_to = function (fieldname) {
			frm.scroll_to_field(fieldname);
			frm.scroll_set = true;
		};

		var _call = function (opts) {
			// opts = {
			// 	method: "some server method",
			// 	args: {args to be passed},
			// 	callback: callback,
			// 	btn: btn
			// }

			if (frappe.ui.form.is_saving) {
				// this is likely to happen if the user presses the shortcut cmd+s for a longer duration or uses double click
				// no need to show this to user, as they can see "Saving" in freeze message
				console.log("Already saving. Please wait a few moments.");
				throw "saving";
			}

			// ensure we remove new docs routes ONLY
			if ( frm.is_new() ) {
				frappe.ui.form.remove_old_form_route();
			}
			frappe.ui.form.is_saving = true;

			return frappe.call({
				freeze: true,
				// freeze_message: opts.freeze_message,
				method: opts.method,
				args: opts.args,
				btn: opts.btn,
				callback: function (r) {
					opts.callback && opts.callback(r);
				},
				error: opts.error,
				always: function (r) {
					$(btn).prop("disabled", false);
					frappe.ui.form.is_saving = false;

					if (r) {
						var doc = r.docs && r.docs[0];
						if (doc) {
							frappe.ui.form.update_calling_link(doc);
						}
					}
				}
			})
		};

		if (action === "cancel") {
			cancel();
		} else {
			save();
		}
	};

	frappe.ui.form.remove_old_form_route = function () {
		var current_route = frappe.get_route().join("/");
		frappe.route_history = frappe.route_history
			.filter(function (route) { return route.join("/") !== current_route; });
	};

	frappe.ui.form.update_calling_link = function (newdoc) {
		if (!frappe._from_link) { return; }
		var doc = frappe.get_doc(frappe._from_link.doctype, frappe._from_link.docname);

		var is_valid_doctype = function () {
			if (frappe._from_link.df.fieldtype==='Link') {
				return newdoc.doctype === frappe._from_link.df.options;
			} else {
				// dynamic link, type is dynamic
				return newdoc.doctype === doc[frappe._from_link.df.options];
			}
		};

		if (is_valid_doctype()) {
			// set value
			if (doc && doc.parentfield) {
				//update values for child table
				$.each(frappe._from_link.frm.fields_dict[doc.parentfield].grid.grid_rows, function (index, field) {
					if (field.doc && field.doc.name === frappe._from_link.docname) {
						frappe._from_link.set_value(newdoc.name);
					}
				});
			} else {
				frappe._from_link.set_value(newdoc.name);
			}

			// refresh field
			frappe._from_link.refresh();

			// if from form, switch
			if (frappe._from_link.frm) {
				frappe.set_route("Form",
					frappe._from_link.frm.doctype, frappe._from_link.frm.docname)
					.then(function () {
						frappe.utils.scroll_to(frappe._from_link_scrollY);
					});
			}

			frappe._from_link = null;
		}
	};

	frappe.ui.get_print_settings = function(
		pdf,
		callback,
		letter_head,
		pick_columns
	) {
		var print_settings = locals[":Print Settings"]["Print Settings"];

		var default_letter_head =
			locals[":Company"] && frappe.defaults.get_default("company")
				? locals[":Company"][frappe.defaults.get_default("company")]["default_letter_head"]
				: "";

		var columns = [
			{
				fieldtype: "Check",
				fieldname: "with_letter_head",
				label: __("With Letter head")
			},
			{
				fieldtype: "Select",
				fieldname: "letter_head",
				label: __("Letter Head"),
				depends_on: "with_letter_head",
				options: Object.keys(frappe.boot.letter_heads),
				default: letter_head || default_letter_head
			},
			{
				fieldtype: "Select",
				fieldname: "orientation",
				label: __("Orientation"),
				options: [
					{ value: "Landscape", label: __("Landscape") },
					{ value: "Portrait", label: __("Portrait") }
				],
				default: "Landscape"
			}
		];

		if (pick_columns) {
			columns.push(
				{
					label: __("Pick Columns"),
					fieldtype: "Check",
					fieldname: "pick_columns"
				},
				{
					label: __("Select Columns"),
					fieldtype: "MultiCheck",
					fieldname: "columns",
					depends_on: "pick_columns",
					columns: 2,
					options: pick_columns.map(function (df) { return ({
						label: __(df.label),
						value: df.fieldname
					}); })
				}
			);
		}

		return frappe.prompt(
			columns,
			function(data) {
				data = $.extend(print_settings, data);
				if (!data.with_letter_head) {
					data.letter_head = null;
				}
				if (data.letter_head) {
					data.letter_head =
						frappe.boot.letter_heads[print_settings.letter_head];
				}
				callback(data);
			},
			__("Print Settings")
		);
	};

	// qz tray connection wrapper
	//  - allows active and inactive connections to resolve regardless
	//  - try to connect once before firing the mimetype launcher
	//  - if connection fails, catch the reject, fire the mimetype launcher
	//  - after mimetype launcher is fired, try to connect 3 more times
	//  - display success/fail message to user
	frappe.ui.form.qz_connect = function() {
		return new Promise(function(resolve, reject) {
			frappe.ui.form.qz_init().then(function () {
				if (qz.websocket.isActive()) {
					// if already active, resolve immediately
					// frappe.show_alert({message: __('QZ Tray Connection Active!'), indicator: 'green'});
					resolve();
				} else {
					// try to connect once before firing the mimetype launcher
					frappe.show_alert({
						message: __("Attempting Connection to QZ Tray..."),
						indicator: "blue"
					});
					qz.websocket.connect().then(
						function () {
							frappe.show_alert({
								message: __("Connected to QZ Tray!"),
								indicator: "green"
							});
							resolve();
						},
						function retry(err) {
							if (
								err.message ===
								"Unable to establish connection with QZ"
							) {
								// if a connect was not successful, launch the mimetype, try 3 more times
								frappe.show_alert(
									{
										message: __(
											"Attempting to launch QZ Tray..."
										),
										indicator: "blue"
									},
									14
								);
								window.location.assign("qz:launch");
								qz.websocket
									.connect({
										retries: 3,
										delay: 1
									})
									.then(
										function () {
											frappe.show_alert({
												message: __(
													"Connected to QZ Tray!"
												),
												indicator: "green"
											});
											resolve();
										},
										function () {
											frappe.throw(
												__(
													'Error connecting to QZ Tray Application...<br><br> You need to have QZ Tray application installed and running, to use the Raw Print feature.<br><br><a target="_blank" href="https://qz.io/download/">Click here to Download and install QZ Tray</a>.<br> <a target="_blank" href="https://erpnext.com/docs/user/manual/en/setting-up/print/raw-printing">Click here to learn more about Raw Printing</a>.'
												)
											);
											reject();
										}
									);
							} else {
								frappe.show_alert(
									{
										message: "QZ Tray " + err.toString(),
										indicator: "red"
									},
									14
								);
								reject();
							}
						}
					);
				}
			});
		});
	};

	frappe.ui.form.qz_init = function() {
		// Initializing qz tray library
		return new Promise(function (resolve) {
			if (typeof qz === "object" && typeof qz.version === "string") {
				// resolve immediately if already Initialized
				resolve();
			} else {
				var qz_required_assets = [
					"/assets/frappe/node_modules/js-sha256/build/sha256.min.js",
					"/assets/frappe/node_modules/qz-tray/qz-tray.js"
				];
				frappe.require(qz_required_assets, function () {
					qz.api.setPromiseType(function promise(resolver) {
						return new Promise(resolver);
					});
					qz.api.setSha256Type(function(data) {
						// Codacy fix
						/*global sha256*/
						return sha256(data);
					});
					resolve();
				});
				// note 'frappe.require' does not have callback on fail. Hence, any failure cannot be communicated to the user.
			}
		});
	};

	frappe.ui.form.qz_get_printer_list = function() {
		// returns the list of printers that are available to the QZ Tray
		return frappe.ui.form
			.qz_connect()
			.then(function() {
				return qz.printers.find();
			})
			.then(function (data) {
				return data;
			})
			.catch(function (err) {
				frappe.ui.form.qz_fail(err);
			});
	};

	frappe.ui.form.qz_success = function() {
		// notify qz successful print
		frappe.show_alert({
			message: __("Print Sent to the printer!"),
			indicator: "green"
		});
	};

	frappe.ui.form.qz_fail = function(e) {
		// notify qz errors
		frappe.show_alert(
			{
				message: __("QZ Tray Failed: ") + e.toString(),
				indicator: "red"
			},
			20
		);
	};

	frappe.provide('frappe.ui.form');
	frappe.provide('frappe.success_action');

	frappe.ui.form.SuccessAction = class SuccessAction {
		constructor(form) {
			this.form = form;
			this.load_setting();
		}

		load_setting() {
			var this$1 = this;

			this.setting = frappe.boot.success_action
				.find(function (setting) { return setting.ref_doctype === this$1.form.doctype; });
		}

		show() {
			if (!this.setting) { return; }
			if (this.form.doc.docstatus === 0 && !this.is_first_creation()) { return; }

			this.prepare_dom();
			this.show_alert();
		}

		prepare_dom() {
			this.container = $(document.body).find('.success-container');
			if (!this.container.length) {
				this.container = $('<div class="success-container">').appendTo(document.body);
			}
		}

		show_alert() {
			var this$1 = this;

			frappe.db.get_list(this.form.doctype, {limit: 2})
				.then(function (result) {
					var count = result.length;
					var setting = this$1.setting;
					var message = count === 1 ?
						setting.first_success_message :
						setting.message;

					var $buttons = this$1.get_actions().map(function (action) {
						var $btn = $(("<button class=\"next-action\"><span>" + (__(action.label)) + "</span></button>"));
						$btn.click(function () { return action.action(this$1.form); });
						return $btn;
					});

					var next_action_container = $("<div class=\"next-action-container\"></div>");
					next_action_container.append($buttons);
					var html = next_action_container;

					frappe.show_alert({
						message: message,
						body: html,
						indicator: 'green',
					}, setting.action_timeout || 7);
				});
		}

		get_actions() {
			var this$1 = this;

			var actions = [];
			var checked_actions = this.setting.next_actions.split("\n");
			checked_actions
				.forEach(function (action) {
					if (typeof action === 'string' && this$1.default_actions[action]) {
						actions.push(this$1.default_actions[action]);
					} else if (typeof action === 'object') {
						actions.push(action);
					}
				});

			return actions;
		}

		get default_actions() {
			return {
				'new': {
					label: __('New'),
					action: function (frm) { return frappe.new_doc(frm.doctype); }
				},
				'print': {
					label: __('Print'),
					action: function (frm) { return frm.print_doc(); }
				},
				'email': {
					label: __('Email'),
					action: function (frm) { return frm.email_doc(); }
				},
				'list': {
					label: __('View All'),
					action: function (frm) {
						frappe.set_route('List', frm.doctype);
					}
				}
			};
		}

		is_first_creation() {
			var ref = this.form.doc;
			var modified = ref.modified;
			var creation = ref.creation;

			// strip out milliseconds
			modified = modified.split('.')[0];
			creation = creation.split('.')[0];

			return modified === creation;
		}

	};

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt

	frappe.provide("frappe.ui.form.handlers");

	frappe.ui.form.get_event_handler_list = function(doctype, fieldname) {
		if(!frappe.ui.form.handlers[doctype]) {
			frappe.ui.form.handlers[doctype] = {};
		}
		if(!frappe.ui.form.handlers[doctype][fieldname]) {
			frappe.ui.form.handlers[doctype][fieldname] = [];
		}
		return frappe.ui.form.handlers[doctype][fieldname];
	};

	frappe.ui.form.on = frappe.ui.form.on_change = function(doctype, fieldname, handler) {
		var add_handler = function(fieldname, handler) {
			var handler_list = frappe.ui.form.get_event_handler_list(doctype, fieldname);

			var _handler = function () {
				var args = [], len = arguments.length;
				while ( len-- ) args[ len ] = arguments[ len ];

				try {
					return handler.apply(void 0, args);
				} catch (error) {
					console.error(handler);
					throw error;
				}
			};

			handler_list.push(_handler);

			// add last handler to events so it can be called as
			// frm.events.handler(frm)
			if(cur_frm && cur_frm.doctype===doctype) {
				cur_frm.events[fieldname] = _handler;
			}
		};

		if (!handler && $.isPlainObject(fieldname)) {
			// a dict of handlers {fieldname: handler, ...}
			for (var key in fieldname) {
				var fn = fieldname[key];
				if (typeof fn === "function") {
					add_handler(key, fn);
				}
			}
		} else {
			add_handler(fieldname, handler);
		}
	};

	// remove standard event handlers
	frappe.ui.form.off = function(doctype, fieldname, handler) {
		var handler_list = frappe.ui.form.get_event_handler_list(doctype, fieldname);
		if(handler_list.length) {
			frappe.ui.form.handlers[doctype][fieldname] = [];
		}

		if(cur_frm && cur_frm.doctype===doctype && cur_frm.events[fieldname]) {
			delete cur_frm.events[fieldname];
		}

		if(cur_frm && cur_frm.cscript && cur_frm.cscript[fieldname]) {
			delete cur_frm.cscript[fieldname];
		}
	};


	frappe.ui.form.trigger = function(doctype, fieldname) {
		cur_frm.script_manager.trigger(fieldname, doctype);
	};

	frappe.ui.form.ScriptManager = Class.extend({
		init: function(opts) {
			$.extend(this, opts);
		},
		make: function(ControllerClass) {
			this.frm.cscript = $.extend(this.frm.cscript,
				new ControllerClass({frm: this.frm}));
		},
		trigger: function(event_name, doctype, name) {
			// trigger all the form level events that
			// are bound to this event_name
			var me = this;
			doctype = doctype || this.frm.doctype;
			name = name || this.frm.docname;

			var tasks = [];
			var handlers = this.get_handlers(event_name, doctype);

			// helper for child table
			this.frm.selected_doc = frappe.get_doc(doctype, name);

			var runner = function (_function, is_old_style) {
				var _promise = null;
				if(is_old_style) {
					// old style arguments (doc, cdt, cdn)
					_promise = me.frm.cscript[_function](me.frm.doc, doctype, name);
				} else {
					// new style (frm, doctype, name)
					_promise = _function(me.frm, doctype, name);
				}

				// if the trigger returns a promise, return it,
				// or use the default promise frappe.after_ajax
				if (_promise && _promise.then) {
					return _promise;
				} else {
					return frappe.after_server_call();
				}
			};

			// make list of functions to be run serially
			handlers.new_style.forEach(function (_function) {
				if(event_name==='setup') {
					// setup must be called immediately
					runner(_function, false);
				} else {
					tasks.push(function () { return runner(_function, false); });
				}
			});

			handlers.old_style.forEach(function (_function) {
				if(event_name==='setup') {
					// setup must be called immediately
					runner(_function, true);
				} else {
					tasks.push(function () { return runner(_function, true); });
				}
			});

			// run them serially
			return frappe.run_serially(tasks);
		},
		has_handlers: function(event_name, doctype) {
			var handlers = this.get_handlers(event_name, doctype);
			return handlers && (handlers.old_style.length || handlers.new_style.length);
		},
		get_handlers: function(event_name, doctype) {
			var handlers = {
				old_style: [],
				new_style: []
			};
			if(frappe.ui.form.handlers[doctype] && frappe.ui.form.handlers[doctype][event_name]) {
				$.each(frappe.ui.form.handlers[doctype][event_name], function(i, fn) {
					handlers.new_style.push(fn);
				});
			}
			if(this.frm.cscript[event_name]) {
				handlers.old_style.push(event_name);
			}
			if(this.frm.cscript["custom_" + event_name]) {
				handlers.old_style.push("custom_" + event_name);
			}
			return handlers;
		},
		setup: function() {
			var doctype = this.frm.meta;
			var me = this;
			var client_script;

			// process the custom script for this form
			if (this.frm.doctype_layout) {
				client_script = this.frm.doctype_layout.client_script;
			} else {
				client_script = doctype.__js;
			}

			if (client_script) {
				eval(client_script);
			}

			if (!this.frm.doctype_layout && doctype.__custom_js) {
				try {
					eval(doctype.__custom_js);
				} catch(e) {
					frappe.msgprint({
						title: __('Error in Client Script'),
						indicator: 'orange',
						message: '<pre class="small"><code>' + e.stack  + '</code></pre>'
					});
				}
			}

			function setup_add_fetch(df) {
				if ((['Data', 'Read Only', 'Text', 'Small Text', 'Currency', 'Check', 'Attach Image',
					'Text Editor', 'Code', 'Link', 'Float', 'Int', 'Date', 'Select', 'Duration'].includes(df.fieldtype) || df.read_only==1)
					&& df.fetch_from && df.fetch_from.indexOf(".")!=-1) {
					var parts = df.fetch_from.split(".");
					me.frm.add_fetch(parts[0], parts[1], df.fieldname, df.parent);
				}
			}

			// setup add fetch
			$.each(this.frm.fields, function(i, field) {
				setup_add_fetch(field.df);
				if(frappe.model.table_fields.includes(field.df.fieldtype)) {
					$.each(frappe.meta.get_docfields(field.df.options, me.frm.docname), function(i, df) {
						setup_add_fetch(df);
					});
				}
			});

			// css
			doctype.__css && frappe.dom.set_style(doctype.__css);

			this.trigger('setup');
		},
		log_error: function(caller, e) {
			frappe.show_alert({message: __("Error in Client Script."), indicator: "error"});
			console.group && console.group();
			console.log("----- error in client script -----");
			console.log("method: " + caller);
			console.log(e);
			console.log("error message: " + e.message);
			console.trace && console.trace();
			console.log("----- end of error message -----");
			console.group && console.groupEnd();
		},
		copy_from_first_row: function(parentfield, current_row, fieldnames) {
			var data = this.frm.doc[parentfield];
			if(data.length===1 || data[0]===current_row) { return; }

			if(typeof fieldnames==='string') {
				fieldnames = [fieldnames];
			}

			$.each(fieldnames, function(i, fieldname) {
				frappe.model.set_value(current_row.doctype, current_row.name, fieldname,
					data[0][fieldname]);
			});
		}
	});

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt
	/* eslint-disable no-console */

	window.refresh_many = function(flist, dn, table_field) {
		for(var i in flist) {
			if (table_field)
				{ refresh_field(flist[i], dn, table_field); }
			else
				{ refresh_field(flist[i]); }
		}
	};

	window.refresh_field = function(n, docname, table_field) {
		// multiple
		if(typeof n==typeof [])
			{ refresh_many(n, docname, table_field); }

		if (n && typeof n==='string' && table_field) {
			var grid = cur_frm.fields_dict[table_field].grid,
				field = frappe.utils.filter_dict(grid.docfields, {fieldname: n}),
				grid_row = grid.grid_rows_by_docname[docname];

			if (field && field.length) {
				field = field[0];
				var meta = frappe.meta.get_docfield(field.parent, field.fieldname, docname);
				$.extend(field, meta);
				if (grid_row) {
					grid_row.refresh_field(n);
				} else {
					grid.refresh();
				}
			}
		} else if(cur_frm) {
			cur_frm.refresh_field(n);
		}
	};

	window.set_field_options = function(n, txt) {
		cur_frm.set_df_property(n, 'options', txt);
	};

	window.toggle_field = function(n, hidden) {
		var df = frappe.meta.get_docfield(cur_frm.doctype, n, cur_frm.docname);
		if(df) {
			df.hidden = hidden;
			refresh_field(n);
		} else {
			console.log((hidden ? "hide_field" : "unhide_field") + " cannot find field " + n);
		}
	};

	window.hide_field = function(n) {
		if(cur_frm) {
			if(n.substr) { toggle_field(n, 1); }
			else {
				for(var i in n) { toggle_field(n[i], 1); }
			}
		}
	};

	window.unhide_field = function(n) {
		if(cur_frm) {
			if(n.substr) { toggle_field(n, 0); }
			else {
				for(var i in n) { toggle_field(n[i], 0); }
			}
		}
	};

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt



	frappe.ui.form.AssignTo = Class.extend({
		init: function(opts) {
			var this$1 = this;

			$.extend(this, opts);
			this.btn = this.parent.find(".add-assignment-btn").on("click", function () { return this$1.add(); });
			this.btn_wrapper = this.btn.parent();

			this.refresh();
		},
		refresh: function() {
			if(this.frm.doc.__islocal) {
				this.parent.toggle(false);
				return;
			}
			this.parent.toggle(true);
			this.render(this.frm.get_docinfo().assignments);
		},
		render: function(assignments) {
			var this$1 = this;

			this.frm.get_docinfo().assignments = assignments;

			var assignments_wrapper = this.parent.find('.assignments');

			assignments_wrapper.empty();
			var assigned_users = assignments.map(function (d) { return d.owner; });

			if (!assigned_users.length) {
				assignments_wrapper.hide();
				return;
			}

			var avatar_group = frappe.avatar_group(assigned_users, 5, {'align': 'left', 'overlap': true});

			assignments_wrapper.show();
			assignments_wrapper.append(avatar_group);
			avatar_group.click(function () {
				new frappe.ui.form.AssignmentDialog({
					assignments: assigned_users,
					frm: this$1.frm
				});
			});
		},
		add: function() {
			var me = this;

			if (this.frm.is_new()) {
				frappe.throw(__("Please save the document before assignment"));
				return;
			}

			if (!me.assign_to) {
				me.assign_to = new frappe.ui.form.AssignToDialog({
					method: "frappe.desk.form.assign_to.add",
					doctype: me.frm.doctype,
					docname: me.frm.docname,
					frm: me.frm,
					callback: function (r) {
						me.render(r.message);
					}
				});
			}
			me.assign_to.dialog.clear();
			me.assign_to.dialog.show();
		},
		remove: function(owner) {
			var this$1 = this;

			if (this.frm.is_new()) {
				frappe.throw(__("Please save the document before removing assignment"));
				return;
			}

			return frappe.xcall('frappe.desk.form.assign_to.remove', {
				doctype: this.frm.doctype,
				name: this.frm.docname,
				assign_to: owner
			}).then(function (assignments) {
				this$1.render(assignments);
			});
		}
	});


	frappe.ui.form.AssignToDialog = Class.extend({
		init: function(opts) {
			$.extend(this, opts);

			this.make();
			this.set_description_from_doc();
		},
		make: function() {
			var me = this;

			me.dialog = new frappe.ui.Dialog({
				title: __('Add to ToDo'),
				fields: me.get_fields(),
				primary_action_label: __("Add"),
				primary_action: function() {
					var args = me.dialog.get_values();

					if (args && args.assign_to) {
						me.dialog.set_message("Assigning...");

						frappe.call({
							method: me.method,
							args: $.extend(args, {
								doctype: me.doctype,
								name: me.docname,
								assign_to: args.assign_to,
								bulk_assign: me.bulk_assign || false,
								re_assign: me.re_assign || false
							}),
							btn: me.dialog.get_primary_btn(),
							callback: function(r) {
								if (!r.exc) {
									if (me.callback) {
										me.callback(r);
									}
									me.dialog && me.dialog.hide();
								} else {
									me.dialog.clear_message();
								}
							},
						});
					}
				},
			});
		},
		assign_to_me: function() {
			var me = this;
			var assign_to = [];

			if (me.dialog.get_value("assign_to_me")) {
				assign_to.push(frappe.session.user);
			}

			me.dialog.set_value("assign_to", assign_to);
		},
		set_description_from_doc: function() {
			var me = this;

			if (me.frm && me.frm.meta.title_field) {
				me.dialog.set_value("description", me.frm.doc[me.frm.meta.title_field]);
			}
		},
		get_fields: function() {
			var me = this;

			return [
				{
					label: __("Assign to me"),
					fieldtype: 'Check',
					fieldname: 'assign_to_me',
					default: 0,
					onchange: function () { return me.assign_to_me(); }
				},
				{
					fieldtype: 'MultiSelectPills',
					fieldname: 'assign_to',
					label: __("Assign To"),
					reqd: true,
					get_data: function(txt) {
						return frappe.db.get_link_options("User", txt, {user_type: "System User", enabled: 1});
					}
				},
				{
					label: __("Comment"),
					fieldtype: 'Small Text',
					fieldname: 'description'
				},
				{
					fieldtype: 'Section Break'
				},
				{
					fieldtype: 'Column Break'
				},
				{
					label: __("Complete By"),
					fieldtype: 'Date',
					fieldname: 'date'
				},
				{
					fieldtype: 'Column Break'
				},
				{
					label: __("Priority"),
					fieldtype: 'Select',
					fieldname: 'priority',
					options: [
						{
							value: 'Low',
							label: __('Low')
						},
						{
							value: 'Medium',
							label: __('Medium')
						},
						{
							value: 'High',
							label: __('High')
						}
					],
					// Pick up priority from the source document, if it exists and is available in ToDo
					default: ["Low", "Medium", "High"].includes(me.frm && me.frm.doc.priority ? me.frm.doc.priority : 'Medium')
				}
			];
		}
	});


	frappe.ui.form.AssignmentDialog = class {
		constructor(opts) {
			this.frm = opts.frm;
			this.assignments = opts.assignments;
			this.make();
		}

		make() {
			var this$1 = this;

			this.dialog = new frappe.ui.Dialog({
				title: __('Assignments'),
				size: 'small',
				no_focus: true,
				fields: [{
					'label': __('Assign a user'),
					'fieldname': 'user',
					'fieldtype': 'Link',
					'options': 'User',
					'change': function () {
						var value = this$1.dialog.get_value('user');
						if (value && !this$1.assigning) {
							this$1.assigning = true;
							this$1.dialog.set_df_property('user', 'read_only', 1);
							this$1.dialog.set_df_property('user', 'description', __('Assigning...'));
							this$1.add_assignment(value).then(function () {
								this$1.dialog.set_value('user', null);
							}).finally(function () {
								this$1.dialog.set_df_property('user', 'description', null);
								this$1.dialog.set_df_property('user', 'read_only', 0);
								this$1.assigning = false;
							});
						}
					}
				}, {
					'fieldtype': 'HTML',
					'fieldname': 'assignment_list'
				}]
			});

			this.assignment_list = $(this.dialog.get_field('assignment_list').wrapper);
			this.assignment_list.removeClass('frappe-control');

			this.assignments.forEach(function (assignment) {
				this$1.update_assignment(assignment);
			});
			this.dialog.show();
		}
		render(assignments) {
			this.frm && this.frm.assign_to.render(assignments);
		}
		add_assignment(assignment) {
			var this$1 = this;

			return frappe.xcall('frappe.desk.form.assign_to.add', {
				doctype: this.frm.doctype,
				name: this.frm.docname,
				assign_to: [assignment],
			}).then(function (assignments) {
				this$1.update_assignment(assignment);
				this$1.render(assignments);
			});
		}
		remove_assignment(assignment) {
			return frappe.xcall('frappe.desk.form.assign_to.remove', {
				doctype: this.frm.doctype,
				name: this.frm.docname,
				assign_to: assignment,
			});
		}
		update_assignment(assignment) {
			var in_the_list = this.assignment_list.find(("[data-user=\"" + assignment + "\"]")).length;
			if (!in_the_list) {
				this.assignment_list.append(this.get_assignment_row(assignment));
			}
		}
		get_assignment_row(assignment) {
			var this$1 = this;

			var row = $(("\n\t\t\t<div class=\"dialog-assignment-row\" data-user=\"" + assignment + "\">\n\t\t\t\t<span>\n\t\t\t\t\t" + (frappe.avatar(assignment)) + "\n\t\t\t\t\t" + (frappe.user.full_name(assignment)) + "\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t"));

			if (assignment === frappe.session.user || this.frm.perm[0].write) {
				row.append(("\n\t\t\t\t<span class=\"remove-btn cursor-pointer\">\n\t\t\t\t\t" + (frappe.utils.icon('close')) + "\n\t\t\t\t</span>\n\t\t\t"));
				row.find('.remove-btn').click(function () {
					this$1.remove_assignment(assignment).then(function (assignments) {
						row.remove();
						this$1.render(assignments);
					});
				});
			}
			return row;
		}
	};

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt

	frappe.ui.form.Attachments = Class.extend({
		init: function(opts) {
			$.extend(this, opts);
			this.make();
		},
		make: function() {
			var me = this;
			this.parent.find(".add-attachment-btn").click(function() {
				me.new_attachment();
			});
			this.add_attachment_wrapper = this.parent.find(".add-attachment-btn");
			this.attachments_label = this.parent.find(".attachments-label");
		},
		max_reached: function(raise_exception) {
			if ( raise_exception === void 0 ) raise_exception=false;

			var attachment_count = Object.keys(this.get_attachments()).length;
			var attachment_limit = this.frm.meta.max_attachments;
			if (attachment_limit && attachment_count >= attachment_limit) {
				if (raise_exception) {
					frappe.throw({
						title: __("Attachment Limit Reached"),
						message: __("Maximum attachment limit of {0} has been reached.", [cstr(attachment_limit).bold()]),
					});
				}
				return true;
			}
			return false;
		},
		refresh: function() {
			var me = this;

			if(this.frm.doc.__islocal) {
				this.parent.toggle(false);
				return;
			}
			this.parent.toggle(true);
			this.parent.find(".attachment-row").remove();

			var max_reached = this.max_reached();
			this.add_attachment_wrapper.toggle(!max_reached);

			// add attachment objects
			var attachments = this.get_attachments();
			if(attachments.length) {
				attachments.forEach(function(attachment) {
					me.add_attachment(attachment);
				});
			} else {
				this.attachments_label.removeClass("has-attachments");
			}

		},
		get_attachments: function() {
			return this.frm.get_docinfo().attachments;
		},
		add_attachment: function(attachment) {
			var file_name = attachment.file_name;
			var file_url = this.get_file_url(attachment);
			var fileid = attachment.name;
			if (!file_name) {
				file_name = file_url;
			}

			var me = this;

			var file_label = "\n\t\t\t<a href=\"" + file_url + "\" target=\"_blank\" title=\"" + file_name + "\" class=\"ellipsis\" style=\"max-width: calc(100% - 43px);\">\n\t\t\t\t<span>" + file_name + "</span>\n\t\t\t</a>";

			var remove_action = null;
			if (frappe.model.can_write(this.frm.doctype, this.frm.name)) {
				remove_action = function(target_id) {
					frappe.confirm(__("Are you sure you want to delete the attachment?"),
						function() {
							me.remove_attachment(target_id);
						}
					);
					return false;
				};
			}

			var icon = "<a href=\"/app/file/" + fileid + "\">\n\t\t\t\t" + (frappe.utils.icon(attachment.is_private ? 'lock' : 'unlock', 'sm ml-0')) + "\n\t\t\t</a>";

			$("<li class=\"attachment-row\">")
				.append(frappe.get_data_pill(
					file_label,
					fileid,
					remove_action,
					icon
				))
				.insertAfter(this.attachments_label.addClass("has-attachments"));

		},
		get_file_url: function(attachment) {
			var file_url = attachment.file_url;
			if (!file_url) {
				if (attachment.file_name.indexOf('files/') === 0) {
					file_url = '/' + attachment.file_name;
				}
				else {
					file_url = '/files/' + attachment.file_name;
				}
			}
			// hash is not escaped, https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURI
			return encodeURI(file_url).replace(/#/g, '%23');
		},
		get_file_id_from_file_url: function(file_url) {
			var fid;
			$.each(this.get_attachments(), function(i, attachment) {
				if (attachment.file_url === file_url) {
					fid = attachment.name;
					return false;
				}
			});
			return fid;
		},
		remove_attachment_by_filename: function(filename, callback) {
			this.remove_attachment(this.get_file_id_from_file_url(filename), callback);
		},
		remove_attachment: function(fileid, callback) {
			if (!fileid) {
				if (callback) { callback(); }
				return;
			}

			var me = this;
			return frappe.call({
				method: 'frappe.desk.form.utils.remove_attach',
				args: {
					fid: fileid,
					dt: me.frm.doctype,
					dn: me.frm.docname
				},
				callback: function(r,rt) {
					if(r.exc) {
						if(!r._server_messages)
							{ frappe.msgprint(__("There were errors")); }
						return;
					}
					me.remove_fileid(fileid);
					me.frm.sidebar.reload_docinfo();
					if (callback) { callback(); }
				}
			});
		},
		new_attachment: function(fieldname) {
			var this$1 = this;

			if (this.dialog) {
				// remove upload dialog
				this.dialog.$wrapper.remove();
			}

			new frappe.ui.FileUploader({
				doctype: this.frm.doctype,
				docname: this.frm.docname,
				frm: this.frm,
				folder: 'Home/Attachments',
				on_success: function (file_doc) {
					this$1.attachment_uploaded(file_doc);
				}
			});
		},
		get_args: function() {
			return {
				from_form: 1,
				doctype: this.frm.doctype,
				docname: this.frm.docname,
			}
		},
		attachment_uploaded:  function(attachment) {
			this.dialog && this.dialog.hide();
			this.update_attachment(attachment);
			this.frm.sidebar.reload_docinfo();

			if(this.fieldname) {
				this.frm.set_value(this.fieldname, attachment.file_url);
			}
		},
		update_attachment: function(attachment) {
			if(attachment.name) {
				this.add_to_attachments(attachment);
				this.refresh();
			}
		},
		add_to_attachments: function (attachment) {
			var form_attachments = this.get_attachments();
			for(var i in form_attachments) {
				// prevent duplicate
				if(form_attachments[i]["name"] === attachment.name) { return; }
			}
			form_attachments.push(attachment);
		},
		remove_fileid: function(fileid) {
			var attachments = this.get_attachments();
			var new_attachments = [];
			$.each(attachments, function(i, attachment) {
				if(attachment.name!=fileid) {
					new_attachments.push(attachment);
				}
			});
			this.frm.get_docinfo().attachments = new_attachments;
			this.refresh();
		}
	});

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt



	frappe.ui.form.Share = Class.extend({
		init: function(opts) {
			$.extend(this, opts);
			this.shares = this.parent.find('.shares');
		},
		refresh: function() {
			this.render_sidebar();
		},
		render_sidebar: function() {
			var this$1 = this;

			var shared = this.shared || this.frm.get_docinfo().shared;
			var shared_users = shared.filter(Boolean).map(function (s) { return s.user; });

			if (this.frm.is_new()) {
				this.parent.find(".share-doc-btn").hide();
			}

			this.parent.find(".share-doc-btn").on("click", function () {
				this$1.frm.share_doc();
			});

			this.shares.empty();

			if (!shared_users.length) {
				this.shares.hide();
				return;
			}

			this.shares.show();
			// REDESIGN-TODO: handle "shared with everyone"
			this.shares.append(frappe.avatar_group(shared_users, 5, {'align': 'left', 'overlap': true}));
		},
		show: function() {
			var me = this;
			var d = new frappe.ui.Dialog({
				title: __("Share {0} with", [this.frm.doc.name]),
			});

			this.dialog = d;
			this.dirty = false;

			frappe.call({
				method: "frappe.share.get_users",
				args: {
					doctype: this.frm.doctype,
					name: this.frm.doc.name
				},
				callback: function(r) {
					me.render_shared(r.message || []);
				}
			});

			$(d.body).html('<p class="text-muted">' + __("Loading...") + '</p>');

			d.onhide = function() {
				// reload comments
				if(me.dirty) { me.frm.sidebar.reload_docinfo(); }
			};

			d.show();
		},
		render_shared: function(shared) {
			if(shared)
				{ this.shared = shared; }
			var d = this.dialog;
			$(d.body).empty();

			var everyone = {};
			$.each(this.shared, function(i, s) {
				// pullout everyone record from shared list
				if (s && s.everyone) {
					everyone = s;
				}
			});

			$(frappe.render_template("set_sharing", {frm: this.frm, shared: this.shared, everyone: everyone}))
				.appendTo(d.body);

			if(frappe.model.can_share(null, this.frm)) {
				this.make_user_input();
				this.add_share_button();
				this.set_edit_share_events();
			} else {
				// if cannot share, disable sharing settings.
				$(d.body).find(".edit-share").prop("disabled", true);
			}
		},
		make_user_input: function() {
			// make add-user input
			this.dialog.share_with = frappe.ui.form.make_control({
				parent: $(this.dialog.body).find(".input-wrapper-add-share"),
				df: {
					fieldtype: "Link",
					label: __("Share With"),
					fieldname: "share_with",
					options: "User",
					filters: {
						"user_type": "System User",
						"name": ["!=", frappe.session.user]
					}
				},
				only_input: true,
				render_input: true
			});

		},
		add_share_button: function() {
			var me = this, d = this.dialog;
			$(d.body).find(".btn-add-share").on("click", function() {
				var user = d.share_with.get_value();
				if(!user) {
					return;
				}
				frappe.call({
					method: "frappe.share.add",
					args: {
						doctype: me.frm.doctype,
						name: me.frm.doc.name,
						user: user,
						read: $(d.body).find(".add-share-read").prop("checked") ? 1 : 0,
						write: $(d.body).find(".add-share-write").prop("checked") ? 1 : 0,
						submit: $(d.body).find(".add-share-submit").prop("checked") ? 1 : 0,
						share: $(d.body).find(".add-share-share").prop("checked") ? 1 : 0,
						notify: 1,
					},
					btn: this,
					callback: function(r) {
						$.each(me.shared, function(i, s) {
							if(s && s.user===r.message.user) {
								// re-adding / remove the old share rule.
								delete me.shared[i];
							}
						});
						me.dirty = true;
						me.shared.push(r.message);
						me.render_shared();
						me.frm.shared.refresh();
					}
				});
			});
		},
		set_edit_share_events: function() {
			var me = this, d = this.dialog;
			$(d.body).find(".edit-share").on("click", function() {
				var user = $(this).parents(".shared-user:first").attr("data-user") || "",
					value = $(this).prop("checked") ? 1 : 0,
					property = $(this).attr("name"),
					everyone = cint($(this).parents(".shared-user:first").attr("data-everyone"));

				frappe.call({
					method: "frappe.share.set_permission",
					args: {
						doctype: me.frm.doctype,
						name: me.frm.doc.name,
						user: user,
						permission_to: property,
						value: value,
						everyone: everyone
					},
					callback: function(r) {
						var found = null;
						$.each(me.shared, function(i, s) {
							// update shared object
							if(s && (s.user===user || (everyone && s.everyone===1))) {
								if(!r.message) {
									delete me.shared[i];
								} else {
									me.shared[i] = $.extend(s, r.message);
								}
								found = true;
								return false;
							}
						});

						if (!found) {
							me.shared.push(r.message);
						}

						me.dirty = true;
						me.render_shared();
						me.frm.shared.refresh();
					}
				});
			});
		},
	});

	// Copyright (c) 2019, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt



	frappe.ui.form.Review = class Review {
		constructor(ref) {
		var parent = ref.parent;
		var frm = ref.frm;

			this.parent = parent;
			this.frm = frm;
			this.points = frappe.boot.points;
			this.reviews = this.parent.find('.reviews');
			this.setup_add_review_button();
			this.update_reviewers();
		}
		update_points() {
			var this$1 = this;

			return frappe.xcall('frappe.social.doctype.energy_point_log.energy_point_log.get_energy_points', {
				user: frappe.session.user
			}).then(function (data) {
				frappe.boot.points = data;
				this$1.points = data;
			});
		}
		setup_add_review_button() {
			var this$1 = this;

			var review_button = this.reviews.find('.add-review-btn');

			if (!this.points.review_points) {
				review_button.click(false);
				review_button.popover({
					trigger: 'hover',
					content: function () {
						return ("<div class=\"text-medium\">\n\t\t\t\t\t\t" + (__('You do not have enough review points')) + "\n\t\t\t\t\t</div>");
					},
					html: true
				});
			} else {
				review_button.click(function () { return this$1.show_review_dialog(); });
			}
		}
		get_involved_users() {
			var this$1 = this;

			var user_fields = this.frm.meta.fields
				.filter(function (d) { return d.fieldtype === 'Link' && d.options === 'User'; })
				.map(function (d) { return d.fieldname; });

			user_fields.push('owner');
			var involved_users = user_fields.map(function (field) { return this$1.frm.doc[field]; });

			var docinfo = this.frm.get_docinfo();

			involved_users = involved_users.concat(
				docinfo.communications.map(function (d) { return d.sender && d.delivery_status === 'sent'; }),
				docinfo.comments.map(function (d) { return d.owner; }),
				docinfo.versions.map(function (d) { return d.owner; }),
				docinfo.assignments.map(function (d) { return d.owner; })
			);

			return involved_users
				.uniqBy(function (u) { return u; })
				.filter(function (user) { return !['Administrator', frappe.session.user].includes(user); })
				.filter(Boolean);
		}
		show_review_dialog() {
			var this$1 = this;

			var user_options = this.get_involved_users();
			var review_dialog = new frappe.ui.Dialog({
				'title': __('Add Review'),
				'fields': [{
					fieldname: 'to_user',
					fieldtype: 'Autocomplete',
					label: __('To User'),
					reqd: 1,
					options: user_options,
					ignore_validation: 1,
					description: __('Only users involved in the document are listed')
				}, {
					fieldname: 'review_type',
					fieldtype: 'Select',
					label: __('Action'),
					options: [{
						'label': __('Appreciate'),
						'value': 'Appreciation'
					}, {
						'label': __('Criticize'),
						'value': 'Criticism'
					}],
					default: 'Appreciation'
				}, {
					fieldname: 'points',
					fieldtype: 'Int',
					label: __('Points'),
					reqd: 1,
					description: __("Currently you have {0} review points", [this.points.review_points])
				}, {
					fieldtype: 'Small Text',
					fieldname: 'reason',
					reqd: 1,
					label: __('Reason')
				}],
				primary_action: function (values) {
					review_dialog.disable_primary_action();
					if (values.points > this$1.points.review_points) {
						return frappe.msgprint(__('You do not have enough points'));
					}
					frappe.xcall('frappe.social.doctype.energy_point_log.energy_point_log.review', {
						doc: {
							doctype: this$1.frm.doc.doctype,
							name: this$1.frm.doc.name,
						},
						to_user: values.to_user,
						points: values.points,
						review_type: values.review_type,
						reason: values.reason
					}).then(function (review) {
						review_dialog.hide();
						review_dialog.clear();
						this$1.frm.get_docinfo().energy_point_logs.unshift(review);
						this$1.frm.timeline.refresh();
						this$1.update_reviewers();
						this$1.update_points();
					}).finally(function () {
						review_dialog.enable_primary_action();
					});
				},
				primary_action_label: __('Submit')
			});
			review_dialog.show();
		}
		update_reviewers() {
			var this$1 = this;

			var review_logs = this.frm.get_docinfo().energy_point_logs
				.filter(function (log) { return ['Appreciation', 'Criticism'].includes(log.type); });

			this.reviews.find('.review').remove();
			review_logs.forEach(function (log) {
				var review_pill = $(("\n\t\t\t\t<div class=\"review " + (log.points < 0 ? 'criticism' : 'appreciation') + " cursor-pointer\">\n\t\t\t\t\t" + (frappe.avatar(log.owner)) + "\n\t\t\t\t\t<span class=\"review-points\">\n\t\t\t\t\t\t" + (log.points > 0 ? '+': '') + (log.points) + "\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t"));
				this$1.reviews.prepend(review_pill);
				this$1.setup_detail_popover(review_pill, log);
			});
		}
		setup_detail_popover(el, data) {
			var subject = '';
			var fullname = frappe.user.full_name(data.user);
			var timestamp = "<span class=\"text-muted\">" + (frappe.datetime.comment_when(data.creation)) + "</span>";
			var message_parts = [Math.abs(data.points), fullname, timestamp];
			if (data.type === 'Appreciation') {
				if (data.points == 1) {
					subject = __('{0} appreciation point for {1}', message_parts);
				} else {
					subject = __('{0} appreciation points for {1}', message_parts);
				}
			} else {
				if (data.points == -1) {
					subject = __('{0} criticism point for {1}', message_parts);
				} else {
					subject = __('{0} criticism points for {1}', message_parts);
				}
			}

			el.popover({
				animation: true,
				trigger: 'hover',
				delay: 500,
				placement: 'top',
				template: "\n\t\t\t\t<div class=\"review-popover popover\" role=\"tooltip\">\n\t\t\t\t\t<div class=\"arrow\"></div>\n\t\t\t\t\t<h3 class=\"popover-header\"></h3>\n\t\t\t\t\t<div class=\"popover-body\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>'\n\t\t\t",
				content: function () {
					return ("\n\t\t\t\t\t<div class=\"text-medium\">\n\t\t\t\t\t\t<div class=\"body\">\n\t\t\t\t\t\t\t<div>" + (data.reason) + "</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"subject\">\n\t\t\t\t\t\t\t" + (frappe.utils.icon('review')) + "\n\t\t\t\t\t\t\t" + subject + "\n\n\t\t\t\t\t\t\t<p class=\"mt-1\">\n\t\t\t\t\t\t\t\t<!-- " + (frappe.avatar("shivam@example.com", "avatar-xs")) + " -->\n\t\t\t\t\t\t\t\t<span>" + (frappe.user.full_name(data.owner)) + "</span> - " + timestamp + "\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t");
				},
				html: true,
				container: 'body'
			});


			return el;
		}
	};

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt

	frappe.provide('frappe.ui.form');

	frappe.ui.form.DocumentFollow = class DocumentFollow {
		constructor(opts) {
			$.extend(this, opts);
			if (!frappe.boot.user.document_follow_notify) {
				this.hide_follow_section();
				return;
			}
			this.follow_document_link = this.parent.find('.follow-document-link');
			this.unfollow_document_link = this.parent.find('.unfollow-document-link');
			this.follow_span = this.parent.find('.anchor-document-follow > span');
			this.followed_by = this.parent.find('.followed-by');
			this.followed_by_label = this.parent.find('.followed-by-label');
		}

		refresh() {
			this.set_followers();
			this.render_sidebar();
		}

		render_sidebar() {
			var docinfo = this.frm.get_docinfo();
			var document_follow_enabled = frappe.boot.user.document_follow_notify;
			var document_can_be_followed = frappe.get_meta(this.frm.doctype).track_changes;
			if (frappe.session.user === 'Administrator'
				|| !document_follow_enabled
				|| !document_can_be_followed
			) {
				this.hide_follow_section();
				return;
			}
			this.bind_events();

			var is_followed = docinfo && docinfo.is_document_followed;

			if(is_followed > 0) {
				this.unfollow_document_link.removeClass('hidden');
				this.follow_document_link.addClass('hidden');
			} else {
				this.followed_by_label.addClass('hidden');
				this.followed_by.addClass('hidden');
				this.unfollow_document_link.addClass('hidden');
				this.follow_document_link.removeClass('hidden');
			}
		}

		bind_events() {
			var this$1 = this;

			this.follow_document_link.on('click', function () {
				this$1.follow_document_link.addClass('text-muted disable-click');
				frappe.call({
					method: 'frappe.desk.form.document_follow.follow_document',
					args: {
						'doctype': this$1.frm.doctype,
						'doc_name': this$1.frm.doc.name,
						'user': frappe.session.user,
						'force': true
					},
					callback: function (r) {
						if (r.message) {
							this$1.follow_action();
						}
					}
				});
			});

			this.unfollow_document_link.on('click', function () {
				this$1.unfollow_document_link.addClass('text-muted disable-click');
				frappe.call({
					method: 'frappe.desk.form.document_follow.unfollow_document',
					args: {
						'doctype': this$1.frm.doctype,
						'doc_name': this$1.frm.doc.name,
						'user': frappe.session.user
					},
					callback: function (r) {
						if(r.message) {
							this$1.unfollow_action();
						}
					}
				});
			});
		}

		hide_follow_section() {
			this.parent.hide();
		}

		set_followers() {
			var this$1 = this;

			this.followed_by.removeClass('hidden');
			this.followed_by_label.removeClass('hidden');
			this.followed_by.empty();
			this.get_followed_user().then(function (user) {
				$(user).appendTo(this$1.followed_by);
			});
		}

		get_followed_user() {
			var this$1 = this;

			var html = '';
			return new Promise(function (resolve) {
				frappe.call({
					method: 'frappe.desk.form.document_follow.get_follow_users',
					args: {
						'doctype': this$1.frm.doctype,
						'doc_name': this$1.frm.doc.name,
					},
				}).then(function (r) {
					this$1.count_others = 0;
					for (var d in r.message) {
						this$1.count_others++;
						if(this$1.count_others < 4){
							html += frappe.avatar(r.message[d].user, 'avatar-small');
						}
						if(this$1.count_others === 0){
							this$1.followed_by.addClass('hidden');
						}
					}
					resolve(html);
				});
			});
		}

		follow_action() {
			frappe.show_alert({
				message: __('You are now following this document. You will receive daily updates via email. You can change this in User Settings.'),
				indicator: 'orange'
			});
			this.follow_document_link.removeClass('text-muted disable-click');
			this.follow_document_link.addClass('hidden');
			this.unfollow_document_link.removeClass('hidden');
			this.set_followers();
		}

		unfollow_action() {
			frappe.show_alert({
				message: __('You unfollowed this document'),
				indicator: 'red'
			});
			this.unfollow_document_link.removeClass('text-muted disable-click');
			this.unfollow_document_link.addClass('hidden');
			this.follow_document_link.removeClass('hidden');
			this.followed_by.addClass('hidden');
			this.followed_by_label.addClass('hidden');
		}
	};

	frappe.ui.form.set_user_image = function(frm) {

		var image_section = frm.sidebar.image_section;
		var image_field = frm.meta.image_field;
		var image = frm.doc[image_field];
		var title_image = frm.page.$title_area.find('.title-image');
		var image_actions = frm.sidebar.image_wrapper.find('.sidebar-image-actions');


		image_section.toggleClass('hide', image_field ? false : true);
		title_image.toggleClass('hide', image_field ? false : true);

		if(!image_field) {
			return;
		}

		// if image field has value
		if (image) {
			image = (window.cordova && image.indexOf('http')===-1) ?
				frappe.base_url + image : image;

			image_section
				.find(".sidebar-image")
				.attr("src", image)
				.removeClass("hide");

			image_section
				.find('.sidebar-standard-image')
				.addClass('hide');

			title_image
				.css("background-image", ("url(\"" + image + "\")"))
				.html('');

			image_actions.find('.sidebar-image-change, .sidebar-image-remove').show();

		} else {
			image_section
				.find(".sidebar-image")
				.attr("src", null)
				.addClass("hide");

			var title = frm.get_title();

			image_section
				.find('.sidebar-standard-image')
				.removeClass('hide')
				.find('.standard-image')
				.html(frappe.get_abbr(title));

			title_image.css("background-image", '')
				.html(frappe.get_abbr(title));

			image_actions.find('.sidebar-image-change').show();
			image_actions.find('.sidebar-image-remove').hide();
		}

	};

	frappe.ui.form.setup_user_image_event = function(frm) {
		// re-draw image on change of user image
		if(frm.meta.image_field) {
			frappe.ui.form.on(frm.doctype, frm.meta.image_field, function(frm) {
				frappe.ui.form.set_user_image(frm);
			});
		}

		frm.sidebar.image_wrapper.on('click', ':not(.sidebar-image-actions)', function (e) {
			var $target = $(e.currentTarget);
			if ($target.is('a.dropdown-toggle, .dropdown')) {
				return;
			}
			var dropdown = frm.sidebar.image_wrapper.find('.sidebar-image-actions .dropdown');
			dropdown.toggleClass('open');
			e.stopPropagation();
		});

		// bind click on image_wrapper
		frm.sidebar.image_wrapper.on('click', '.sidebar-image-change, .sidebar-image-remove', function(e) {
			var $target = $(e.currentTarget);
			var field = frm.get_field(frm.meta.image_field);
			if ($target.is('.sidebar-image-change')) {
				if(!field.$input) {
					field.make_input();
				}
				field.$input.trigger('click');
			} else {
				/// on remove event for a sidebar image wrapper remove attach file.
				frm.attachments.remove_attachment_by_filename(frm.doc[frm.meta.image_field], function() {
					field.set_value('').then(function () { return frm.save(); });
				});
			}
		});
	};

	frappe.ui.form.SidebarUsers = class {
		constructor(opts) {
			$.extend(this, opts);
		}

		get_users(type) {
			var docinfo = this.frm.get_docinfo();
			return docinfo ? docinfo[type] || null: null;
		}

		refresh(data_updated, type) {
			this.parent = type == 'viewers'? this.$wrapper.find('.form-viewers'): this.$wrapper.find('.form-typers');
			this.parent.empty();

			var users = this.get_users(type);
			users && this.show_in_sidebar(users, type, data_updated);
		}

		show_in_sidebar(users, type, show_alert) {
			var sidebar_users = [];
			var new_users = [];
			var current_users = [];

			var message = type == 'viewers' ? 'viewing this document': 'composing an email';

			users.current.forEach(function (username) {
				if (username === frappe.session.user) {
					// current user
					return;
				}

				var user_info = frappe.user_info(username);
				sidebar_users.push({
					image: user_info.image,
					fullname: user_info.fullname,
					abbr: user_info.abbr,
					color: user_info.color,
					title: __("{0} is currently {1}", [user_info.fullname, message])
				});

				if (users.new.indexOf(username) !== -1) {
					new_users.push(user_info.fullname);
				}

				current_users.push(user_info.fullname);
			});

			if (sidebar_users.length) {
				this.parent.parent().removeClass('hidden');
				this.parent.append(frappe.render_template('users_in_sidebar', {'users': sidebar_users}));
			} else {
				this.parent.parent().addClass('hidden');
			}

			// For typers always show the alert
			// For viewers show the alert to new user viewing this document
			var alert_users = type == 'viewers' ? new_users : current_users;
			show_alert && this.show_alert(alert_users, message);
		}

		show_alert(users, message) {
			if (users.length) {
				if (users.length===1) {
					frappe.show_alert(__('{0} is currently {1}', [users[0], message]));
				} else {
					frappe.show_alert(__('{0} are currently {1}', [frappe.utils.comma_and(users), message]));
				}
			}
		}
	};

	frappe.ui.form.Sidebar = class {
		constructor(opts) {
			$.extend(this, opts);
		}

		make () {
			var sidebar_content = frappe.render_template("form_sidebar", {doctype: this.frm.doctype, frm:this.frm});

			this.sidebar = $('<div class="form-sidebar overlay-sidebar hidden-xs hidden-sm"></div>')
				.html(sidebar_content)
				.appendTo(this.page.sidebar.empty());

			this.comments = this.sidebar.find(".form-sidebar-stats .comments");
			this.user_actions = this.sidebar.find(".user-actions");
			this.image_section = this.sidebar.find(".sidebar-image-section");
			this.image_wrapper = this.image_section.find('.sidebar-image-wrapper');
			this.make_assignments();
			this.make_attachments();
			this.make_review();
			this.make_shared();

			this.make_tags();
			this.make_like();
			this.make_follow();

			this.bind_events();
			this.setup_keyboard_shortcuts();
			this.show_auto_repeat_status();
			frappe.ui.form.setup_user_image_event(this.frm);

			this.refresh();

		}

		bind_events () {
			var me = this;

			// scroll to comments
			this.comments.on("click", function() {
				frappe.utils.scroll_to(me.frm.footer.wrapper.find(".comment-box"), true);
			});

			this.like_icon.on("click", function() {
				frappe.ui.toggle_like(me.like_wrapper, me.frm.doctype, me.frm.doc.name, function() {
					me.refresh_like();
				});
			});
		}

		setup_keyboard_shortcuts() {
			// add assignment shortcut
			var assignment_link = this.sidebar.find('.add-assignment');
			frappe.ui.keys
				.get_shortcut_group(this.page)
				.add(assignment_link);
		}

		refresh () {
			var this$1 = this;

			if (this.frm.doc.__islocal) {
				this.sidebar.toggle(false);
			} else {
				this.sidebar.toggle(true);
				this.frm.assign_to.refresh();
				this.frm.attachments.refresh();
				this.frm.shared.refresh();

				this.frm.tags && this.frm.tags.refresh(this.frm.get_docinfo().tags);

				if (this.frm.doc.route && cint(frappe.boot.website_tracking_enabled)) {
					var route = this.frm.doc.route;
					frappe.utils.get_page_view_count(route).then(function (res) {
						this$1.sidebar
							.find(".pageview-count")
							.html(
								__("{0} Page Views", [String(res.message).bold()])
							);
					});
				}

				this.sidebar
					.find(".modified-by")
					.html(
						__("{0} edited this {1}", [
							frappe.user.full_name(this.frm.doc.modified_by).bold(),
							"<br>" + comment_when(this.frm.doc.modified) ], "For example, 'Jon Doe edited this 5 minutes ago'.")
					);
				this.sidebar
					.find(".created-by")
					.html(
						__("{0} created this {1}", [
							frappe.user.full_name(this.frm.doc.owner).bold(),
							"<br>" + comment_when(this.frm.doc.creation) ], "For example, 'Jon Doe created this 5 minutes ago'.")
					);

				this.refresh_like();
				this.refresh_follow();
				this.refresh_comments_count();
				frappe.ui.form.set_user_image(this.frm);
			}
		}

		show_auto_repeat_status() {
			if (this.frm.meta.allow_auto_repeat && this.frm.doc.auto_repeat) {
				var me = this;
				frappe.call({
					method: "frappe.client.get_value",
					args:{
						doctype: "Auto Repeat",
						filters: {
							name: this.frm.doc.auto_repeat
						},
						fieldname: ["frequency"]
					},
					callback: function(res) {
						me.sidebar.find(".auto-repeat-status").html(__("Repeats {0}", [res.message.frequency]));
						me.sidebar.find(".auto-repeat-status").on("click", function(){
							frappe.set_route("Form", "Auto Repeat", me.frm.doc.auto_repeat);
						});
					}
				});
			}
		}

		make_tags() {
			if (this.frm.meta.issingle) {
				this.sidebar.find(".form-tags").toggle(false);
				return;
			}

			var tags_parent = this.sidebar.find(".form-tags");

			this.frm.tags = new frappe.ui.TagEditor({
				parent: tags_parent,
				add_button: tags_parent.find(".add-tags-btn"),
				frm: this.frm,
				on_change: function(user_tags) {
					this.frm.tags && this.frm.tags.refresh(user_tags);
				}
			});
		}

		make_attachments() {
			var me = this;
			this.frm.attachments = new frappe.ui.form.Attachments({
				parent: me.sidebar.find(".form-attachments"),
				frm: me.frm
			});
		}

		make_assignments() {
			this.frm.assign_to = new frappe.ui.form.AssignTo({
				parent: this.sidebar.find(".form-assignments"),
				frm: this.frm
			});
		}

		make_shared() {
			this.frm.shared = new frappe.ui.form.Share({
				frm: this.frm,
				parent: this.sidebar.find(".form-shared")
			});
		}

		add_user_action(label, click) {
			return $('<a>').html(label).appendTo($('<li class="user-action-row">')
				.appendTo(this.user_actions.removeClass("hidden"))).on("click", click);
		}

		clear_user_actions() {
			this.user_actions.addClass("hidden");
			this.user_actions.find(".user-action-row").remove();
		}

		make_like() {
			this.like_wrapper = this.sidebar.find(".liked-by");
			this.like_icon = this.sidebar.find(".liked-by .like-icon");
			this.like_count = this.sidebar.find(".liked-by .like-count");
			frappe.ui.setup_like_popover(this.sidebar.find(".form-stats-likes"), ".like-icon");
		}

		make_follow() {
			var this$1 = this;

			this.follow_button = this.sidebar.find(".form-sidebar-stats .form-follow");

			this.follow_button.on('click', function () {
				var is_followed = this$1.frm.get_docinfo().is_document_followed;
				frappe.call('frappe.desk.form.document_follow.update_follow', {
					'doctype': this$1.frm.doctype,
					'doc_name': this$1.frm.doc.name,
					'following': !is_followed
				}).then(function () {
					frappe.model.set_docinfo(this$1.frm.doctype, this$1.frm.doc.name, "is_document_followed", !is_followed);
					this$1.refresh_follow(!is_followed);
				});
			});
		}

		refresh_follow(follow) {
			if (follow == null) {
				follow = this.frm.get_docinfo().is_document_followed;
			}
			this.follow_button.text(follow ? __("Unfollow") : __("Follow"));
		}

		refresh_like() {
			if (!this.like_icon) {
				return;
			}

			this.like_wrapper.attr("data-liked-by", this.frm.doc._liked_by);
			var liked = frappe.ui.is_liked(this.frm.doc);
			this.like_wrapper
				.toggleClass("not-liked", !liked)
				.toggleClass("liked", liked)
				.attr("data-doctype", this.frm.doctype)
				.attr("data-name", this.frm.doc.name);

			this.like_count && this.like_count.text(JSON.parse(this.frm.doc._liked_by || "[]").length);
		}

		refresh_comments_count() {
			var count = (this.frm.get_docinfo().comments || []).length;
			this.comments.find(".comments-count").html(count);
		}

		refresh_image() {
		}

		make_review() {
			var review_wrapper = this.sidebar.find(".form-reviews");
			if (frappe.boot.energy_points_enabled && !this.frm.is_new()) {
				this.frm.reviews = new frappe.ui.form.Review({
					parent: review_wrapper,
					frm: this.frm
				});
			} else {
				review_wrapper.remove();
			}
		}

		reload_docinfo(callback) {
			var this$1 = this;

			frappe.call({
				method: "frappe.desk.form.load.get_docinfo",
				args: {
					doctype: this.frm.doctype,
					name: this.frm.docname
				},
				callback: function (r) {
					// docinfo will be synced
					if(callback) { callback(r.docinfo); }
					this$1.frm.timeline && this$1.frm.timeline.refresh();
					this$1.frm.assign_to.refresh();
					this$1.frm.attachments.refresh();
				}
			});
		}

	};

	// Copyright (c) 2020, Frappe Technologies Pvt. Ltd. and Contributors
	// MIT License. See license.txt

	class BaseTimeline {
		constructor(opts) {
			Object.assign(this, opts);
			this.make();
		}

		make() {
			this.timeline_wrapper = $("<div class=\"new-timeline\">");
			this.wrapper = this.timeline_wrapper;
			this.timeline_items_wrapper = $("<div class=\"timeline-items\">");
			this.timeline_actions_wrapper = $("\n\t\t\t<div class=\"timeline-items timeline-actions\">\n\t\t\t\t<div class=\"timeline-item\">\n\t\t\t\t\t<div class=\"timeline-dot\"></div>\n\t\t\t\t\t<div class=\"timeline-content action-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t");

			this.timeline_wrapper.append(this.timeline_actions_wrapper);
			this.timeline_actions_wrapper.hide();
			this.timeline_wrapper.append(this.timeline_items_wrapper);

			this.parent.replaceWith(this.timeline_wrapper);
			this.timeline_items = [];
		}

		refresh() {
			this.render_timeline_items();
		}

		add_action_button(label, action, icon, btn_class) {
			if ( icon === void 0 ) icon=null;
			if ( btn_class === void 0 ) btn_class=null;

			var icon_element = icon ? frappe.utils.icon(icon, 'xs') : null;
			this.timeline_actions_wrapper.show();
			var action_btn = $(("<button class=\"btn btn-xs " + (btn_class || 'btn-default') + " action-btn\">\n\t\t\t" + icon_element + "\n\t\t\t" + label + "\n\t\t</button>"));
			action_btn.click(action);
			this.timeline_actions_wrapper.find('.action-buttons').append(action_btn);
			return action_btn;
		}

		render_timeline_items() {
			var this$1 = this;

			this.timeline_items_wrapper.empty();
			this.timeline_items = [];
			this.doc_info = this.frm && this.frm.get_docinfo() || {};
			var response = this.prepare_timeline_contents();
			if (response instanceof Promise) {
				response.then(function () {
					this$1.timeline_items.sort(function (item1, item2) { return new Date(item2.creation) - new Date(item1.creation); });
					this$1.timeline_items.forEach(this$1.add_timeline_item.bind(this$1));
				});
			} else {
				this.timeline_items.sort(function (item1, item2) { return new Date(item2.creation) - new Date(item1.creation); });
				this.timeline_items.forEach(this.add_timeline_item.bind(this));
			}
		}

		prepare_timeline_contents() {
			//
		}

		add_timeline_item(item, append_at_the_end) {
			if ( append_at_the_end === void 0 ) append_at_the_end=false;

			var timeline_item = this.get_timeline_item(item);
			if (append_at_the_end) {
				this.timeline_items_wrapper.append(timeline_item);
			} else {
				this.timeline_items_wrapper.prepend(timeline_item);
			}
			return timeline_item;
		}

		add_timeline_items(items, append_at_the_end) {
			var this$1 = this;
			if ( append_at_the_end === void 0 ) append_at_the_end=false;

			items.forEach(function (item) { return this$1.add_timeline_item(item, append_at_the_end); });
		}

		get_timeline_item(item) {
			// item can have content*, creation*,
			// timeline_badge, icon, icon_size,
			// hide_timestamp, is_card
			var timeline_item = $("<div class=\"timeline-item\">");
			timeline_item.attr({
				"data-doctype": item.doctype,
				"data-name": item.name,
			});
			if (item.icon) {
				timeline_item.append(("\n\t\t\t\t<div class=\"timeline-badge\" title='" + (item.title || frappe.utils.to_title_case(item.icon)) + "'>\n\t\t\t\t\t" + (frappe.utils.icon(item.icon, item.icon_size || 'md')) + "\n\t\t\t\t</div>\n\t\t\t"));
			} else if (item.timeline_badge) {
				timeline_item.append(item.timeline_badge);
			} else {
				timeline_item.append("<div class=\"timeline-dot\">");
			}

			timeline_item.append(("<div class=\"timeline-content " + (item.is_card ? 'frappe-card' : '') + "\">"));
			timeline_item.find('.timeline-content').append(item.content);
			if (!item.hide_timestamp && !item.is_card) {
				timeline_item.find('.timeline-content').append(("<span> - " + (comment_when(item.creation)) + "</span>"));
			}
			return timeline_item;
		}
	}

	// REDESIGN-TODO: Review

	function get_version_timeline_content(version_doc, frm) {
		if (!version_doc.data) { return []; }
		var data = JSON.parse(version_doc.data);

		// comment
		if (data.comment) {
			return [get_version_comment(version_doc, data.comment)];
		}

		var out = [];

		var updater_reference_link = null;
		var updater_reference = data.updater_reference;
		if (!$.isEmptyObject(updater_reference)) {
			var label = updater_reference.label || __('via {0}', [updater_reference.doctype]);
			var doctype = updater_reference.doctype;
			var docname = updater_reference.docname;
			if (doctype && docname) {
				updater_reference_link = frappe.utils.get_form_link(
					doctype, docname, true, label);
			} else {
				updater_reference_link = label;
			}
		}

		// value changed in parent
		if (data.changed && data.changed.length) {
			var parts = [];
			data.changed.every(function(p) {
				if (p[0] === 'docstatus') {
					if (p[2] === 1) {
						var message = updater_reference_link
							? __('{0} submitted this document {1}', [get_user_link(version_doc), updater_reference_link])
							: __('{0} submitted this document', [get_user_link(version_doc)]);
						out.push(get_version_comment(version_doc, message));
					} else if (p[2] === 2) {
						var message$1 = updater_reference_link
							? __('{0} cancelled this document {1}', [get_user_link(version_doc), updater_reference_link])
							: __('{0} cancelled this document', [get_user_link(version_doc)]);
						out.push(get_version_comment(version_doc, message$1));
					}
				} else {
					var df = frappe.meta.get_docfield(frm.doctype, p[0], frm.docname);
					if (df && !df.hidden) {
						var field_display_status = frappe.perm.get_field_display_status(df, null,
							frm.perm);
						if (field_display_status === 'Read' || field_display_status === 'Write') {
							parts.push(__('{0} from {1} to {2}', [
								__(df.label),
								format_content_for_timeline(p[1]),
								format_content_for_timeline(p[2])
							]));
						}
					}
				}
				return parts.length < 3;
			});
			if (parts.length) {
				var message;
				if (updater_reference_link) {
					message = __("{0} changed value of {1} {2}", [get_user_link(version_doc), parts.join(', '), updater_reference_link]);
				} else {
					message = __("{0} changed value of {1}", [get_user_link(version_doc), parts.join(', ')]);
				}
				out.push(get_version_comment(version_doc, message));
			}
		}

		// value changed in table field
		if (data.row_changed && data.row_changed.length) {
			var parts$1 = [];
			data.row_changed.every(function(row) {
				row[3].every(function(p) {
					var df = frm.fields_dict[row[0]] &&
						frappe.meta.get_docfield(frm.fields_dict[row[0]].grid.doctype,
							p[0], frm.docname);

					if (df && !df.hidden) {
						var field_display_status = frappe.perm.get_field_display_status(df,
							null, frm.perm);

						if (field_display_status === 'Read' || field_display_status === 'Write') {
							parts$1.push(__('{0} from {1} to {2} in row #{3}', [
								frappe.meta.get_label(frm.fields_dict[row[0]].grid.doctype,
									p[0]),
								format_content_for_timeline(p[1]),
								format_content_for_timeline(p[2]),
								row[1]
							]));
						}
					}
					return parts$1.length < 3;
				});
				return parts$1.length < 3;
			});
			if (parts$1.length) {
				var message$1;
				if (updater_reference_link) {
					message$1 = __("{0} changed values for {1} {2}", [get_user_link(version_doc), parts$1.join(', '), updater_reference_link]);
				} else {
					message$1 = __("{0} changed values for {1}", [get_user_link(version_doc), parts$1.join(', ')]);
				}
				out.push(get_version_comment(version_doc, message$1));
			}
		}

		// rows added / removed
		// __('added'), __('removed') # for translation, don't remove
		['added', 'removed'].forEach(function(key) {
			if (data[key] && data[key].length) {
				var parts = (data[key] || []).map(function(p) {
					var df = frappe.meta.get_docfield(frm.doctype, p[0], frm.docname);
					if (df && !df.hidden) {
						var field_display_status = frappe.perm.get_field_display_status(df, null,
							frm.perm);

						if (field_display_status === 'Read' || field_display_status === 'Write') {
							return __(frappe.meta.get_label(frm.doctype, p[0]));
						}
					}
				});
				parts = parts.filter(function(p) {
					return p;
				});
				if (parts.length) {
					var message = '';

					if (key === 'added') {
						message = __("added rows for {0}", [parts.join(', ')]);
					} else if (key === 'removed') {
						message = __("removed rows for {0}", [parts.join(', ')]);
					}

					var version_comment = get_version_comment(version_doc, message);
					var user_link = get_user_link(version_doc);
					out.push((user_link + " " + version_comment));
				}
			}
		});

		return out;
	}


	function get_version_comment(version_doc, text) {
		// TODO: Replace with a better solution
		if (text.includes("<a")) {
			// if text already has linked content in it
			// then just add a version link to unlinked content
			var version_comment = "";
			var unlinked_content = "";

			try {
				text += '</>';
				Array.from($(text)).forEach(function (element) {
					if ($(element).is('a')) {
						version_comment += unlinked_content ? frappe.utils.get_form_link('Version', version_doc.name, true, unlinked_content) : "";
						unlinked_content = "";
						version_comment += element.outerHTML;
					} else {
						unlinked_content += element.outerHTML || element.textContent;
					}
				});
				if (unlinked_content) {
					version_comment += frappe.utils.get_form_link('Version', version_doc.name, true, unlinked_content);
				}
				return version_comment;
			} catch (e) {
				// pass
			}
		}
		return frappe.utils.get_form_link('Version', version_doc.name, true, text);
	}

	function format_content_for_timeline(content) {
		// text to HTML
		// limits content to 40 characters
		// escapes HTML
		// and makes it bold
		content = frappe.utils.html2text(content);
		content = frappe.ellipsis(content, 40) || '""';
		content = frappe.utils.escape_html(content);
		return content.bold();
	}

	function get_user_link(doc) {
		var user = doc.owner;
		var user_display_text = (frappe.user_info(user).fullname || '').bold();
		return frappe.utils.get_form_link('User', user, true, user_display_text);
	}

	// Copyright (c) 2020, Frappe Technologies Pvt. Ltd. and Contributors

	class FormTimeline extends BaseTimeline {

		make() {
			super.make();
			this.setup_timeline_actions();
			this.render_timeline_items();
			this.setup_activity_toggle();
		}

		refresh() {
			super.refresh();
			this.frm.trigger('timeline_refresh');
			this.setup_document_email_link();
		}

		setup_timeline_actions() {
			var this$1 = this;

			this.add_action_button(__('New Email'), function () { return this$1.compose_mail(); }, 'mail', 'btn-secondary-dark');
			this.setup_new_event_button();
		}

		setup_new_event_button() {
			var this$1 = this;

			if (this.frm.meta.allow_events_in_timeline) {
				var create_event = function () {
					var args = {
						doc: this$1.frm.doc,
						frm: this$1.frm,
						recipients: this$1.get_recipient(),
						txt: frappe.markdown(this$1.frm.comment_box.get_value())
					};
					return new frappe.views.InteractionComposer(args);
				};
				this.add_action_button(__('New Event'), create_event, 'calendar');
			}
		}

		setup_activity_toggle() {
			var doc_info = this.doc_info || this.frm.get_docinfo();
			var has_communications = function () {
				var communications = doc_info.communications;
				var comments = doc_info.comments;
				return (communications || []).length || (comments || []).length;
			};
			var me = this;
			if (has_communications()) {
				this.timeline_wrapper.prepend(("\n\t\t\t\t<div class=\"timeline-item activity-toggle\">\n\t\t\t\t\t<div class=\"timeline-dot\"></div>\n\t\t\t\t\t<div class=\"timeline-content flex align-center\">\n\t\t\t\t\t\t<h4>" + (__('Activity')) + "</h4>\n\t\t\t\t\t\t<nav class=\"nav nav-pills flex-row\">\n\t\t\t\t\t\t\t<a class=\"flex-sm-fill text-sm-center nav-link\" data-only-communication=\"true\">" + (__('Communication')) + "</a>\n\t\t\t\t\t\t\t<a class=\"flex-sm-fill text-sm-center nav-link active\">" + (__('All')) + "</a>\n\t\t\t\t\t\t</nav>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t")).find('a').on('click', function(e) {
					e.preventDefault();
					me.only_communication = $(this).data().onlyCommunication;
					me.render_timeline_items();
					$(this).tab('show');
				});
			}
		}

		setup_document_email_link() {
			var doc_info = this.doc_info || this.frm.get_docinfo();

			this.document_email_link_wrapper && this.document_email_link_wrapper.remove();

			if (doc_info.document_email) {
				var link = "<a class=\"document-email-link\">" + (doc_info.document_email) + "</a>";
				var message = __("Add to this activity by mailing to {0}", [link.bold()]);

				this.document_email_link_wrapper = $(("\n\t\t\t\t<div class=\"timeline-item\">\n\t\t\t\t\t<div class=\"timeline-dot\"></div>\n\t\t\t\t\t<div class=\"timeline-content\">\n\t\t\t\t\t\t<span>" + message + "</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"));
				this.timeline_actions_wrapper.append(this.document_email_link_wrapper);

				this.document_email_link_wrapper
					.find('.document-email-link')
					.on("click", function (e) {
						var text = $(e.target).text();
						frappe.utils.copy_to_clipboard(text);
					});
			}
		}

		render_timeline_items() {
			super.render_timeline_items();
			this.set_document_info();
		}

		set_document_info() {
			var this$1 = this;

			// TODO: handle creation via automation
			var creation_message = __("{0} created this {1}", [
				this.get_user_link(this.frm.doc.owner),
				comment_when(this.frm.doc.creation)
			]);

			var modified_message = __("{0} edited this {1}", [
				this.get_user_link(this.frm.doc.modified_by),
				comment_when(this.frm.doc.modified) ]);

			if (this.frm.doc.route && cint(frappe.boot.website_tracking_enabled)) {
				var route = this.frm.doc.route;
				frappe.utils.get_page_view_count(route).then(function (res) {
					var page_view_count_message = __('{0} Page views', [res.message]);
					this$1.add_timeline_item({
						content: (creation_message + " â¢ " + modified_message + " â¢ \t" + page_view_count_message),
						hide_timestamp: true
					}, true);
				});
			} else {
				this.add_timeline_item({
					content: (creation_message + " â¢ " + modified_message),
					hide_timestamp: true
				}, true);
			}
		}

		prepare_timeline_contents() {
			var ref, ref$1, ref$2, ref$3, ref$4, ref$5, ref$6, ref$7, ref$8, ref$9, ref$10, ref$11, ref$12, ref$13;

			(ref = this.timeline_items).push.apply(ref, this.get_communication_timeline_contents());
			(ref$1 = this.timeline_items).push.apply(ref$1, this.get_auto_messages_timeline_contents());
			(ref$2 = this.timeline_items).push.apply(ref$2, this.get_comment_timeline_contents());
			if (!this.only_communication) {
				(ref$3 = this.timeline_items).push.apply(ref$3, this.get_view_timeline_contents());
				(ref$4 = this.timeline_items).push.apply(ref$4, this.get_energy_point_timeline_contents());
				(ref$5 = this.timeline_items).push.apply(ref$5, this.get_version_timeline_contents());
				(ref$6 = this.timeline_items).push.apply(ref$6, this.get_share_timeline_contents());
				(ref$7 = this.timeline_items).push.apply(ref$7, this.get_workflow_timeline_contents());
				(ref$8 = this.timeline_items).push.apply(ref$8, this.get_like_timeline_contents());
				(ref$9 = this.timeline_items).push.apply(ref$9, this.get_custom_timeline_contents());
				(ref$10 = this.timeline_items).push.apply(ref$10, this.get_assignment_timeline_contents());
				(ref$11 = this.timeline_items).push.apply(ref$11, this.get_attachment_timeline_contents());
				(ref$12 = this.timeline_items).push.apply(ref$12, this.get_info_timeline_contents());
				(ref$13 = this.timeline_items).push.apply(ref$13, this.get_milestone_timeline_contents());
			}
		}

		get_user_link(user) {
			var user_display_text = (
				(frappe.session.user == user ? __("You") : frappe.user_info(user).fullname) || ''
			).bold();
			return frappe.utils.get_form_link('User', user, true, user_display_text);
		}

		get_view_timeline_contents() {
			var this$1 = this;

			var view_timeline_contents = [];
			(this.doc_info.views || []).forEach(function (view) {
				var view_content = "\n\t\t\t\t<a href=\"" + (frappe.utils.get_form_link('View Log', view.name)) + "\">\n\t\t\t\t\t" + (__("{0} viewed", [this$1.get_user_link(view.owner)])) + "\n\t\t\t\t</a>\n\t\t\t";
				view_timeline_contents.push({
					creation: view.creation,
					content: view_content,
				});
			});
			return view_timeline_contents;
		}

		get_communication_timeline_contents() {
			var this$1 = this;

			var communication_timeline_contents = [];
			var icon_set = {Email: "mail", Phone: "call", Meeting: "calendar", Other: "dot-horizontal"};
			(this.doc_info.communications|| []).forEach(function (communication) {
				var medium = communication.communication_medium;
				communication_timeline_contents.push({
					icon: icon_set[medium],
					icon_size: 'sm',
					creation: communication.creation,
					is_card: true,
					content: this$1.get_communication_timeline_content(communication),
					doctype: "Communication",
					name: communication.name
				});
			});
			return communication_timeline_contents;
		}

		get_communication_timeline_content(doc, allow_reply) {
			if ( allow_reply === void 0 ) allow_reply=true;

			doc._url = frappe.utils.get_form_link("Communication", doc.name);
			this.set_communication_doc_status(doc);
			if (doc.attachments && typeof doc.attachments === "string") {
				doc.attachments = JSON.parse(doc.attachments);
			}
			doc.owner = doc.sender;
			doc.user_full_name = doc.sender_full_name;
			doc.content = frappe.dom.remove_script_and_style(doc.content);
			var communication_content = $(frappe.render_template('timeline_message_box', { doc: doc }));
			if (allow_reply) {
				this.setup_reply(communication_content, doc);
			}
			return communication_content;
		}

		set_communication_doc_status(doc) {
			var indicator_color = "red";
			if (in_list(["Sent", "Clicked"], doc.delivery_status)) {
				indicator_color = "green";
			} else if (doc.delivery_status === "Sending") {
				indicator_color = "orange";
			} else if (in_list(["Opened", "Read"], doc.delivery_status)) {
				indicator_color = "blue";
			} else if (doc.delivery_status == "Error") {
				indicator_color = "red";
			}
			doc._doc_status = doc.delivery_status;
			doc._doc_status_indicator = indicator_color;
		}

		get_auto_messages_timeline_contents() {
			var this$1 = this;

			var auto_messages_timeline_contents = [];
			(this.doc_info.automated_messages|| []).forEach(function (message) {
				auto_messages_timeline_contents.push({
					icon: 'notification',
					icon_size: 'sm',
					creation: message.creation,
					is_card: true,
					content: this$1.get_communication_timeline_content(message, false),
					doctype: "Communication",
					name: message.name
				});
			});
			return auto_messages_timeline_contents;
		}

		get_comment_timeline_contents() {
			var this$1 = this;

			var comment_timeline_contents = [];
			(this.doc_info.comments || []).forEach(function (comment) {
				comment_timeline_contents.push(this$1.get_comment_timeline_item(comment));
			});
			return comment_timeline_contents;
		}

		get_comment_timeline_item(comment) {
			return {
				icon: 'small-message',
				creation: comment.creation,
				is_card: true,
				doctype: "Comment",
				name: comment.name,
				content: this.get_comment_timeline_content(comment),
			};
		}

		get_comment_timeline_content(doc) {
			doc.content = frappe.dom.remove_script_and_style(doc.content);
			var comment_content = $(frappe.render_template('timeline_message_box', { doc: doc }));
			this.setup_comment_actions(comment_content, doc);
			return comment_content;
		}

		get_version_timeline_contents() {
			var this$1 = this;

			var version_timeline_contents = [];
			(this.doc_info.versions || []).forEach(function (version) {
				var contents = get_version_timeline_content(version, this$1.frm);
				contents.forEach(function (content) {
					version_timeline_contents.push({
						creation: version.creation,
						content: content,
					});
				});
			});
			return version_timeline_contents;
		}

		get_share_timeline_contents() {
			var share_timeline_contents = [];
			(this.doc_info.share_logs || []).forEach(function (share_log) {
				share_timeline_contents.push({
					creation: share_log.creation,
					content: share_log.content,
				});
			});
			return share_timeline_contents;
		}

		get_assignment_timeline_contents() {
			var assignment_timeline_contents = [];
			(this.doc_info.assignment_logs || []).forEach(function (assignment_log) {
				assignment_timeline_contents.push({
					creation: assignment_log.creation,
					content: assignment_log.content,
				});
			});
			return assignment_timeline_contents;
		}

		get_info_timeline_contents() {
			var this$1 = this;

			var info_timeline_contents = [];
			(this.doc_info.info_logs || []).forEach(function (info_log) {
				info_timeline_contents.push({
					creation: info_log.creation,
					content: ((this$1.get_user_link(info_log.owner)) + " " + (info_log.content)),
				});
			});
			return info_timeline_contents;
		}

		get_attachment_timeline_contents() {
			var this$1 = this;

			var attachment_timeline_contents = [];
			(this.doc_info.attachment_logs || []).forEach(function (attachment_log) {
				var is_file_upload = attachment_log.comment_type == 'Attachment';
				attachment_timeline_contents.push({
					icon: is_file_upload ? 'upload' : 'delete',
					icon_size: 'sm',
					creation: attachment_log.creation,
					content: ((this$1.get_user_link(attachment_log.owner)) + " " + (attachment_log.content)),
				});
			});
			return attachment_timeline_contents;
		}

		get_milestone_timeline_contents() {
			var this$1 = this;

			var milestone_timeline_contents = [];
			(this.doc_info.milestones || []).forEach(function (milestone_log) {
				milestone_timeline_contents.push({
					icon: 'milestone',
					creation: milestone_log.creation,
					content: __('{0} changed {1} to {2}', [
						this$1.get_user_link(milestone_log.owner),
						frappe.meta.get_label(this$1.frm.doctype, milestone_log.track_field),
						milestone_log.value.bold()]),
				});
			});
			return milestone_timeline_contents;
		}

		get_like_timeline_contents() {
			var this$1 = this;

			var like_timeline_contents = [];
			(this.doc_info.like_logs || []).forEach(function (like_log) {
				like_timeline_contents.push({
					icon: 'heart',
					icon_size: 'sm',
					creation: like_log.creation,
					content: __('{0} Liked', [this$1.get_user_link(like_log.owner)]),
					title: "Like",
				});
			});
			return like_timeline_contents;
		}

		get_workflow_timeline_contents() {
			var this$1 = this;

			var workflow_timeline_contents = [];
			(this.doc_info.workflow_logs || []).forEach(function (workflow_log) {
				workflow_timeline_contents.push({
					icon: 'branch',
					icon_size: 'sm',
					creation: workflow_log.creation,
					content: ((this$1.get_user_link(workflow_log.owner)) + " " + (__(workflow_log.content))),
					title: "Workflow",
				});
			});
			return workflow_timeline_contents;
		}

		get_custom_timeline_contents() {
			var custom_timeline_contents = [];
			(this.doc_info.additional_timeline_content || []).forEach(function (custom_item) {
				custom_timeline_contents.push({
					icon: custom_item.icon,
					icon_size: 'sm',
					is_card: custom_item.is_card,
					creation: custom_item.creation,
					content: custom_item.content || frappe.render_template(custom_item.template, custom_item.template_data),
				});
			});
			return custom_timeline_contents;
		}

		get_energy_point_timeline_contents() {
			var energy_point_timeline_contents = [];
			(this.doc_info.energy_point_logs || []).forEach(function (log) {
				var timeline_badge = "\n\t\t\t<div class=\"timeline-badge " + (log.points > 0 ? 'appreciation': 'criticism') + " bold\">\n\t\t\t\t" + (log.points) + "\n\t\t\t</div>";

				energy_point_timeline_contents.push({
					timeline_badge: timeline_badge,
					creation: log.creation,
					content: frappe.energy_points.format_form_log(log)
				});
			});
			return energy_point_timeline_contents;
		}

		setup_reply(communication_box, communication_doc) {
			var this$1 = this;

			var actions = communication_box.find('.actions');
			var reply = $(("<a class=\"action-btn reply\">" + (frappe.utils.icon('reply', 'md')) + "</a>")).click(function () {
				this$1.compose_mail(communication_doc);
			});
			var reply_all = $(("<a class=\"action-btn reply-all\">" + (frappe.utils.icon('reply-all', 'md')) + "</a>")).click(function () {
				this$1.compose_mail(communication_doc, true);
			});
			actions.append(reply);
			actions.append(reply_all);
		}

		compose_mail(communication_doc, reply_all) {
			if ( communication_doc === void 0 ) communication_doc=null;
			if ( reply_all === void 0 ) reply_all=false;

			var args = {
				doc: this.frm.doc,
				frm: this.frm,
				recipients: communication_doc && communication_doc.sender != frappe.session.user_email ? communication_doc.sender : this.get_recipient(),
				is_a_reply: Boolean(communication_doc),
				title: communication_doc ? __('Reply') : null,
				last_email: communication_doc,
				subject: communication_doc && communication_doc.subject
			};

			if (communication_doc && reply_all) {
				args.cc = communication_doc.cc;
				args.bcc = communication_doc.bcc;
			}

			if (this.frm.doctype === "Communication") {
				args.txt = "";
				args.last_email = this.frm.doc;
				args.recipients = this.frm.doc.sender;
				args.subject = __("Re: {0}", [this.frm.doc.subject]);
			} else {
				var comment_value = frappe.markdown(this.frm.comment_box.get_value());
				args.txt = strip_html(comment_value) ? comment_value : '';
			}

			new frappe.views.CommunicationComposer(args);
		}

		get_recipient() {
			if (this.frm.email_field) {
				return this.frm.doc[this.frm.email_field];
			} else {
				return this.frm.doc.email_id || this.frm.doc.email || "";
			}
		}

		setup_comment_actions(comment_wrapper, doc) {
			var this$1 = this;

			var edit_wrapper = $("<div class=\"comment-edit-box\">").hide();
			var edit_box = this.make_editable(edit_wrapper);
			var content_wrapper = comment_wrapper.find('.content');

			var delete_button = $();
			if (frappe.model.can_delete("Comment")) {
				delete_button = $(("\n\t\t\t\t<button class=\"btn btn-link action-btn\">\n\t\t\t\t\t" + (frappe.utils.icon('close', 'sm')) + "\n\t\t\t\t</button>\n\t\t\t")).click(function () { return this$1.delete_comment(doc.name); });
			}

			var dismiss_button = $(("\n\t\t\t<button class=\"btn btn-link action-btn\">\n\t\t\t\t" + (__('Dismiss')) + "\n\t\t\t</button>\n\t\t")).click(function () { return edit_button.toggle_edit_mode(); });
			dismiss_button.hide();

			edit_box.set_value(doc.content);

			edit_box.on_submit = function (value) {
				content_wrapper.empty();
				content_wrapper.append(value);
				edit_button.prop("disabled", true);
				edit_box.quill.enable(false);

				doc.content = value;
				this$1.update_comment(doc.name, value)
					.then(edit_button.toggle_edit_mode)
					.finally(function () {
						edit_button.prop("disabled", false);
						edit_box.quill.enable(true);
					});
			};

			content_wrapper.after(edit_wrapper);

			var edit_button = $();
			var current_user = frappe.session.user;
			if (['Administrator', doc.owner].includes(current_user)) {
				edit_button = $(("<button class=\"btn btn-link action-btn\">" + (__("Edit")) + "</a>")).click(function () {
					edit_button.edit_mode ? edit_box.submit() : edit_button.toggle_edit_mode();
				});
			}

			edit_button.toggle_edit_mode = function () {
				edit_button.edit_mode = !edit_button.edit_mode;
				edit_button.text(edit_button.edit_mode ? __('Save') : __('Edit'));
				delete_button.toggle(!edit_button.edit_mode);
				dismiss_button.toggle(edit_button.edit_mode);
				edit_wrapper.toggle(edit_button.edit_mode);
				content_wrapper.toggle(!edit_button.edit_mode);
			};

			comment_wrapper.find('.actions').append(edit_button);
			comment_wrapper.find('.actions').append(dismiss_button);
			comment_wrapper.find('.actions').append(delete_button);
		}

		make_editable(container) {
			return frappe.ui.form.make_control({
				parent: container,
				df: {
					fieldtype: 'Comment',
					fieldname: 'comment',
					label: 'Comment'
				},
				enable_mentions: true,
				render_input: true,
				only_input: true,
				no_wrapper: true
			});
		}

		update_comment(name, content) {
			return frappe.xcall('frappe.desk.form.utils.update_comment', { name: name, content: content })
				.then(function () {
					frappe.utils.play_sound('click');
				});
		}

		get_last_email(from_recipient) {
			var last_email = null;
			var communications = this.frm.get_docinfo().communications || [];
			var email = this.get_recipient();
			// REDESIGN TODO: What is this? Check again
			(communications.sort(function (a, b) { return a.creation > b.creation ? -1 : 1; } )).forEach(function (c) {
				if (c.communication_type === 'Communication' && c.communication_medium === "Email") {
					if (from_recipient) {
						if (c.sender.indexOf(email)!==-1) {
							last_email = c;
							return false;
						}
					} else {
						last_email = c;
						return false;
					}
				}

			});

			return last_email;
		}

		delete_comment(comment_name) {
			frappe.confirm(__('Delete comment?'), function () {
				return frappe.xcall("frappe.client.delete", {
					doctype: "Comment",
					name: comment_name
				}).then(function () {
					frappe.utils.play_sound("delete");
				});
			});
		}
	}

	// Copyright (c) 2015, Frappe Technologies Pvt. Ltd. and Contributors
	frappe.ui.form.Footer = Class.extend({
		init: function(opts) {
			var this$1 = this;

			$.extend(this, opts);
			this.make();
			this.make_comment_box();
			this.make_timeline();
			// render-complete
			$(this.frm.wrapper).on("render_complete", function () {
				this$1.refresh();
			});
		},
		make: function() {
			var this$1 = this;

			this.wrapper = $(frappe.render_template("form_footer", {}))
				.appendTo(this.parent);
			this.wrapper.find(".btn-save").click(function () {
				this$1.frm.save('Save', null, this$1);
			});
		},
		make_comment_box: function() {
			var this$1 = this;

			this.frm.comment_box = frappe.ui.form.make_control({
				parent: this.wrapper.find(".comment-box"),
				render_input: true,
				only_input: true,
				enable_mentions: true,
				df: {
					fieldtype: 'Comment',
					fieldname: 'comment'
				},
				on_submit: function (comment) {
					if (strip_html(comment).trim() != "" || comment.includes('img')) {
						this$1.frm.comment_box.disable();
						frappe.xcall("frappe.desk.form.utils.add_comment", {
							reference_doctype: this$1.frm.doctype,
							reference_name: this$1.frm.docname,
							content: comment,
							comment_email: frappe.session.user,
							comment_by: frappe.session.user_fullname
						}).then(function (comment) {
							var comment_item = this$1.frm.timeline.get_comment_timeline_item(comment);
							this$1.frm.comment_box.set_value('');
							frappe.utils.play_sound("click");
							this$1.frm.timeline.add_timeline_item(comment_item);
							this$1.frm.sidebar.refresh_comments_count && this$1.frm.sidebar.refresh_comments_count();
						}).finally(function () {
							this$1.frm.comment_box.enable();
						});
					}
				}
			});
		},
		make_timeline: function make_timeline() {
			this.frm.timeline = new FormTimeline({
				parent: this.wrapper.find(".timeline"),
				frm: this.frm
			});
		},
		refresh: function() {
			if (this.frm.doc.__islocal) {
				this.parent.addClass("hide");
			} else {
				this.parent.removeClass("hide");
				this.frm.timeline.refresh();
			}
		},
	});

	frappe.provide('frappe.ui.form');
	frappe.provide('frappe.model.docinfo');

	frappe.ui.form.Controller = Class.extend({
		init: function(opts) {
			$.extend(this, opts);
		}
	});

	frappe.ui.form.Form = class FrappeForm {
		constructor(doctype, parent, in_form, doctype_layout_name) {
			this.docname = '';
			this.doctype = doctype;
			this.doctype_layout_name = doctype_layout_name;
			this.in_form = in_form ? true : false;

			this.hidden = false;
			this.refresh_if_stale_for = 120;
			this.opendocs = {};
			this.custom_buttons = {};
			this.sections = [];
			this.grids = [];
			this.cscript = new frappe.ui.form.Controller({ frm: this });
			this.events = {};
			this.fetch_dict = {};
			this.parent = parent;
			this.doctype_layout = frappe.get_doc('DocType Layout', doctype_layout_name);
			this.setup_meta(doctype);
		}

		setup_meta() {
			this.meta = frappe.get_doc('DocType', this.doctype);

			if(this.meta.istable) {
				this.meta.in_dialog = 1;
			}

			this.perm = frappe.perm.get_perm(this.doctype); // for create
			this.action_perm_type_map = {
				"Create": "create",
				"Save": "write",
				"Submit": "submit",
				"Update": "submit",
				"Cancel": "cancel",
				"Amend": "amend",
				"Delete": "delete"
			};
		}

		setup() {
			this.fields = [];
			this.fields_dict = {};
			this.state_fieldname = frappe.workflow.get_state_fieldname(this.doctype);

			// wrapper
			this.wrapper = this.parent;
			this.$wrapper = $(this.wrapper);
			frappe.ui.make_app_page({
				parent: this.wrapper,
				single_column: this.meta.hide_toolbar
			});
			this.page = this.wrapper.page;
			this.layout_main = this.page.main.get(0);

			this.toolbar = new frappe.ui.form.Toolbar({
				frm: this,
				page: this.page
			});

			// navigate records keyboard shortcuts
			this.add_form_keyboard_shortcuts();

			// 2 column layout
			this.setup_std_layout();

			// client script must be called after "setup" - there are no fields_dict attached to the frm otherwise
			this.script_manager = new frappe.ui.form.ScriptManager({
				frm: this
			});
			this.script_manager.setup();
			this.watch_model_updates();

			if (!this.meta.hide_toolbar && frappe.boot.desk_settings.timeline) {
				this.footer = new frappe.ui.form.Footer({
					frm: this,
					parent: $('<div>').appendTo(this.page.main.parent())
				});
				$("body").attr("data-sidebar", 1);
			}
			this.setup_file_drop();
			this.setup_doctype_actions();
			this.setup_notify_on_rename();

			this.setup_done = true;
		}

		add_form_keyboard_shortcuts() {
			var this$1 = this;

			// Navigate to next record
			frappe.ui.keys.add_shortcut({
				shortcut: 'shift+ctrl+>',
				action: function () { return this$1.navigate_records(0); },
				page: this.page,
				description: __('Go to next record'),
				ignore_inputs: true,
				condition: function () { return !this$1.is_new(); }
			});

			// Navigate to previous record
			frappe.ui.keys.add_shortcut({
				shortcut: 'shift+ctrl+<',
				action: function () { return this$1.navigate_records(1); },
				page: this.page,
				description: __('Go to previous record'),
				ignore_inputs: true,
				condition: function () { return !this$1.is_new(); }
			});

			var grid_shortcut_keys = [
				{
					'shortcut': 'Up Arrow',
					'description': __('Move cursor to above row')
				},
				{
					'shortcut': 'Down Arrow',
					'description': __('Move cursor to below row')
				},
				{
					'shortcut': 'tab',
					'description': __('Move cursor to next column')
				},
				{
					'shortcut': 'shift+tab',
					'description': __('Move cursor to previous column')
				},
				{
					'shortcut': 'Ctrl+up',
					'description': __('Add a row above the current row')
				},
				{
					'shortcut': 'Ctrl+down',
					'description': __('Add a row below the current row')
				},
				{
					'shortcut': 'Ctrl+shift+up',
					'description': __('Add a row at the top')
				},
				{
					'shortcut': 'Ctrl+shift+down',
					'description': __('Add a row at the bottom')
				},
				{
					'shortcut': 'shift+alt+down',
					'description': __('To duplcate current row')
				}
			];

			grid_shortcut_keys.forEach(function (row) {
				frappe.ui.keys.add_shortcut({
					shortcut: row.shortcut,
					page: this$1,
					description: __(row.description),
					ignore_inputs: true,
					condition: function () { return !this$1.is_new(); }
				});
			});

		}

		setup_std_layout() {
			this.form_wrapper 	= $('<div></div>').appendTo(this.layout_main);
			this.body 			= $('<div></div>').appendTo(this.form_wrapper);

			// only tray
			this.meta.section_style='Simple'; // always simple!

			// layout
			this.layout = new frappe.ui.form.Layout({
				parent: this.body,
				doctype: this.doctype,
				doctype_layout: this.doctype_layout,
				frm: this,
				with_dashboard: true,
				card_layout: true,
			});
			this.layout.make();

			this.fields_dict = this.layout.fields_dict;
			this.fields = this.layout.fields_list;

			this.dashboard = new frappe.ui.form.Dashboard({
				frm: this,
				parent: $('<div class="form-dashboard">').insertAfter(this.layout.wrapper.find('.form-message'))
			});

			// workflow state
			this.states = new frappe.ui.form.States({
				frm: this
			});
		}

		watch_model_updates() {
			// watch model updates
			var me = this;

			// on main doc
			frappe.model.on(me.doctype, "*", function(fieldname, value, doc) {
				// set input
				if(doc.name===me.docname) {
					me.dirty();

					var field = me.fields_dict[fieldname];
					field && field.refresh(fieldname);

					// Validate value for link field explicitly
					field && ["Link", "Dynamic Link"].includes(field.df.fieldtype) && field.validate && field.validate(value);

					me.layout.refresh_dependency();
					me.layout.refresh_sections();
					return me.script_manager.trigger(fieldname, doc.doctype, doc.name);
				}
			});

			// on table fields
			var table_fields = frappe.get_children("DocType", me.doctype, "fields", {
				fieldtype: ["in", frappe.model.table_fields]
			});

			// using $.each to preserve df via closure
			$.each(table_fields, function(i, df) {
				frappe.model.on(df.options, "*", function(fieldname, value, doc) {
					if(doc.parent===me.docname && doc.parentfield===df.fieldname) {
						me.dirty();
						me.fields_dict[df.fieldname].grid.set_value(fieldname, value, doc);
						return me.script_manager.trigger(fieldname, doc.doctype, doc.name);
					}
				});
			});
		}

		setup_notify_on_rename() {
			var this$1 = this;

			$(document).on('rename', function (ev, dt, old_name, new_name) {
				if (dt==this$1.doctype)
					{ this$1.rename_notify(dt, old_name, new_name); }
			});
		}

		setup_file_drop() {
			var me = this;
			this.$wrapper.on('dragenter dragover', false)
				.on('drop', function(e) {
					var dataTransfer = e.originalEvent.dataTransfer;
					if (!(dataTransfer && dataTransfer.files && dataTransfer.files.length > 0)) {
						return;
					}

					e.stopPropagation();
					e.preventDefault();

					if(me.doc.__islocal) {
						frappe.msgprint(__("Please save before attaching."));
						throw "attach error";
					}

					new frappe.ui.FileUploader({
						doctype: me.doctype,
						docname: me.docname,
						frm: me,
						files: dataTransfer.files,
						folder: 'Home/Attachments',
						on_success: function on_success(file_doc) {
							me.attachments.attachment_uploaded(file_doc);
						}
					});
				});
		}

		// REFRESH

		refresh(docname) {
			var switched = docname ? true : false;

			if(docname) {
				this.switch_doc(docname);
			}

			cur_frm = this;

			if(this.docname) { // document to show
				this.save_disabled = false;
				// set the doc
				this.doc = frappe.get_doc(this.doctype, this.docname);

				// check permissions
				if (!this.has_read_permission()) {
					frappe.show_not_permitted(__(this.doctype) + " " + __(this.docname));
					return;
				}

				// read only (workflow)
				this.read_only = frappe.workflow.is_read_only(this.doctype, this.docname);
				if (this.read_only) { this.set_read_only(true); }

				// check if doctype is already open
				if (!this.opendocs[this.docname]) {
					this.check_doctype_conflict(this.docname);
				} else {
					if (this.check_reload()) {
						return;
					}
				}

				// do setup
				if(!this.setup_done) {
					this.setup();
				}

				// load the record for the first time, if not loaded (call 'onload')
				this.trigger_onload(switched);

				// if print format is shown, refresh the format
				// if(this.print_preview.wrapper.is(":visible")) {
				// 	this.print_preview.preview();
				// }

				if(switched) {
					if(this.show_print_first && this.doc.docstatus===1) {
						// show print view
						this.print_doc();
					}
				}

				// set status classes
				this.$wrapper.removeClass('validated-form')
					.toggleClass('editable-form', this.doc.docstatus===0)
					.toggleClass('submitted-form', this.doc.docstatus===1)
					.toggleClass('cancelled-form', this.doc.docstatus===2);

				this.show_conflict_message();
			}
		}

		// sets up the refresh event for custom buttons
		// added via configuration
		setup_doctype_actions() {
			var this$1 = this;

			if (this.meta.actions) {
				var loop = function () {
					var action = list[i];

					frappe.ui.form.on(this$1.doctype, 'refresh', function () {
						if (!this$1.is_new()) {
							if (!action.hidden) {
								this$1.add_custom_button(action.label, function () {
									this$1.execute_action(action);
								}, action.group);
							}
						}
					});
				};

				for (var i = 0, list = this$1.meta.actions; i < list.length; i += 1) loop();
			}
		}

		execute_action(action) {
			var this$1 = this;

			if (typeof action === 'string') {
				// called by label - maybe via custom script
				// frm.execute_action('Action')
				for (var i = 0, list = this.meta.actions; i < list.length; i += 1) {
					var _action = list[i];

					if (_action.label === action) {
						action = _action;
						break;
					}
				}

				if (typeof action === 'string') {
					frappe.throw(("Action " + action + " not found"));
				}
			}
			if (action.action_type==='Server Action') {
				frappe.xcall(action.action, {'doc': this.doc}).then(function (doc) {
					if (doc.doctype) {
						// document is returned by the method,
						// apply the changes locally and refresh
						frappe.model.sync(doc);
						this$1.refresh();
					}

					// feedback
					frappe.msgprint({
						message: __('{} Complete', [action.label]),
						alert: true
					});
				});
			} else if (action.action_type==='Route') {
				frappe.set_route(action.action);
			}
		}

		switch_doc(docname) {
			// reset visible columns, since column headings can change in different docs
			this.grids.forEach(function (grid_obj) {
				grid_obj.grid.visible_columns = null;
				// reset page number to 1
				grid_obj.grid.grid_pagination.go_to_page(1, true);
			});
			frappe.ui.form.close_grid_form();
			this.viewers && this.viewers.parent.empty();
			this.docname = docname;
			this.setup_docinfo_change_listener();
		}

		check_reload() {
			if(this.doc && (!this.doc.__unsaved) && this.doc.__last_sync_on &&
				(new Date() - this.doc.__last_sync_on) > (this.refresh_if_stale_for * 1000)) {
				this.reload_doc();
				return true;
			}
		}

		trigger_onload(switched) {
			this.cscript.is_onload = false;
			if(!this.opendocs[this.docname]) {
				var me = this;
				this.cscript.is_onload = true;
				this.initialize_new_doc();
				$(document).trigger("form-load", [this]);
				$(this.page.wrapper).on('hide',  function() {
					$(document).trigger("form-unload", [me]);
				});
			} else {
				this.render_form(switched);
				if (this.doc.localname) {
					// trigger form-rename and remove .localname
					delete this.doc.localname;
					$(document).trigger("form-rename", [this]);
				}
			}
		}

		initialize_new_doc() {
			// moved this call to refresh function
			// this.check_doctype_conflict(docname);
			var me = this;

			// hide any open grid
			this.script_manager.trigger("before_load", this.doctype, this.docname)
				.then(function () {
					me.script_manager.trigger("onload");
					me.opendocs[me.docname] = true;
					me.render_form();

					frappe.after_ajax(function() {
						me.trigger_link_fields();
					});

					frappe.breadcrumbs.add(me.meta.module, me.doctype);
				});

			// update seen
			if(this.meta.track_seen) {
				$('.list-id[data-name="'+ me.docname +'"]').addClass('seen');
			}
		}

		render_form(switched) {
			var this$1 = this;

			if(!this.meta.istable) {
				this.layout.doc = this.doc;
				this.layout.attach_doc_and_docfields();

				if (frappe.boot.desk_settings.form_sidebar) {
					this.sidebar = new frappe.ui.form.Sidebar({
						frm: this,
						page: this.page
					});
					this.sidebar.make();
				}

				// clear layout message
				this.layout.show_message();

				frappe.run_serially([
					// header must be refreshed before client methods
					// because add_custom_button
					function () { return this$1.refresh_header(switched); },
					// trigger global trigger
					// to use this
					function () { return $(document).trigger('form-refresh', [this$1]); },
					// fields
					function () { return this$1.refresh_fields(); },
					// call trigger
					function () { return this$1.script_manager.trigger("refresh"); },
					// call onload post render for callbacks to be fired
					function () {
						if(this$1.cscript.is_onload) {
							return this$1.script_manager.trigger("onload_post_render");
						}
					},
					function () { return this$1.cscript.is_onload && this$1.is_new() && this$1.focus_on_first_input(); },
					function () { return this$1.run_after_load_hook(); },
					function () { return this$1.dashboard.after_refresh(); }
				]);

			} else {
				this.refresh_header(switched);
			}

			this.$wrapper.trigger('render_complete');

			if(!this.hidden) {
				this.layout.show_empty_form_message();
			}

			this.scroll_to_element();
		}

		focus_on_first_input() {
			var first = this.form_wrapper.find('.form-layout :input:visible:first');
			if (!in_list(["Date", "Datetime"], first.attr("data-fieldtype"))) {
				first.focus();
			}
		}

		run_after_load_hook() {
			if (frappe.route_hooks.after_load) {
				var route_callback = frappe.route_hooks.after_load;
				delete frappe.route_hooks.after_load;

				route_callback(this);
			}
		}

		refresh_fields() {
			this.layout.refresh(this.doc);
			this.layout.primary_button = this.$wrapper.find(".btn-primary");

			// cleanup activities after refresh
			this.cleanup_refresh(this);
		}

		cleanup_refresh() {
			if(this.fields_dict['amended_from']) {
				if (this.doc.amended_from) {
					unhide_field('amended_from');
					if (this.fields_dict['amendment_date']) { unhide_field('amendment_date'); }
				} else {
					hide_field('amended_from');
					if (this.fields_dict['amendment_date']) { hide_field('amendment_date'); }
				}
			}

			if(this.fields_dict['trash_reason']) {
				if(this.doc.trash_reason && this.doc.docstatus == 2) {
					unhide_field('trash_reason');
				} else {
					hide_field('trash_reason');
				}
			}

			if(this.meta.autoname && this.meta.autoname.substr(0,6)=='field:' && !this.doc.__islocal) {
				var fn = this.meta.autoname.substr(6);

				if (this.doc[fn]) {
					this.toggle_display(fn, false);
				}
			}

			if(this.meta.autoname=="naming_series:" && !this.doc.__islocal) {
				this.toggle_display("naming_series", false);
			}
		}

		refresh_header(switched) {
			// set title
			// main title
			if(!this.meta.in_dialog || this.in_form) {
				frappe.utils.set_title(this.meta.issingle ? this.doctype : this.docname);
			}

			// show / hide buttons
			if(this.toolbar) {
				if (switched) {
					this.toolbar.current_status = undefined;
				}
				this.toolbar.refresh();
			}

			this.dashboard.refresh();
			frappe.breadcrumbs.update();

			this.show_submit_message();
			this.clear_custom_buttons();
			this.show_web_link();
		}

		// SAVE

		save_or_update() {
			if(this.save_disabled) { return; }

			if(this.doc.docstatus===0) {
				this.save();
			} else if(this.doc.docstatus===1 && this.doc.__unsaved) {
				this.save("Update");
			}
		}

		save(save_action, callback, btn, on_error) {
			var me = this;
			return new Promise(function (resolve, reject) {
				btn && $(btn).prop("disabled", true);
				frappe.ui.form.close_grid_form();
				me.validate_and_save(save_action, callback, btn, on_error, resolve, reject);
			}).then(function () {
				me.show_success_action();
			}).catch(function (e) {
				console.error(e); // eslint-disable-line
			});
		}

		validate_and_save(save_action, callback, btn, on_error, resolve, reject) {
			var this$1 = this;

			var me = this;
			if(!save_action) { save_action = "Save"; }
			this.validate_form_action(save_action, resolve);

			var after_save = function(r) {
				if(!r.exc) {
					if (["Save", "Update", "Amend"].indexOf(save_action)!==-1) {
						frappe.utils.play_sound("click");
					}

					me.script_manager.trigger("after_save");

					if (frappe.route_hooks.after_save) {
						var route_callback = frappe.route_hooks.after_save;
						delete frappe.route_hooks.after_save;

						route_callback(me);
					}
					// submit comment if entered
					if (me.comment_box) {
						me.comment_box.submit();
					}
					me.refresh();
				} else {
					if(on_error) {
						on_error();
						reject();
					}
				}
				callback && callback(r);
				resolve();
			};

			var fail = function (e) {
				if (e) {
					console.error(e);
				}
				btn && $(btn).prop("disabled", false);
				if(on_error) {
					on_error();
					reject();
				}
			};

			if(save_action != "Update") {
				// validate
				frappe.validated = true;
				frappe.run_serially([
					function () { return this$1.script_manager.trigger("validate"); },
					function () { return this$1.script_manager.trigger("before_save"); },
					function () {
						if(!frappe.validated) {
							fail();
							return;
						}

						frappe.ui.form.save(me, save_action, after_save, btn);
					}
				]).catch(fail);
			} else {
				frappe.ui.form.save(me, save_action, after_save, btn);
			}
		}

		savesubmit(btn, callback, on_error) {
			var this$1 = this;

			var me = this;
			return new Promise(function (resolve) {
				this$1.validate_form_action("Submit");
				frappe.confirm(__("Permanently Submit {0}?", [this$1.docname]), function() {
					frappe.validated = true;
					me.script_manager.trigger("before_submit").then(function() {
						if(!frappe.validated) {
							return me.handle_save_fail(btn, on_error);
						}

						me.save('Submit', function(r) {
							if(r.exc) {
								me.handle_save_fail(btn, on_error);
							} else {
								frappe.utils.play_sound("submit");
								callback && callback();
								me.script_manager.trigger("on_submit")
									.then(function () { return resolve(me); })
									.then(function () {
										if (frappe.route_hooks.after_submit) {
											var route_callback = frappe.route_hooks.after_submit;
											delete frappe.route_hooks.after_submit;
											route_callback(me);
										}
									});
							}
						}, btn, function () { return me.handle_save_fail(btn, on_error); }, resolve);
					});
				}, function () { return me.handle_save_fail(btn, on_error); } );
			});
		}

		savecancel(btn, callback, on_error) {
			var me = this;
			this.validate_form_action('Cancel');
			me.ignore_doctypes_on_cancel_all = me.ignore_doctypes_on_cancel_all || [];
			frappe.call({
				method: "frappe.desk.form.linked_with.get_submitted_linked_docs",
				args: {
					doctype: me.doc.doctype,
					name: me.doc.name
				},
				freeze: true
			}).then(function (r) {
				if (!r.exc) {
					var doctypes_to_cancel = (r.message.docs || []).map(function (value) {
						return value.doctype;
					}).filter(function (value) {
						return !me.ignore_doctypes_on_cancel_all.includes(value);
					});

					if (doctypes_to_cancel.length) {
						return me._cancel_all(r, btn, callback, on_error);
					}
				}
				return me._cancel(btn, callback, on_error, false);
			}
			);
		}

		_cancel_all(r, btn, callback, on_error) {
			var me = this;

			// add confirmation message for cancelling all linked docs
			var links_text = "";
			var links = r.message.docs;
			var doctypes = Array.from(new Set(links.map(function (link) { return link.doctype; })));

			me.ignore_doctypes_on_cancel_all = me.ignore_doctypes_on_cancel_all || [];

			var loop = function () {
				var doctype = list[i];

				if (!me.ignore_doctypes_on_cancel_all.includes(doctype)) {
					var docnames = links
						.filter(function (link) { return link.doctype == doctype; })
						.map(function (link) { return frappe.utils.get_form_link(link.doctype, link.name, true); })
						.join(", ");
					links_text += "<li><strong>" + doctype + "</strong>: " + docnames + "</li>";
				}
			};

			for (var i = 0, list = doctypes; i < list.length; i += 1) loop();
			links_text = "<ul>" + links_text + "</ul>";

			var confirm_message = __('{0} {1} is linked with the following submitted documents: {2}',
				[(me.doc.doctype).bold(), me.doc.name, links_text]);

			var can_cancel = links.every(function (link) { return frappe.model.can_cancel(link.doctype); });
			if (can_cancel) {
				confirm_message += __('Do you want to cancel all linked documents?');
			} else {
				confirm_message += __('You do not have permissions to cancel all linked documents.');
			}

			// generate dialog box to cancel all linked docs
			var d = new frappe.ui.Dialog({
				title: __("Cancel All Documents"),
				fields: [{
					fieldtype: "HTML",
					options: ("<p class=\"frappe-confirm-message\">" + confirm_message + "</p>")
				}]
			}, function () { return me.handle_save_fail(btn, on_error); });

			// if user can cancel all linked docs, add action to the dialog
			if (can_cancel) {
				d.set_primary_action("Cancel All", function () {
					d.hide();
					frappe.call({
						method: "frappe.desk.form.linked_with.cancel_all_linked_docs",
						args: {
							docs: links,
							ignore_doctypes_on_cancel_all: me.ignore_doctypes_on_cancel_all || []
						},
						freeze: true,
						callback: function (resp) {
							if (!resp.exc) {
								me.reload_doc();
								me._cancel(btn, callback, on_error, true);
							}
						}
					});
				});
			}

			d.show();
		}

		_cancel(btn, callback, on_error, skip_confirm) {
			var me = this;
			var cancel_doc = function () {
				frappe.validated = true;
				me.script_manager.trigger("before_cancel").then(function () {
					if (!frappe.validated) {
						return me.handle_save_fail(btn, on_error);
					}

					var after_cancel = function(r) {
						if (r.exc) {
							me.handle_save_fail(btn, on_error);
						} else {
							frappe.utils.play_sound("cancel");
							me.refresh();
							callback && callback();
							me.script_manager.trigger("after_cancel");
						}
					};
					frappe.ui.form.save(me, "cancel", after_cancel, btn);
				});
			};

			if (skip_confirm) {
				cancel_doc();
			} else {
				frappe.confirm(__("Permanently Cancel {0}?", [this.docname]), cancel_doc, me.handle_save_fail(btn, on_error));
			}
		};

		savetrash() {
			this.validate_form_action("Delete");
			frappe.model.delete_doc(this.doctype, this.docname, function() {
				window.history.back();
			});
		}

		amend_doc() {
			var this$1 = this;

			if (!this.fields_dict['amended_from']) {
				frappe.msgprint(__('"amended_from" field must be present to do an amendment.'));
				return;
			}

			frappe.xcall('frappe.client.is_document_amended', {
				'doctype': this.doc.doctype,
				'docname': this.doc.name
			}).then(function (is_amended) {
				if (is_amended) {
					frappe.throw(__('This document is already amended, you cannot ammend it again'));
				}
				this$1.validate_form_action("Amend");
				var me = this$1;
				var fn = function(newdoc) {
					newdoc.amended_from = me.docname;
					if (me.fields_dict && me.fields_dict['amendment_date'])
						{ newdoc.amendment_date = frappe.datetime.obj_to_str(new Date()); }
				};
				this$1.copy_doc(fn, 1);
				frappe.utils.play_sound("click");
			});
		}

		validate_form_action(action, resolve) {
			var perm_to_check = this.action_perm_type_map[action];
			var allowed_for_workflow = false;
			var perms = frappe.perm.get_perm(this.doc.doctype)[0];

			// Allow submit, write, cancel and create permissions for read only documents that are assigned by
			// workflows if the user already have those permissions. This is to allow for users to
			// continue through the workflow states and to allow execution of functions like Duplicate.
			if ((frappe.workflow.is_read_only(this.doctype, this.docname) && (perms["write"] ||
				perms["create"] || perms["submit"] || perms["cancel"])) || !frappe.workflow.is_read_only(this.doctype, this.docname)) {
				allowed_for_workflow = true;
			}

			if (!this.perm[0][perm_to_check] && !allowed_for_workflow) {
				if(resolve) {
					// re-enable buttons
					resolve();
				}

				frappe.throw(
					__("No permission to '{0}' {1}", [__(action), __(this.doc.doctype)], "{0} = verb, {1} = object")
				);
			}
		}

		// HELPERS

		enable_save() {
			this.save_disabled = false;
			this.toolbar.set_primary_action();
		}

		disable_save() {
			// IMPORTANT: this function should be called in refresh event
			this.save_disabled = true;
			this.toolbar.current_status = null;
			this.page.clear_primary_action();
		}

		disable_form() {
			var this$1 = this;

			this.set_read_only();
			this.fields
				.forEach(function (field) {
					this$1.set_df_property(field.df.fieldname, "read_only", "1");
				});
			this.disable_save();
		}

		handle_save_fail(btn, on_error) {
			$(btn).prop('disabled', false);
			if (on_error) {
				on_error();
			}
		}

		trigger_link_fields() {
			// trigger link fields which have default values set
			if (this.is_new() && this.doc.__run_link_triggers) {
				$.each(this.fields_dict, function(fieldname, field) {
					if (field.df.fieldtype=="Link" && this.doc[fieldname]) {
						// triggers add fetch, sets value in model and runs triggers
						field.set_value(this.doc[fieldname]);
					}
				});

				delete this.doc.__run_link_triggers;
			}
		}

		show_conflict_message() {
			if(this.doc.__needs_refresh) {
				if(this.doc.__unsaved) {
					this.dashboard.clear_headline();
					this.dashboard.set_headline_alert(__("This form has been modified after you have loaded it")
						+ '<a class="btn btn-xs btn-primary pull-right" onclick="cur_frm.reload_doc()">'
						+ __("Refresh") + '</a>', "alert-warning");
				} else {
					this.reload_doc();
				}
			}
		}

		show_submit_message() {
			if(this.meta.is_submittable
				&& this.perm[0] && this.perm[0].submit
				&& !this.is_dirty()
				&& !this.is_new()
				&& !frappe.model.has_workflow(this.doctype) // show only if no workflow
				&& this.doc.docstatus===0) {
				this.dashboard.add_comment(__('Submit this document to confirm'), 'blue', true);
			}
		}

		show_web_link() {
			if(!this.doc.__islocal && this.doc.__onload && this.doc.__onload.is_website_generator) {
				this.web_link && this.web_link.remove();
				if(this.doc.__onload.published) {
					this.add_web_link("/" + this.doc.route);
				}
			}
		}

		add_web_link(path, label) {
			label = __(label) || __("See on Website");
			this.web_link = this.sidebar.add_user_action(__(label),
				function() {}).attr("href", path || this.doc.route).attr("target", "_blank");
		}

		has_read_permission() {
			// get perm
			var dt = this.parent_doctype ? this.parent_doctype : this.doctype;
			this.perm = frappe.perm.get_perm(dt, this.doc);

			if(!this.perm[0].read) {
				return 0;
			}
			return 1;
		}

		check_doctype_conflict(docname) {
			if(this.doctype=='DocType' && docname=='DocType') {
				frappe.msgprint(__('Allowing DocType, DocType. Be careful!'));
			} else if(this.doctype=='DocType') {
				if (frappe.views.formview[docname] || frappe.pages['List/'+docname]) {
					window.location.reload();
					//	frappe.msgprint(__("Cannot open {0} when its instance is open", ['DocType']))
					// throw 'doctype open conflict'
				}
			} else {
				if (frappe.views.formview.DocType && frappe.views.formview.DocType.frm.opendocs[this.doctype]) {
					window.location.reload();
					//	frappe.msgprint(__("Cannot open instance when its {0} is open", ['DocType']))
					// throw 'doctype open conflict'
				}
			}
		}

		// rename the form
		// notify this form of renamed records
		rename_notify(dt, old, name) {
			// from form
			if(this.meta.istable)
				{ return; }

			if(this.docname == old)
				{ this.docname = name; }
			else
				{ return; }

			// cleanup
			if(this && this.opendocs[old] && frappe.meta.docfield_copy[dt]) {
				// delete docfield copy
				frappe.meta.docfield_copy[dt][name] = frappe.meta.docfield_copy[dt][old];
				delete frappe.meta.docfield_copy[dt][old];
			}

			delete this.opendocs[old];
			this.opendocs[name] = true;

			if(this.meta.in_dialog || !this.in_form) {
				return;
			}

			frappe.re_route[frappe.router.get_sub_path()] = (encodeURIComponent(frappe.router.slug(this.doctype))) + "/" + (encodeURIComponent(name));
			!frappe._from_link && frappe.set_route('Form', this.doctype, name);
		}

		// ACTIONS

		print_doc() {
			frappe.route_options = {
				frm: this,
			};
			frappe.set_route('print', this.doctype, this.doc.name);
		}

		navigate_records(prev) {
			var this$1 = this;

			var filters, sort_field, sort_order;
			var list_view = frappe.get_list_view(this.doctype);
			if (list_view) {
				filters = list_view.get_filters_for_args();
				sort_field = list_view.sort_by;
				sort_order = list_view.sort_order;
			} else {
				var list_settings = frappe.get_user_settings(this.doctype)['List'];
				if (list_settings) {
					filters = list_settings.filters;
					sort_field = list_settings.sort_by;
					sort_order = list_settings.sort_order;
				}
			}

			var args = {
				doctype: this.doctype,
				value: this.docname,
				filters: filters,
				sort_order: sort_order,
				sort_field: sort_field,
				prev: prev,
			};

			frappe.call('frappe.desk.form.utils.get_next', args).then(function (r) {
				if (r.message) {
					frappe.set_route('Form', this$1.doctype, r.message);
					this$1.focus_on_first_input();
				}
			});
		}

		rename_doc() {
			var this$1 = this;

			frappe.model.rename_doc(this.doctype, this.docname, function () { return this$1.refresh_header(); });
		}

		share_doc() {
			this.shared.show();
		}

		email_doc(message) {
			new frappe.views.CommunicationComposer({
				doc: this.doc,
				frm: this,
				subject: __(this.meta.name) + ': ' + this.docname,
				recipients: this.doc.email || this.doc.email_id || this.doc.contact_email,
				attach_document_print: true,
				message: message
			});
		}

		copy_doc(onload, from_amend) {
			this.validate_form_action("Create");
			var newdoc = frappe.model.copy_doc(this.doc, from_amend);

			newdoc.idx = null;
			newdoc.__run_link_triggers = false;
			if(onload) {
				onload(newdoc);
			}
			frappe.set_route('Form', newdoc.doctype, newdoc.name);
		}

		reload_doc() {
			var this$1 = this;

			this.check_doctype_conflict(this.docname);

			if(!this.doc.__islocal) {
				frappe.model.remove_from_locals(this.doctype, this.docname);
				return frappe.model.with_doc(this.doctype, this.docname, function () {
					this$1.refresh();
				});
			}
		}

		refresh_field(fname) {
			if (this.fields_dict[fname] && this.fields_dict[fname].refresh) {
				this.fields_dict[fname].refresh();
				this.layout.refresh_dependency();
				this.layout.refresh_sections();
			}
		}

		// UTILITIES
		add_fetch(link_field, source_field, target_field, target_doctype) {
			/*
			Example fetch dict to get sender_email from email_id field in sender:
				{
					"Notification": {
						"sender": {
							"sender_email": "email_id"
						}
					}
				}
			*/

			if (!target_doctype) { target_doctype = "*"; }

			// Target field kept as key because source field could be non-unique
			this.fetch_dict
				.setDefault(target_doctype, {})
				.setDefault(link_field, {})[target_field] = source_field;
		}

		has_perm(ptype) {
			return frappe.perm.has_perm(this.doctype, 0, ptype, this.doc);
		}

		dirty() {
			this.doc.__unsaved = 1;
			this.$wrapper.trigger('dirty');
		}

		get_docinfo() {
			return frappe.model.docinfo[this.doctype][this.docname];
		}

		is_dirty() {
			return !!this.doc.__unsaved;
		}

		is_new() {
			return this.doc.__islocal;
		}

		get_perm(permlevel, access_type) {
			return this.perm[permlevel] ? this.perm[permlevel][access_type] : null;
		}

		set_intro(txt, color) {
			this.dashboard.set_headline_alert(txt, color);
		}

		set_footnote(txt) {
			this.footnote_area = frappe.utils.set_footnote(this.footnote_area, this.body, txt);
		}

		add_custom_button(label, fn, group) {
			// temp! old parameter used to be icon
			if (group && group.indexOf("fa fa-") !== -1)
				{ group = null; }

			var btn = this.page.add_inner_button(label, fn, group);

			if (btn) {
				// Add actions as menu item in Mobile View
				var menu_item_label = group ? (group + " > " + label) : label;
				var menu_item = this.page.add_menu_item(menu_item_label, fn, false);
				menu_item.parent().addClass("hidden-xl");

				this.custom_buttons[label] = btn;
			}
			return btn;
		}

		change_custom_button_type(label, group, type) {
			this.page.change_inner_button_type(label, group, type);
		}

		clear_custom_buttons() {
			this.page.clear_inner_toolbar();
			this.page.clear_user_actions();
			this.custom_buttons = {};
		}

		//Remove specific custom button by button Label
		remove_custom_button(label, group) {
			this.page.remove_inner_button(label, group);
		}

		scroll_to_element() {
			if (frappe.route_options && frappe.route_options.scroll_to) {
				var scroll_to = frappe.route_options.scroll_to;
				delete frappe.route_options.scroll_to;

				var selector = [];
				for (var key in scroll_to) {
					var value = scroll_to[key];
					selector.push(repl('[data-%(key)s="%(value)s"]', {key: key, value: value}));
				}

				selector = $(selector.join(" "));
				if (selector.length) {
					frappe.utils.scroll_to(selector);
				}
			}
		}

		show_success_action() {
			var route = frappe.get_route();
			if (route[0] !== 'Form') { return; }
			if (this.meta.is_submittable && this.doc.docstatus !== 1) { return; }

			var success_action = new frappe.ui.form.SuccessAction(this);
			success_action.show();
		}

		get_doc() {
			return locals[this.doctype][this.docname];
		}

		set_currency_labels(fields_list, currency, parentfield) {
			// To set the currency in the label
			// For example Total Cost(INR), Total Cost(USD)
			if (!currency) { return; }
			var me = this;
			var doctype = parentfield ? this.fields_dict[parentfield].grid.doctype : this.doc.doctype;
			var field_label_map = {};
			var grid_field_label_map = {};

			$.each(fields_list, function(i, fname) {
				var docfield = frappe.meta.docfield_map[doctype][fname];
				if(docfield) {
					var label = __(docfield.label || "").replace(/\([^\)]*\)/g, ""); // eslint-disable-line
					if(parentfield) {
						grid_field_label_map[doctype + "-" + fname] =
							label.trim() + " (" + __(currency) + ")";
					} else {
						field_label_map[fname] = label.trim() + " (" + currency + ")";
					}
				}
			});

			$.each(field_label_map, function(fname, label) {
				me.fields_dict[fname].set_label(label);
			});

			$.each(grid_field_label_map, function(fname, label) {
				fname = fname.split("-");
				me.fields_dict[parentfield].grid.update_docfield_property(fname[1], 'label', label);
			});
		}

		field_map(fnames, fn) {
			if(typeof fnames==='string') {
				if(fnames == '*') {
					fnames = Object.keys(this.fields_dict);
				} else {
					fnames = [fnames];
				}
			}
			for (var i=0, l=fnames.length; i<l; i++) {
				var fieldname = fnames[i];
				var field = frappe.meta.get_docfield(cur_frm.doctype, fieldname, this.docname);
				if(field) {
					fn(field);
					this.refresh_field(fieldname);
				}
			}
		}

		get_docfield(fieldname1, fieldname2) {
			if(fieldname2) {
				// for child
				var doctype = this.get_docfield(fieldname1).options;
				return frappe.meta.get_docfield(doctype, fieldname2, this.docname);
			} else {
				// for parent
				return frappe.meta.get_docfield(this.doctype, fieldname1, this.docname);
			}
		}

		set_df_property(fieldname, property, value, docname, table_field, table_row_name) {
			if ( table_row_name === void 0 ) table_row_name=null;

			var df;
			if (!docname || !table_field) {
				df = this.get_docfield(fieldname);
			} else {
				var grid = this.fields_dict[fieldname].grid;
				var filtered_fields = frappe.utils.filter_dict(grid.docfields, {'fieldname': table_field});
				if (filtered_fields.length) {
					df = frappe.meta.get_docfield(filtered_fields[0].parent, table_field, table_row_name);
				}
			}
			if (df && df[property] != value) {
				df[property] = value;
				if (table_field && table_row_name) {
					if (this.fields_dict[fieldname].grid.grid_rows_by_docname[table_row_name]) {
						this.fields_dict[fieldname].grid.grid_rows_by_docname[table_row_name].refresh_field(fieldname);
					}
				} else {
					this.refresh_field(fieldname);
				}
			}
		}

		toggle_enable(fnames, enable) {
			this.field_map(fnames, function(field) {
				field.read_only = enable ? 0 : 1;
			});
		}

		toggle_reqd(fnames, mandatory) {
			this.field_map(fnames, function(field) {
				field.reqd = mandatory ? true : false;
			});
		}

		toggle_display(fnames, show) {
			this.field_map(fnames, function(field) {
				field.hidden = show ? 0 : 1;
			});
		}

		get_files() {
			return this.attachments
				? frappe.utils.sort(this.attachments.get_attachments(), "file_name", "string")
				: [] ;
		}

		set_query(fieldname, opt1, opt2) {
			if(opt2) {
				// on child table
				// set_query(fieldname, parent fieldname, query)
				this.fields_dict[opt1].grid.get_field(fieldname).get_query = opt2;
			} else {
				// on parent table
				// set_query(fieldname, query)
				if(this.fields_dict[fieldname]) {
					this.fields_dict[fieldname].get_query = opt1;
				}
			}
		}

		clear_table(fieldname) {
			frappe.model.clear_table(this.doc, fieldname);
		}

		add_child(fieldname, values) {
			var doc = frappe.model.add_child(this.doc, frappe.meta.get_docfield(this.doctype, fieldname).options, fieldname);
			if(values) {
				// Values of unique keys should not be overridden
				var d = {};
				var unique_keys = ["idx", "name"];

				Object.keys(values).map(function (key) {
					if(!unique_keys.includes(key)) {
						d[key] = values[key];
					}
				});

				$.extend(doc, d);
			}
			return doc;
		}

		set_value(field, value, if_missing) {
			var me = this;
			var _set = function(f, v) {
				var fieldobj = me.fields_dict[f];
				if(fieldobj) {
					if(!if_missing || !frappe.model.has_value(me.doctype, me.doc.name, f)) {
						if(frappe.model.table_fields.includes(fieldobj.df.fieldtype) && $.isArray(v)) {

							frappe.model.clear_table(me.doc, fieldobj.df.fieldname);

							for (var i=0, j=v.length; i < j; i++) {
								var d = v[i];
								var child = frappe.model.add_child(me.doc, fieldobj.df.options,
									fieldobj.df.fieldname, i+1);
								$.extend(child, d);
							}

							me.refresh_field(f);
							return Promise.resolve();
						} else {
							return frappe.model.set_value(me.doctype, me.doc.name, f, v);
						}
					}
				} else {
					frappe.msgprint(__("Field {0} not found.",[f]));
					throw "frm.set_value";
				}
			};

			if(typeof field=="string") {
				return _set(field, value);
			} else if($.isPlainObject(field)) {
				var tasks = [];
				var loop = function ( f ) {
					var v = field[f];
					if(me.get_field(f)) {
						tasks.push(function () { return _set(f, v); });
					}
				};

				for (var f in field) loop( f );
				return frappe.run_serially(tasks);
			}
		}

		call(opts, args, callback) {
			var me = this;
			if(typeof opts==='string') {
				// called as frm.call('do_this', {with_arg: 'arg'});
				opts = {
					method: opts,
					doc: this.doc,
					args: args,
					callback: callback
				};
			}
			if(!opts.doc) {
				if(opts.method.indexOf(".")===-1)
					{ opts.method = frappe.model.get_server_module_name(me.doctype) + "." + opts.method; }
				opts.original_callback = opts.callback;
				opts.callback = function(r) {
					if($.isPlainObject(r.message)) {
						if(opts.child) {
							// update child doc
							opts.child = locals[opts.child.doctype][opts.child.name];

							var std_field_list = ["doctype"].concat(frappe.model.std_fields_list);
							for (var key in r.message) {
								if (std_field_list.indexOf(key)===-1) {
									opts.child[key] = r.message[key];
								}
							}

							me.fields_dict[opts.child.parentfield].refresh();
						} else {
							// update parent doc
							me.set_value(r.message);
						}
					}
					opts.original_callback && opts.original_callback(r);
				};
			} else {
				opts.original_callback = opts.callback;
				opts.callback = function(r) {
					if(!r.exc) { me.refresh_fields(); }

					opts.original_callback && opts.original_callback(r);
				};

			}
			return frappe.call(opts);
		}

		get_field(field) {
			return this.fields_dict[field];
		}

		set_read_only() {
			var docperms = frappe.perm.get_perm(this.doc.doctype);
			this.perm = docperms.map(function (p) {
				return {
					read: p.read,
					cancel: p.cancel,
					share: p.share,
					print: p.print,
					email: p.email
				};
			});
		}

		trigger(event, doctype, docname) {
			return this.script_manager.trigger(event, doctype, docname);
		}

		get_formatted(fieldname) {
			return frappe.format(this.doc[fieldname],
				frappe.meta.get_docfield(this.doctype, fieldname, this.docname),
				{no_icon:true}, this.doc);
		}

		open_grid_row() {
			return frappe.ui.form.get_open_grid_form();
		}

		get_title() {
			if(this.meta.title_field) {
				return this.doc[this.meta.title_field];
			} else {
				return this.doc.name;
			}
		}

		get_selected() {
			// returns list of children that are selected. returns [parentfield, name] for each
			var selected = {}, me = this;
			frappe.meta.get_table_fields(this.doctype).forEach(function(df) {
				// handle TableMultiselect child fields
				var _selected = [];

				if(me.fields_dict[df.fieldname].grid) {
					_selected = me.fields_dict[df.fieldname].grid.get_selected();
				}

				if(_selected.length) {
					selected[df.fieldname] = _selected;
				}
			});
			return selected;
		}

		set_indicator_formatter(fieldname, get_color, get_text) {
			// get doctype from parent
			var doctype;
			if(frappe.meta.docfield_map[this.doctype][fieldname]) {
				doctype = this.doctype;
			} else {
				frappe.meta.get_table_fields(this.doctype).every(function(df) {
					if(frappe.meta.docfield_map[df.options][fieldname]) {
						doctype = df.options;
						return false;
					} else {
						return true;
					}
				});
			}

			frappe.meta.docfield_map[doctype][fieldname].formatter =
				function(value, df, options, doc) {
					if(value) {
						var label;
						if(get_text) {
							label = get_text(doc);
						} else if(frappe.form.link_formatters[df.options]) {
							label = frappe.form.link_formatters[df.options](value, doc);
						} else {
							label = value;
						}

						var escaped_name = encodeURIComponent(value);

						return ("<a class=\"indicator " + (get_color(doc || {})) + "\" href=\"/app/" + (frappe.router.slug(df.options)) + "/" + escaped_name + "\" data-doctype=\"" + doctype + "\" data-name=\"" + value + "\">" + label + "</a>");
					} else {
						return '';
					}
				};
		}

		can_create(doctype) {
			// return true or false if the user can make a particlar doctype
			// will check permission, `can_make_methods` if exists, or will decided on
			// basis of whether the document is submittable
			if(!frappe.model.can_create(doctype)) {
				return false;
			}

			if(this.custom_make_buttons && this.custom_make_buttons[doctype]) {
				// custom buttons are translated and so are the keys
				var key = __(this.custom_make_buttons[doctype]);
				// if the button is present, then show make
				return !!this.custom_buttons[key];
			}

			if(this.can_make_methods && this.can_make_methods[doctype]) {
				return this.can_make_methods[doctype](this);
			} else {
				if(this.meta.is_submittable && !this.doc.docstatus==1) {
					return false;
				} else {
					return true;
				}
			}
		}

		make_new(doctype) {
			// make new doctype from the current form
			// will handover to `make_methods` if defined
			// or will create and match link fields
			var me = this;
			if(this.make_methods && this.make_methods[doctype]) {
				return this.make_methods[doctype](this);
			} else if(this.custom_make_buttons && this.custom_make_buttons[doctype]) {
				this.custom_buttons[__(this.custom_make_buttons[doctype])].trigger('click');
			} else {
				frappe.model.with_doctype(doctype, function() {
					var new_doc = frappe.model.get_new_doc(doctype, null, null, true);

					// set link fields (if found)
					me.set_link_field(doctype, new_doc);

					frappe.ui.form.make_quick_entry(doctype, null, null, new_doc);
					// frappe.set_route('Form', doctype, new_doc.name);
				});
			}
		}

		set_link_field(doctype, new_doc) {
			var me = this;
			frappe.get_meta(doctype).fields.forEach(function(df) {
				if (df.fieldtype === 'Link' && df.options === me.doctype) {
					new_doc[df.fieldname] = me.doc.name;
				} else if (['Link', 'Dynamic Link'].includes(df.fieldtype) && me.doc[df.fieldname]) {
					new_doc[df.fieldname] = me.doc[df.fieldname];
				} else if (df.fieldtype === 'Table' && df.options && df.reqd) {
					var row = new_doc[df.fieldname][0];
					me.set_link_field(df.options, row);
				}
			});
		}

		update_in_all_rows(table_fieldname, fieldname, value) {
			// update the child value in all tables where it is missing
			if(!value) { return; }
			var cl = this.doc[table_fieldname] || [];
			for(var i = 0; i < cl.length; i++){
				if(!cl[i][fieldname]) { cl[i][fieldname] = value; }
			}
			refresh_field("items");
		}

		get_sum(table_fieldname, fieldname) {
			var sum = 0;
			for (var i = 0, list = (this.doc[table_fieldname] || []); i < list.length; i += 1) {
				var d = list[i];

				sum += d[fieldname];
			}
			return sum;
		}

		scroll_to_field(fieldname) {
			var field = this.get_field(fieldname);
			if (!field) { return; }

			var $el = field.$wrapper;

			// uncollapse section
			if (field.section.is_collapsed()) {
				field.section.collapse(false);
			}

			// scroll to input
			frappe.utils.scroll_to($el, true, 15);

			// highlight input
			$el.addClass('has-error');
			setTimeout(function () {
				$el.removeClass('has-error');
				$el.find('input, select, textarea').focus();
			}, 1000);
		}

		show_tour(on_finish) {
			var this$1 = this;

			var tour_info = frappe.tour[this.doctype];

			if (!Array.isArray(tour_info)) {
				return;
			}

			var driver = new frappe.Driver({
				className: 'frappe-driver',
				allowClose: false,
				padding: 10,
				overlayClickNext: true,
				keyboardControl: true,
				nextBtnText: 'Next',
				prevBtnText: 'Previous',
				opacity: 0.25
			});

			this.layout.sections.forEach(function (section) { return section.collapse(false); });

			var steps = tour_info.map(function (step) {
				var field = this$1.get_docfield(step.fieldname);
				return {
					element: (".frappe-control[data-fieldname='" + (step.fieldname) + "']"),
					popover: {
						title: step.title || field.label,
						description: step.description,
						position: step.position || 'bottom'
					},
					onNext: function () {
						var next_condition_satisfied = this$1.layout.evaluate_depends_on_value(step.next_step_condition || true);
						if (!next_condition_satisfied) {
							driver.preventMove();
						}

						if (!driver.hasNextStep()) {
							on_finish && on_finish();
						}
					}
				};
			});

			driver.defineSteps(steps);
			frappe.router.on('change', function () { return driver.reset(); });
			driver.start();
		}

		setup_docinfo_change_listener() {
			var this$1 = this;

			var doctype = this.doctype;
			var docname = this.docname;
			var listener_name = "update_docinfo_for_" + doctype + "_" + docname;
			// to avoid duplicates
			frappe.realtime.off(listener_name);
			frappe.realtime.on(listener_name, function (ref) {
				var doc = ref.doc;
				var key = ref.key;
				var action = ref.action; if ( action === void 0 ) action = 'update';

				var doc_list = (frappe.model.docinfo[doctype][docname][key] || []);
				if (action === 'add') {
					frappe.model.docinfo[doctype][docname][key].push(doc);
				}

				var docindex = doc_list.findIndex(function (old_doc) {
					return old_doc.name === doc.name;
				});

				if (docindex > -1) {
					if (action === 'update') {
						frappe.model.docinfo[doctype][docname][key].splice(docindex, 1, doc);
					}
					if (action === 'delete') {
						frappe.model.docinfo[doctype][docname][key].splice(docindex, 1);
					}
				}
				// no need to update timeline of owner of comment
				// gets handled via comment submit code
				if (!(['add', 'update'].includes(action) && doc.doctype === 'Comment' && doc.owner === frappe.session.user)) {
					this$1.timeline && this$1.timeline.refresh();
				}
			});
		}

		// Filters fields from the reference doctype and sets them as options for a Select field
		set_fields_as_options(fieldname, reference_doctype, filter_function, default_options, table_fieldname) {
			var this$1 = this;
			if ( default_options === void 0 ) default_options=[];

			if (!reference_doctype) { return Promise.resolve(); }
			var options = default_options || [];
			if (!filter_function) { filter_function = function (f) { return f; }; }
			return new Promise(function (resolve) {
				frappe.model.with_doctype(reference_doctype, function () {
					frappe.get_meta(reference_doctype).fields.map(function (df) {
						filter_function(df) && options.push({ label: df.label, value: df.fieldname });
					});
					options && this$1.set_df_property(fieldname, 'options', options, this$1.doc.name, table_fieldname);
					resolve(options);
				});
			});
		}
	};

	frappe.validated = 0;
	// Proxy for frappe.validated
	Object.defineProperty(window, 'validated', {
		get: function() {
			console.warn('Please use `frappe.validated` instead of `validated`. It will be deprecated soon.'); // eslint-disable-line
			return frappe.validated;
		},
		set: function(value) {
			console.warn('Please use `frappe.validated` instead of `validated`. It will be deprecated soon.'); // eslint-disable-line
			frappe.validated = value;
			return frappe.validated;
		}
	});

	frappe.provide('frappe.model');
	frappe.provide('frappe.utils');

	/**
	 * Opens the Website Meta Tag form if it exists for {route}
	 * or creates a new doc and opens the form
	 */
	frappe.utils.set_meta_tag = function(route) {
		frappe.db.exists('Website Route Meta', route)
			.then(function (exists) {
				if (exists) {
					frappe.set_route('Form', 'Website Route Meta', route);
				} else {
					// new doc
					var doc = frappe.model.get_new_doc('Website Route Meta');
					doc.__newname = route;
					frappe.set_route('Form', doc.doctype, doc.name);
				}
			});
	};

}());
//# sourceMappingURL=form.min.js.map
